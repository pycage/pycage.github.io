{"version":2,"resources":{"core/high.js":"\"use strict\";exports.__id=\"shellfish/high\";shRequire(__dirname+\"/mid.js\",function(mid){let dvCounter=0;let totalWatchCount=0;const elementRegistry=new Map;function isDynamicValue(v){return v!==null&&v!==undefined&&v._sh_dynamic_value===true}exports.isDynamicValue=isDynamicValue;let d=new WeakMap;const propertiesCache=new Map;function allKeys(obj){let keys=Object.getOwnPropertyNames(obj).filter(n=>n!==\"constructor\");const proto=Object.getPrototypeOf(obj);if(!proto.hasOwnProperty(\"hasOwnProperty\")){keys=keys.concat(allKeys(proto))}return keys}class Element{constructor(type){this._sh_element=true;d.set(this,{element:null,id:{},changeWatchers:[],propertySupplyHandles:{},dormantProperties:{},customProperties:{},flushingCallbacks:[],childrenCache:null,findCache:{}});const el=new type;d.get(this).element=el;elementRegistry.set(el,this);if(!propertiesCache.has(type)){propertiesCache.set(type,allKeys(el))}propertiesCache.get(type).forEach(prop=>{this.bindProperty(prop)});this.property(\"profiles\",[]);el.onChildrenChanged=()=>{d.get(this).childrenCache=null;d.get(this).findCache={}};el.onInitialization=()=>{this.flushPending()};el.onDestruction=()=>{for(let key in d.get(this).propertySupplyHandles){d.get(this).propertySupplyHandles[key].unwatch()}d.get(this).changeWatchers.forEach(handle=>{handle.unwatch()});d.get(this).childrenCache=null;d.get(this).findCache={};elementRegistry.delete(el)}}get(){return d.get(this).element}id(i,ns){ns=ns||\"\";if(i===undefined){return d.get(this).id[ns]||\"\"}else{d.get(this).id[ns]=i;return this}}add(child){d.get(this).element.add(child.get());return this}call(name){let args=[];for(let i=1;i<arguments.length;++i){args.push(arguments[i])}const el=d.get(this).element;el[name].apply(el,args);return this}property(name,value){const priv=d.get(this);const el=priv.element;let prop=undefined;el.addProperty(name,()=>prop,v=>{prop=v});priv.customProperties[name]=true;this.bindProperty(name);this.setProperty(name,value);this.bindProperty(name+\"Changed\");if(typeof value===\"number\"){el.transitionable(name);this.bindProperty(name+\"Transition\")}if(name===\"profiles\"){el.onProfilesChanged=()=>{el.profiles.forEach(obj=>{Object.keys(d.get(obj).customProperties).filter(p=>p!=\"profiles\").forEach(profileProp=>{this[profileProp](obj[profileProp])})})}}return this}event(name){const uname=name[0].toUpperCase()+name.substr(1);const onEvent=\"on\"+uname;const priv=d.get(this);priv.element.registerEvent(name);this.bindProperty(name);this.bindProperty(onEvent);return this}use(el){return el}crossConnect(getEl,event){const setup=f=>{let el=getEl();if(!!el&&el._sh_dynamic_value){el=el()}if(!!el){el.get().connect(event,this.get(),f)}else{this.addPendingCallback(()=>setup(f))}};return f=>{this.addPendingCallback(()=>setup(f));return this}}addPendingCallback(cb){d.get(this).flushingCallbacks.push(cb);return this}flushPending(){const cbs=d.get(this).flushingCallbacks;d.get(this).flushingCallbacks=[];cbs.forEach(cb=>{cb()})}child(n){const cs=this.children();if(n>=0){return cs[n]}else{return cs[cs.length+n]}}children(type){const priv=d.get(this);if(priv.childrenCache===null){priv.childrenCache=d.get(this).element.children.filter(c=>elementRegistry.has(c)).filter(c=>type===undefined||c instanceof type).map(c=>elementRegistry.get(c))}return priv.childrenCache}find(id,ns){const priv=d.get(this);ns=ns||\"\";if(id===priv.id[ns]){return this}else{const child=priv.findCache[id];if(child){const obj=child.find(id,ns);if(obj){return obj}}else{const cs=this.children();for(let i=0;i<cs.length;++i){const obj=cs[i].find(id,ns);if(obj){priv.findCache[id]=cs[i];return obj}}}}return undefined}setProperty(prop,value){const priv=d.get(this);const unwrap=v=>{if(v===undefined||v===null||typeof v===\"number\"||typeof v===\"string\"){return v}else if(v instanceof Element){return v.get()}else{return v}};const handle=priv.propertySupplyHandles[prop];if(handle){handle.unwatch()}if(exports.isDynamicValue(value)){const handle=value.watch(()=>{const uv=unwrap(value.val);if(uv!==undefined){priv.element.change(prop,uv)}});priv.propertySupplyHandles[prop]=handle;const v=value.val;if(v!==undefined){priv.element[prop]=unwrap(v)}if(priv.customProperties[prop]&&priv.dormantProperties[prop]){handle.setEnabled(false)}}else if(typeof value===\"function\"){priv.element[prop]=(...args)=>{const r=unwrap(value).apply(priv.element,args);return r instanceof Element?r.get():r}}else if(value instanceof Element){priv.element[prop]=unwrap(value)}else{priv.element.change(prop,unwrap(value))}return this}getProperty(prop){const priv=d.get(this);if(priv.dormantProperties[prop]){priv.dormantProperties[prop]=false;const handle=priv.propertySupplyHandles[prop];if(handle){handle.setEnabled(true)}}const obj=priv.element[prop];const objType=typeof obj;if(objType===\"function\"){return(...args)=>{const r=obj.apply(priv.element,args);if(r instanceof mid.Object){return elementRegistry.has(r)?elementRegistry.get(r):r}else{return r}};return function(){return obj.apply(priv.element,arguments)}}else if(obj&&obj instanceof mid.Object){return elementRegistry.has(obj)?elementRegistry.get(obj):obj}else{return obj}}bindProperty(prop){if(prop.startsWith(\"on\")&&prop.endsWith(\"Changed\")){return}const priv=d.get(this);const el=priv.element;let targetName=prop;if(this[targetName]!==undefined){targetName=prop+\"_\"}const propType=el.typeOf(prop);if(propType===\"method\"){this[targetName]=(...args)=>el[prop].apply(el,args);return}let cachedValue=undefined;const isCustomProperty=priv.customProperties[prop];let p=exports.dynamicValue();p._sh_annotation=el.objectType+\"@\"+el.objectLocation+\".\"+prop;p.setter=v=>{return this.setProperty(prop,v)};p.getter=()=>{return cachedValue||this.getProperty(prop)};if(prop!==\"profiles\"){priv.dormantProperties[prop]=true}p.watched(()=>{priv.dormantProperties[prop]=false;if(isCustomProperty){const handle=priv.propertySupplyHandles[prop];if(handle){handle.setEnabled(true)}}});p.unwatched(()=>{priv.dormantProperties[prop]=true;cachedValue=undefined;if(isCustomProperty){const handle=priv.propertySupplyHandles[prop];if(handle){handle.setEnabled(false)}}});let uprop=prop[0].toUpperCase()+prop.substr(1);if(el[\"on\"+uprop+\"Changed\"]!==undefined){el[\"on\"+uprop+\"Changed\"]=()=>{if(!priv.dormantProperties[prop]){cachedValue=this.getProperty(prop);p.update()}};this[\"on\"+uprop+\"Changed\"]=cb=>{const handle=p.watch(()=>{cb.apply(this,[p])});priv.changeWatchers.push(handle);return this}}this[targetName]=p}}function element(type){return new Element(type)}exports.element=element;function routedElement(el,routeTo){if(routeTo){const proxy=Object.create(el);d.set(proxy,d.get(el));proxy.add=function(child){routeTo.add(child);return this};proxy.children=function(t){return routeTo.children(t)};proxy.id=function(i,ns){return el.id(i,ns)};return proxy}else{return el}}exports.routedElement=routedElement;function dynamicValue(value){++dvCounter;let idCounter=0;let watchers={};let watchersEnabled={};let watchCount=0;let activeWatchCount=0;let onUnwatched=null;let onWatched=null;let storedValue=value;let cachedValue=undefined;let mayUseCache=false;let f=function(v){if(v!==undefined){cachedValue=undefined;return f.setter(v)}else{if(!mayUseCache){return f.getter()}if(!cachedValue){cachedValue=f.getter()}return cachedValue}};f.setter=function(v){storedValue=v};f.getter=function(){return storedValue};f.watch=watchCallback=>{let watchId=idCounter;++idCounter;++totalWatchCount;++watchCount;++activeWatchCount;watchers[watchId]=watchCallback;watchersEnabled[watchId]=true;if(watchCount===1&&onWatched){onWatched()}return{value:()=>{return f.getter()},setEnabled:enabled=>{if(enabled!==watchersEnabled[watchId]&&watchers[watchId]){watchersEnabled[watchId]=enabled;activeWatchCount+=enabled?1:-1;if(enabled&&watchers[watchId]){try{watchers[watchId]()}catch(err){console.error(`[${mid.dbgctx}] DynamicValue.update (${f._sh_annotation}): ${err}`)}}}},unwatch:()=>{--totalWatchCount;--watchCount;--activeWatchCount;delete watchers[watchId];if(watchCount===0&&onUnwatched){onUnwatched()}}}};f.update=()=>{if(activeWatchCount>0){cachedValue=undefined;mayUseCache=true;for(let watchId in watchers){if(!watchersEnabled[watchId]){continue}try{watchers[watchId]()}catch(err){console.error(`[${mid.dbgctx}] DynamicValue.update (${f._sh_annotation}): ${err}`)}}cachedValue=undefined;mayUseCache=false}};f.unwatched=callback=>{onUnwatched=callback;cachedValue=undefined};f.watched=callback=>{onWatched=callback};Object.defineProperty(f,\"val\",{get:()=>{if(!mayUseCache){return f.getter()}if(!cachedValue){cachedValue=f.getter()}return cachedValue},set:v=>{cachedValue=undefined;f.setter(v)}});f._sh_dynamic_value=true;f._sh_really_undefined=false;f._sh_annotation=\"\";return f}exports.dynamicValue=dynamicValue;function binding(deps,evaluator,annotation){let handles=[];let cachedValue=null;function setup(b,newDeps){handles.forEach(h=>{h.unwatch()});handles=[];newDeps.forEach(dep=>{const handle=dep.watch(()=>{cachedValue=null;b.update()});handles.push(handle)})}const b=exports.dynamicValue(undefined);b._sh_annotation=annotation||\"\";b.getter=()=>{if(cachedValue!==null){return cachedValue}if(deps.filter(d=>d.val===undefined&&!d._sh_really_undefined).length!==0){return undefined}try{cachedValue=evaluator(...deps);return cachedValue}catch(err){console.error(`[${mid.dbgctx}] Could not evaluate binding: ${b._sh_annotation}\\n${deps.map(d=>\"- \"+d._sh_annotation+\" = \"+d.val).join(\"\\n\")}`);return undefined}};b.unwatched(()=>{handles.forEach(function(h){h.unwatch()})});setup(b,deps);return b}exports.binding=binding;function chainRef(root,chain,resolver){let handles=[];let b=exports.dynamicValue(undefined);b._sh_annotation=chain.join(\".\");function resolveChain(obj,chain){let ch=chain.slice();if(obj===null){obj=resolver(ch.shift())}ch.forEach(c=>{const v=obj&&obj._sh_dynamic_value?obj.val:obj;const next=v!==undefined&&v!==null?v[c]:undefined;if(typeof next===\"function\"&&!next._sh_dynamic_value){obj=(...args)=>v[c](...args)}else{obj=next}});return obj}function setup(){handles.forEach(h=>{h.unwatch()});handles=[];let obj=null;let targetObj=null;let dvs=[];chain.forEach((c,i)=>{obj=resolveChain(obj,[c]);if(obj&&obj._sh_dynamic_value){dvs.push(obj)}});if(obj===undefined){for(let i=0;i<dvs.length;++i){const handle=dvs[i].watch(()=>{setup()});handles.push(handle)}if(root.lifeCycleStatus()===\"new\"){root.addPendingCallback(setup)}else{b._sh_really_undefined=true;b.update()}}else if(dvs.length>0){for(let i=0;i<dvs.length-1;++i){const handle=dvs[i].watch(()=>{setup()});handles.push(handle)}const dv=dvs[dvs.length-1];const handle=dv.watch(()=>{b.update()});handles.push(handle);const items=chain.slice();if(obj._sh_dynamic_value){b.getter=()=>{return obj.val}}else{b.getter=()=>{return resolveChain(null,items)}}b.update()}else{b.getter=()=>{return obj};b.update()}}root.addPendingCallback(setup);b.unwatched(()=>{handles.forEach(h=>{h.unwatch()});handles=[]});return b}exports.chainRef=chainRef});","core/low.js":"\"use strict\";exports.__id=\"shellfish/low\";function escapeHtml(text){return text.replace(/[\\\"'&<>]/g,function(a){return{\"\\\"\":\"&quot;\",\"'\":\"&apos;\",\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\"}[a]})}exports.escapeHtml=escapeHtml;function resolveIcons(text){var out=\"\";var lastPos=0;var pos=text.indexOf(\"[icon:\");while(pos!==-1){out+=text.substring(lastPos,pos);var endPos=text.indexOf(\"]\",pos);var iconName=text.substring(pos+6,endPos);out+=exports.tag(\"span\").class(\"sh-fw-icon sh-icon-\"+iconName).html();lastPos=endPos+1;pos=text.indexOf(\"[icon:\",lastPos)}out+=text.substring(lastPos);return out}exports.resolveIcons=resolveIcons;function resolveMarkup(text){const modeStack=[\"normal\"];let out=\"\";for(let i=0;i<text.length;++i){const c=text[i];const mode=modeStack[modeStack.length-1];if(c===\"\\\\\"){++i;out+=text[i]}else if(c===\"<\"){while(text[i]!==\">\"){out+=text[i];++i}out+=text[i]}else if(c===\"_\"){if(mode===\"underline\"){out+=\"</span>\";modeStack.pop()}else{out+=\"<span class=\\\"sh-underline\\\">\";modeStack.push(\"underline\")}}else if(c===\"*\"){if(text[i+1]===\"*\"){if(mode===\"bold\"){out+=\"</span>\";modeStack.pop()}else{out+=\"<span class=\\\"sh-bold\\\">\";modeStack.push(\"bold\")}++i}else{if(mode===\"italic\"){out+=\"</span>\";modeStack.pop()}else{out+=\"<span class=\\\"sh-italic\\\">\";modeStack.push(\"italic\")}}}else{out+=c}}while(modeStack.length>1){modeStack.pop();out+=\"</span>\"}return out}exports.resolveMarkup=resolveMarkup;function pxToRem(px){const fontSize=window.getComputedStyle(document.querySelector(\"html\"))[\"font-size\"];return px/parseFloat(fontSize)}exports.pxToRem=pxToRem;function remToPx(rem){const fontSize=window.getComputedStyle(document.querySelector(\"html\"))[\"font-size\"];return rem*parseFloat(fontSize)}exports.remToPx=remToPx;function css(target,key,value){if(value!==undefined&&target.style){target.style.setProperty(key,String(value))}else{const computed=window.getComputedStyle(target);return computed?String(computed.getPropertyValue(key)).trim():\"\"}}exports.css=css;function createElementTree(html){const node=document.createElement(\"div\");node.innerHTML=html;return node.firstChild}exports.createElementTree=createElementTree;const d=new WeakMap;const NON_CLOSE_TAGS=[\"link\",\"meta\",\"br\",\"hr\",\"img\",\"input\"];class Tag{constructor(t){d.set(this,{tag:t,attrs:[],style:[],content:[]})}attr(key,value){d.get(this).attrs.push([key,value]);return this}style(key,value){d.get(this).style.push([key,value]);return this}id(id){d.get(this).attrs.push([\"id\",id]);return this}class(c){d.get(this).attrs.push([\"class\",c]);return this}data(name,value){d.get(this).attrs.push([\"data-\"+name,value]);return this}on(ev,handler){d.get(this).attrs.push([\"on\"+ev,handler]);return this}content(c){if(typeof c===\"string\"){d.get(this).content.push(new Data(c))}else{d.get(this).content.push(c)}return this}child(n){if(n>=0){return d.get(this).content[n]}else{return d.get(this).content[d.get(this).content.length+n]}}html(){const priv=d.get(this);const tag=priv.tag;const attrs=priv.attrs;const style=priv.style;let out=\"\";if(tag!==\"\"){out+=\"<\"+tag;attrs.forEach(a=>{out+=\" \"+a[0]+\"=\\\"\"+escapeHtml(a[1])+\"\\\"\"});if(style.length>0){out+=\" style = \\\"\";style.forEach(s=>{out+=s[0]+\": \"+s[1]+\"; \"});out+=\"\\\"\"}out+=\">\"}priv.content.forEach(c=>{out+=c.html()});if(tag!==\"\"){if(!NON_CLOSE_TAGS.includes(tag)){out+=\"</\"+tag+\">\\n\"}}return out}}class Data{constructor(dat){d.set(this,{data:dat})}html(){return d.get(this).data}}function tag(t){return new Tag(t)}exports.tag=tag;function focusables(){const selector=\":not([class~=\\\"sh-hidden\\\"])\"+\":not([class~=\\\"sh-disabled\\\"])\"+\" \"+\"[data-role=\\\"sh-focusable\\\"]\"+\":not([class~=\\\"sh-hidden\\\"])\"+\":not([class~=\\\"sh-disabled\\\"])\";return document.querySelectorAll(selector)}exports.focusables=focusables;function focusPrevious(){const whence=document.activeElement;const focusables=exports.focusables();let pos=-1;for(let i=0;i<focusables.length;++i){if(focusables[i]===whence){pos=i;break}}if(pos>0){focusables[pos-1].focus({preventScroll:false})}}exports.focusPrevious=focusPrevious;function focusNext(){const whence=document.activeElement;const focusables=exports.focusables();let pos=-1;for(let i=0;i<focusables.length;++i){if(focusables[i]===whence){pos=i;break}}if(pos!==-1&&pos+1<focusables.length){focusables[pos+1].focus({preventScroll:false})}}exports.focusNext=focusNext;function fullscreenStatus(){var state=document.webkitIsFullScreen||document.mozFullScreen||document.fullScreen;return state===true}exports.fullscreenStatus=fullscreenStatus;function fullscreenEnter(target){var e=target;if(e.webkitRequestFullscreen){e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else if(e.mozRequestFullScreen){e.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else if(e.msRequestFullscreen){e.msRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else if(e.requestFullscreen){e.requestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}exports.fullscreenEnter=fullscreenEnter;function fullscreenExit(){if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.exitFullscreen){document.exitFullscreen()}}exports.fullscreenExit=fullscreenExit;const animationFrameHandlers=new Map;let duringFrameUpdate=false;function addFrameHandler(handler,annotation){let handle=Date.now()+\"\"+animationFrameHandlers.size;animationFrameHandlers.set(handle,{callback:handler,annotation:annotation||\"<no annotation>\"});if(animationFrameHandlers.size===1){window.requestAnimationFrame(function callback(timestamp){duringFrameUpdate=true;for(let key of animationFrameHandlers.keys()){animationFrameHandlers.get(key).callback(timestamp)}duringFrameUpdate=false;if(animationFrameHandlers.size>0){window.requestAnimationFrame(callback)}})}return{cancel:()=>{animationFrameHandlers.delete(handle)}}}exports.addFrameHandler=addFrameHandler;function activeFrameHandlers(){const result=[];animationFrameHandlers.forEach((v,k)=>result.push(v.annotation));return result}exports.activeFrameHandlers=activeFrameHandlers;function isFrameUpdate(){return duringFrameUpdate}exports.isFrameUpdate=isFrameUpdate;function registerTopDownEvent(node,name,cb){node.addEventListener(name,function(){let ev=new Event(name);if(cb(ev)){for(let i=0;i<node.children.length;++i){node.children[i].dispatchEvent(ev)}}})}exports.registerTopDownEvent=registerTopDownEvent;function triggerTopDownEvent(node,name){let ev=new Event(name);node.dispatchEvent(ev)}exports.triggerTopDownEvent=triggerTopDownEvent;function saveBlob(blob,filename){const url=URL.createObjectURL(blob);const a=document.createElement(\"a\");a.setAttribute(\"href\",url);a.setAttribute(\"download\",filename);a.style.display=\"none\";document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url)}exports.saveBlob=saveBlob;class FetchManager{constructor(concurrencyLimit){d.set(this,{concurrencyLimit:concurrencyLimit||4,fetchCount:0,queue:[],aborter:null});if(typeof AbortController!==\"undefined\"){d.get(this).aborter=new AbortController}}next(){const priv=d.get(this);if(priv.queue.length>0&&priv.fetchCount<priv.concurrencyLimit){const item=priv.queue.shift();++priv.fetchCount;fetch(item.url,item.options).then(response=>{--priv.fetchCount;item.resolve(response);this.next()}).catch(err=>{--priv.fetchCount;item.reject(err);this.next()})}}fetch(url,options){const priv=d.get(this);return new Promise((resolve,reject)=>{if(priv.aborter&&options){options.signal=priv.aborter.signal}else{options={signal:priv.aborter.signal}}priv.queue.push({url,options,resolve,reject});if(priv.queue.length===1){this.next()}})}fetchPriorized(url,options){const priv=d.get(this);return new Promise((resolve,reject)=>{if(priv.aborter&&options){options.signal=priv.aborter.signal}else{options={signal:priv.aborter.signal}}priv.queue.unshift({url,options,resolve,reject});if(priv.queue.length===1){this.next()}})}abort(){const priv=d.get(this);priv.queue.forEach(item=>item.reject(\"aborted\"));priv.queue.length=0;if(priv.aborter){priv.aborter.abort();priv.aborter=new AbortController}}}exports.FetchManager=FetchManager;","core/mid/animation.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/object.js\"],function(low,obj){const d=new WeakMap;class Animation extends obj.Object{constructor(){super();this._sh_animation=true;d.set(this,{busy:false,repeat:false,running:false,finishHandler:null});this.notifyable(\"busy\");this.notifyable(\"repeat\");this.notifyable(\"running\");this.registerEvent(\"begin\");this.registerEvent(\"finish\");this.onBegin=()=>{d.get(this).busy=true;this.busyChanged()};this.onFinish=()=>{const f=d.get(this).finishHandler;if(f){d.get(this).finishHandler=null;f()}d.get(this).busy=false;this.busyChanged()};this.onRunningChanged=()=>{if(d.get(this).running){this.start()}}}get busy(){return d.get(this).busy}get repeat(){return d.get(this).repeat}set repeat(v){d.get(this).repeat=v;this.repeatChanged()}get running(){return d.get(this).running}set running(v){d.get(this).running=v;this.runningChanged()}start(){this.begin();return new Promise((resolve,reject)=>{d.get(this).finishHandler=resolve})}}exports.Animation=Animation});","core/mid/box.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){const HTML=low.createElementTree(low.tag(\"div\").class(\"sh-no-scrollbars sh-layout-column\").style(\"position\",\"relative\").style(\"width\",\"auto\").style(\"height\",\"auto\").style(\"border-color\",\"black\").style(\"border-width\",\"0\").style(\"border-style\",\"solid\").style(\"border-radius\",\"0\").style(\"overflow\",\"hidden\").html());const d=new WeakMap;class Box extends item.Item{constructor(){super();d.set(this,{color:this.colorName(\"transparent\"),borderColor:this.colorName(\"black\"),borderWidth:0,borderRadius:0,borderStyle:\"solid\",gradient:\"\",layout:\"column\",overflowBehavior:\"none\",scrollbars:false,currentCssClass:\"sh-layout-column\",item:HTML.cloneNode()});this.notifyable(\"color\");this.notifyable(\"borderColor\");this.notifyable(\"borderRadius\",true);this.notifyable(\"borderStyle\",true);this.notifyable(\"borderWidth\",true);this.notifyable(\"gradient\");this.notifyable(\"layout\");this.notifyable(\"overflowBehavior\");this.notifyable(\"scrollbars\",true);this.onInitialization=()=>{this.updateLayout()}}get color(){return d.get(this).color}set color(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"background-color\",col.toCss());d.get(this).color=col;this.colorChanged()}get gradient(){return d.get(this).gradient}set gradient(expression){d.get(this).gradient=expression;this.css(\"background\",expression);this.gradientChanged()}updateBorder(){const priv=d.get(this);this.css(\"border-style\",priv.borderStyle);this.css(\"border-width\",priv.borderWidth+\"px\");this.css(\"border-color\",priv.borderColor.toCss())}get borderWidth(){return d.get(this).borderWidth}set borderWidth(w){d.get(this).borderWidth=w;this.updateBorder();this.borderWidthChanged()}get borderColor(){return d.get(this).borderColor}set borderColor(c){const col=typeof c===\"string\"?this.colorName(c):c;d.get(this).borderColor=col;this.updateBorder();this.borderColorChanged()}get borderRadius(){return d.get(this).borderRadius}set borderRadius(r){this.css(\"border-radius\",r+\"px\");d.get(this).borderRadius=r;this.borderRadiusChanged()}get borderStyle(){return d.get(this).borderStyle}set borderStyle(s){d.get(this).borderStyle=s;this.updateBorder();this.borderStyleChanged()}get layout(){return d.get(this).layout}set layout(l){d.get(this).layout=l;this.updateLayout();this.layoutChanged()}get overflowBehavior(){return d.get(this).overflowBehavior}set overflowBehavior(b){d.get(this).overflowBehavior=b;this.updateLayout();this.overflowBehaviorChanged()}get scrollbars(){return d.get(this).scrollbars}set scrollbars(value){d.get(this).scrollbars=value;if(value){d.get(this).item.classList.remove(\"sh-no-scrollbars\")}else{d.get(this).item.classList.add(\"sh-no-scrollbars\")}this.scrollbarsChanged()}updateLayout(){if(!this.visible){return}const item=this.get();const priv=d.get(this);function setLayoutClass(newCls){if(newCls!==priv.currentCssClass){item.classList.remove(priv.currentCssClass);item.classList.add(newCls);priv.currentCssClass=newCls}}switch(priv.layout){case\"column\":setLayoutClass(\"sh-layout-column\");break;case\"row\":setLayoutClass(\"sh-layout-row\");break;case\"center\":case\"center-column\":setLayoutClass(\"sh-layout-center-column\");break;case\"center-row\":setLayoutClass(\"sh-layout-center-row\");break;default:throw`Invalid value for layout (${this.objectLocation}): ${d.get(this).layout}`;}switch(d.get(this).overflowBehavior){case\"none\":this.css(\"flex-wrap\",\"nowrap\");this.css(\"overflow\",\"hidden\");break;case\"wrap\":this.css(\"flex-wrap\",\"wrap\");this.css(\"overflow\",\"hidden\");break;case\"scroll\":this.css(\"flex-wrap\",\"nowrap\");this.css(\"overflow\",\"auto\");break;default:throw`Invalid value for overflowBehavior (${this.objectLocation}): ${d.get(this).overflowBehavior}`;}}add(child){child.parent=this;if(child.get){const f=()=>d.get(this).item.appendChild(child.get());if(this.lifeCycleStatus===\"new\"){this.withoutSizing(f)}else{f()}}}get(){return d.get(this).item}}exports.Box=Box});","core/mid/cameraview.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){const RESOLUTIONS=[[\"4K\",3840,2160],[\"1080p\",1920,1080],[\"720p\",1280,720],[\"SVGA\",800,600],[\"VGA\",640,480],[\"CIF\",352,288],[\"QVGA\",320,240],[\"QQVGA\",160,120]];const DEFAULT_DEVICES=[{label:\"Default Camera\",deviceId:\"user\"}];const d=new WeakMap;class CameraView extends item.Item{constructor(){super();d.set(this,{devices:DEFAULT_DEVICES.slice(),deviceId:\"user\",maxResolution:\"720p\",active:false,status:\"inactive\",item:low.createElementTree(low.tag(\"video\").html())});this.notifyable(\"devices\");this.notifyable(\"deviceId\");this.notifyable(\"maxResolution\");this.notifyable(\"active\");this.notifyable(\"status\");this.notifyable(\"originalWidth\");this.notifyable(\"originalHeight\");if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){const enumerate=()=>{console.log(\"enumerate camera devices\");navigator.mediaDevices.enumerateDevices().then(devs=>{if(!devs){console.warn(\"The browser may have refused to enumerate the camera devices.\");return}const devices=DEFAULT_DEVICES.slice();let n=1;devs.forEach(dev=>{if(dev.kind===\"videoinput\"){devices.push({deviceId:dev.deviceId,label:dev.label!==\"\"?dev.label:\"Camera \"+n});++n}});console.log(JSON.stringify(devices));d.get(this).devices=devices;this.devicesChanged()})};const item=d.get(this).item;this.addHtmlEventListener(item,\"loadedmetadata\",ev=>{this.originalWidthChanged();this.originalHeightChanged()});this.addHtmlEventListener(item,\"playing\",()=>{d.get(this).status=\"active\";this.statusChanged()});this.addHtmlEventListener(item,\"error\",()=>{d.get(this).status=\"error\";this.statusChanged()});this.addHtmlEventListener(navigator.mediaDevices,\"devicechange\",ev=>{enumerate()},false);this.onStatusChanged=()=>{if(d.get(this).status===\"active\"){enumerate()}};enumerate()}this.onDestruction=()=>{if(d.get(this).status===\"active\"){this.stop()}}}get originalWidth(){return d.get(this).item.videoWidth}get originalHeight(){return d.get(this).item.videoHeight}get devices(){return d.get(this).devices}get resolutions(){return RESOLUTIONS.map(r=>r[0])}get deviceId(){return d.get(this).deviceId}set deviceId(deviceId){const prevDevId=d.get(this).deviceId;d.get(this).deviceId=deviceId;this.deviceIdChanged();console.log(\"set deviceId = \"+deviceId);if(d.get(this).status===\"active\"&&deviceId!==prevDevId){this.active=false;this.active=true}}get maxResolution(){return d.get(this).maxResolution}set maxResolution(res){const prevRes=d.get(this).maxResolution;d.get(this).maxResolution=res;this.maxResolutionChanged();if(d.get(this).status===\"active\"&&res!==prevRes){this.active=false;this.active=true}}get active(){return d.get(this).active}set active(value){if((d.get(this).status===\"inactive\"||d.get(this).status===\"error\")&&value){this.start(ok=>{})}else if(d.get(this).status===\"active\"){this.stop()}}get status(){return d.get(this).status}get image(){return d.get(this).item}start(callback){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const resolutions=RESOLUTIONS.slice();while(resolutions.length>0&&resolutions[0][0]!==d.get(this).maxResolution){resolutions.shift()}const tryNextResolution=()=>{if(resolutions.length===0){d.get(this).status=\"error\";this.statusChanged();callback(false);return}const res=resolutions.shift();const constraints={video:{}};constraints.video.width={ideal:res[1]};constraints.video.height={ideal:res[2]};switch(d.get(this).deviceId){case\"user\":constraints.video.facingMode=\"user\";break;case\"environment\":constraints.video.facingMode=\"environment\";break;default:constraints.video.deviceId={exact:d.get(this).deviceId};break;}console.log(JSON.stringify(constraints));navigator.mediaDevices.getUserMedia(constraints).then(stream=>{const video=d.get(this).item;video.srcObject=stream;video.play();d.get(this).active=true;this.activeChanged();callback(true)}).catch(err=>{console.error(\"Failed to request resolution: \"+JSON.stringify(res));console.error(err);tryNextResolution()})};d.get(this).status=\"pending\";this.statusChanged();tryNextResolution()}else{d.get(this).status=\"error\";this.statusChanged();callback(false)}}stop(){const video=d.get(this).item;const stream=video.srcObject;const tracks=stream.getTracks();for(let i=0;i<tracks.length;++i){tracks[i].stop()}video.srcObject=null;this.originalWidthChanged();this.originalHeightChanged();d.get(this).status=\"inactive\";this.statusChanged();d.get(this).active=false;this.activeChanged()}get(){return d.get(this).item}}exports.CameraView=CameraView});","core/mid/canvas.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){const d=new WeakMap;class Canvas extends item.Item{constructor(){super();d.set(this,{item:low.createElementTree(low.tag(\"canvas\").attr(\"width\",\"100\").attr(\"height\",\"100\").style(\"touch-action\",\"none\").html())});this.notifyable(\"originalWidth\");this.notifyable(\"originalHeight\")}get context2d(){return this.get().getContext(\"2d\")}get originalWidth(){return this.get().width}set originalWidth(w){if(w!==this.get().width){this.get().width=w}this.originalWidthChanged()}get originalHeight(){return this.get().height}set originalHeight(h){if(h!==this.get().height){this.get().height=h}this.originalHeightChanged()}get(){return d.get(this).item}}exports.Canvas=Canvas});","core/mid/capabilities.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],function(obj){class Capabilities extends obj.Object{constructor(){super()}get atomics(){return!!window.Atomics}get canvas(){const cnv=document.createElement(\"canvas\");return!!cnv.getContext}get crossOriginIsolated(){return window.crossOriginIsolated!==undefined?window.crossOriginIsolated:false}get fullscreen(){return document.fullscreenElement!==undefined}get gamePad(){return!!navigator.getGamepads}get indexedDB(){return!!(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)}get mediaDevices(){return!!navigator.mediaDevices}get pointerEvent(){return!!window.PointerEvent}get sharedArrayBuffer(){return!!window.SharedArrayBuffer}get webAssembly(){return!!window.WebAssembly}get webGL(){if(this.canvas){const cnv=document.createElement(\"canvas\");const ctx=cnv.getContext(\"webgl\");return!!ctx}return false}get webGL2(){if(this.canvas){const cnv=document.createElement(\"canvas\");const ctx=cnv.getContext(\"webgl2\");return!!ctx}return false}get webWorkers(){return!!window.Worker}get webXR(){return!!navigator.xr}}exports.Capabilities=Capabilities});","core/mid/console.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/object.js\"],function(low,obj){let isConsoleCaptured=false;function captureConsole(target){try{const clear=console.clear;const error=console.error;const warn=console.warn;const info=console.info;const log=console.log;const debug=console.debug;console.clear=(...args)=>{clear(...args);target.clear(...args)};console.error=(...args)=>{error(...args);target.error(...args)};console.warn=(...args)=>{warn(...args);target.warn(...args)};console.info=(...args)=>{info(...args);target.info(...args)};console.log=(...args)=>{log(...args);target.log(...args)};console.debug=(...args)=>{debug(...args);target.debug(...args)};isConsoleCaptured=true}catch(err){}}const d=new WeakMap;class Console extends obj.Object{constructor(){super();d.set(this,{buffer:[]});this.notifyable(\"size\");this.registerEvent(\"modelReset\");this.registerEvent(\"modelInsert\");this.registerEvent(\"modelRemove\");if(!isConsoleCaptured){captureConsole(this)}}get size(){return d.get(this).buffer.length}append(level,msg){d.get(this).buffer.push({timestamp:Date.now(),level:level,message:msg});this.modelInsert(d.get(this).buffer.length-1,1);this.sizeChanged()}clear(){d.get(this).buffer=[];this.sizeChanged();this.modelReset()}error(msg){this.append(\"error\",msg)}warn(msg){this.append(\"warn\",msg)}info(msg){this.append(\"info\",msg)}log(msg){this.append(\"log\",msg)}debug(msg){this.append(\"debug\",msg)}at(n){return d.get(this).buffer[n]}}exports.Console=Console});","core/mid/davfs.js":"\"use strict\";shRequire([__dirname+\"/filesystem.js\"],function(fs){function parseNode(node){const item={path:\"\",dir:\"\",name:\"\",type:\"f\",size:0,mimetype:\"application/x-octet-stream\"};const href=node.getElementsByTagNameNS(\"DAV:\",\"href\")[0];if(href){item.path=href.textContent;item.dir=fs.dirname(href.textContent)}const prop=node.getElementsByTagNameNS(\"DAV:\",\"prop\")[0];if(prop){const displayname=prop.getElementsByTagNameNS(\"DAV:\",\"displayname\")[0];if(displayname){item.name=displayname.textContent}const contentlength=prop.getElementsByTagNameNS(\"DAV:\",\"getcontentlength\")[0];if(contentlength){item.size=Number.parseInt(contentlength.textContent)}const contenttype=prop.getElementsByTagNameNS(\"DAV:\",\"getcontenttype\")[0];if(contenttype){item.mimetype=contenttype.textContent}const resourcetype=prop.getElementsByTagNameNS(\"DAV:\",\"resourcetype\")[0];if(resourcetype&&resourcetype.children[0]){if(resourcetype.children[0].tagName===\"collection\"){item.mimetype=\"application/x-folder\";item.type=\"d\"}}}return item}let d=new WeakMap;class DavFS extends fs.Filesystem{constructor(){super();d.set(this,{root:\"\"});this.notifyable(\"root\")}get root(){return d.get(this).root}set root(v){d.get(this).root=v;this.rootChanged()}exists(path){const priv=d.get(this);return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const url=priv.root+path;const response=await fetch(url,{method:\"HEAD\"});resolve(response.ok)})}list(path){const priv=d.get(this);return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const url=priv.root+path;const response=await fetch(url,{method:\"PROPFIND\"});if(response.status===207){const data=await response.text();const parser=new DOMParser;const dom=parser.parseFromString(data,\"text/xml\");const items=[];const nodes=dom.getElementsByTagNameNS(\"DAV:\",\"response\");for(let i=0;i<nodes.length;++i){const node=nodes[i];const item=parseNode(node);items.push(item)}resolve(items)}else{reject()}})}mkdir(path,name){const priv=d.get(this);return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const url=priv.root+path;console.log(\"mkdir: \"+path);const response=await fetch(url,{method:\"MKCOL\"});if(response.status===201){resolve()}else{reject()}})}remove(path){const priv=d.get(this);return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const url=priv.root+path;const response=await fetch(url,{method:\"DEL\"});if(response.status===204){resolve()}else{reject()}})}read(path){const priv=d.get(this);return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const url=priv.root+path;const response=await fetch(url,{method:\"GET\"});if(response.ok){resolve(await response.blob())}else{reject()}})}write(path,blob){const priv=d.get(this);return new Promise(async(resolve,reject)=>{if(!blob instanceof Blob){console.error(\"Write error: Blob expected.\");reject(null);return}path=fs.normalizePath(path);const url=priv.root+path;console.log(\"PUT \"+url);const response=await fetch(url,{method:\"PUT\",body:blob});if(response.ok){resolve()}else{reject()}})}}exports.DavFS=DavFS});","core/mid/document.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/object.js\"],function(low,obj){function makeEvent(ev){return{original:ev,accepted:false}}function makeKeyEvent(ev){return{original:ev,accepted:false,key:ev.key,char:ev.char,altKey:ev.altKey,ctrlKey:ev.ctrlKey,metaKey:ev.metaKey,shiftKey:ev.shiftKey,location:ev.location,repeat:ev.repeat}}const d=new WeakMap;class Document extends obj.Object{constructor(){super();d.set(this,{active:true,inSizeUpdate:false,virginity:true,scrollbars:false,systemDarkMode:false,color:this.colorName(\"white\"),inputDevice:\"mouse\",fullscreenItem:null});low.css(document.body,\"background-color\",\"white\");this.notifyable(\"active\");this.notifyable(\"systemDarkMode\");this.notifyable(\"inputDevice\");this.notifyable(\"title\");this.notifyable(\"color\");this.notifyable(\"windowWidth\");this.notifyable(\"windowHeight\");this.notifyable(\"scrollbars\");this.notifyable(\"contentX\");this.notifyable(\"contentY\");this.notifyable(\"contentWidth\");this.notifyable(\"contentHeight\");this.notifyable(\"bbox\");this.notifyable(\"fullscreenItem\");this.registerEvent(\"contextMenu\");this.registerEvent(\"keyDown\");document.documentElement.classList.add(\"sh-no-scrollbars\");this.addHtmlEventListener(window,\"resize\",ev=>{this.windowWidthChanged();this.windowHeightChanged();this.updateSizeFrom(null,false)},{passive:true});this.addHtmlEventListener(window,\"scroll\",ev=>{this.updateSizeFrom(null,false);this.contentXChanged();this.contentYChanged();this.contentWidthChanged();this.contentHeightChanged();this.trigger(\"scroll\")},{passive:true});this.addHtmlEventListener(document,\"pointerenter\",ev=>{if(d.get(this).inputDevice!==ev.pointerType){d.get(this).inputDevice=ev.pointerType;this.inputDeviceChanged()}},{passive:true,capture:true});this.addHtmlEventListener(window,\"touchstart\",ev=>{if(d.get(this).inputDevice!==\"touch\"){d.get(this).inputDevice=ev.pointerType;this.inputDeviceChanged()}},{passive:true,capture:true});this.addHtmlEventListener(document.body,\"contextmenu\",ev=>{const e=makeEvent(ev);this.contextMenu(e);if(e.accepted){ev.stopPropagation();ev.preventDefault()}});this.addHtmlEventListener(window,\"keydown\",ev=>{const e=makeKeyEvent(ev);this.keyDown(e);if(e.accepted){ev.stopPropagation();ev.preventDefault()}});this.addHtmlEventListener(window,\"focus\",ev=>{d.get(this).active=true;this.activeChanged()});this.addHtmlEventListener(window,\"blur\",ev=>{d.get(this).active=false;this.activeChanged()});this.addHtmlEventListener(window,\"focusin\",ev=>{const focusEv=new CustomEvent(\"sh-focusChanged\",{detail:document.activeElement});document.dispatchEvent(focusEv)});this.addHtmlEventListener(document,\"sh-focusChanged\",ev=>{const activeTraps=[];const trapEv=new CustomEvent(\"sh-trapFocus\",{detail:{target:ev.detail,trap:which=>{activeTraps.push(which)}}});document.dispatchEvent(trapEv);if(activeTraps.length>0){const focusTrap=activeTraps[activeTraps.length-1];if(focusTrap){console.log(\"Activating focus trap: \"+focusTrap.objectType+\"@\"+focusTrap.objectLocation);const selector=\":not([class~=\\\"sh-hidden\\\"])\"+\":not([class~=\\\"sh-disabled\\\"])\"+\" \"+\"[data-role=\\\"sh-focusable\\\"]\"+\":not([class~=\\\"sh-hidden\\\"])\"+\":not([class~=\\\"sh-disabled\\\"])\";const focusable=focusTrap.get().querySelector(selector);if(focusable){console.log(\"Focus trapped: \"+focusable.dataset.shObjectType+\"@\"+focusable.dataset.shObjectLocation);const handle=low.addFrameHandler(()=>{handle.cancel();focusable.focus({preventScroll:false})})}}}});this.addHtmlEventListener(document,\"mozfullscreenchange\",ev=>{if(!low.fullscreenStatus()){d.get(this).fullscreenItem=null;this.fullscreenItemChanged()}});this.addHtmlEventListener(document,\"webkitfullscreenchange\",ev=>{if(!low.fullscreenStatus()){d.get(this).fullscreenItem=null;this.fullscreenItemChanged()}});if(window.matchMedia){const mql=window.matchMedia(\"(prefers-color-scheme: dark)\");if(mql.matches){d.get(this).systemDarkMode=true}mql.addListener(ev=>{d.get(this).systemDarkMode=ev.matches;this.systemDarkModeChanged()},{passive:true})}this.onInitialization=()=>{console.log(\"Initializing Document.\");window.requestAnimationFrame(()=>{this.updateSizeFrom(null,false)})};this.referenceAdd(null)}get systemDarkMode(){return d.get(this).systemDarkMode}get inputDevice(){return d.get(this).inputDevice}get title(){return document.title}set title(t){document.title=t;this.titleChanged()}get active(){return d.get(this).active}get ancestorsEnabled(){return true}get ancestorsVisible(){return true}get enabled(){return true}get visible(){return true}get bbox(){return{x:0,y:0,width:window.innerWidth,height:window.innerHeight}}get color(){return d.get(this).color}set color(c){const col=typeof c===\"string\"?this.colorName(c):c;low.css(document.body,\"background-color\",col.toCss());d.get(this).color=col;this.colorChanged()}get windowWidth(){return window.innerWidth}get windowHeight(){return window.innerHeight}get contentX(){return window.scrollX}set contentX(x){window.scrollTo(x,window.scrollY)}get contentY(){return window.scrollY}set contentY(y){window.scrollTo(window.scrollX,y)}get contentWidth(){return document.body.scrollWidth}get contentHeight(){return document.body.scrollHeight}get scrollbars(){return d.get(this).scrollbars}set scrollbars(value){d.get(this).scrollbars=value;if(value){document.documentElement.classList.remove(\"sh-no-scrollbars\")}else{document.documentElement.classList.add(\"sh-no-scrollbars\")}this.scrollbarsChanged()}get fullscreenItem(){return d.get(this).fullscreenItem}set fullscreenItem(item){if(!item){low.fullscreenExit()}else{if(low.fullscreenStatus()){low.fullscreenExit()}low.fullscreenEnter(item.get())}d.get(this).fullscreenItem=item;this.fullscreenItemChanged()}updateSizeFrom(item,fromChild){if(d.get(this).inSizeUpdate){return}d.get(this).inSizeUpdate=true;if(item){if(fromChild){this.contentWidthChanged();this.contentHeightChanged()}}else{this.bboxChanged()}this.children.forEach(c=>{if(c!==item&&c.updateSizeFrom){c.updateSizeFrom(this,false)}});d.get(this).inSizeUpdate=false}detachChild(child){if(child.get){const node=child.get();if(node.parentNode){node.parentNode.removeChild(node)}}super.detachChild(child)}add(child){child.parent=this;if(d.get(this).virginity){document.body.innerHTML=\"\";d.get(this).virginity=false}if(child.get){if(document.fullscreenElement){document.fullscreenElement.appendChild(child.get())}else{document.body.appendChild(child.get())}}}get(){return document.body}}exports.Document=Document});","core/mid/draggable.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/box.js\"],function(low,box){function makeDragEvent(ev){return{original:ev,accepted:false,setData:(type,value)=>{ev.dataTransfer.setData(type,value)},effectAllowed:\"copy\"}}function makeDragEndEvent(ev){return{original:ev,accepted:false}}class Draggable extends box.Box{constructor(){super();this.registerEvent(\"dragStart\");this.registerEvent(\"dragEnd\");const item=this.get();item.draggable=true;this.addHtmlEventListener(item,\"dragstart\",ev=>{const e=makeDragEvent(ev);this.dragStart(e);if(e.accepted){ev.stopPropagation();ev.dataTransfer.effectAllowed=e.effectAllowed;ev.dataTransfer.setDragImage(item,0,0)}else{ev.preventDefault()}},false);this.addHtmlEventListener(item,\"dragend\",ev=>{console.log(\"drag end\");console.log(ev.dataTransfer);this.dragEnd(makeDragEndEvent(ev));ev.stopPropagation()});this.addHtmlEventListener(item,\"mousedown\",ev=>{ev.stopPropagation()},false)}}exports.Draggable=Draggable});","core/mid/droparea.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/box.js\"],function(low,box){function makeEnterEvent(ev){return{original:ev,accepted:false,types:ev.dataTransfer.types,dropEffect:ev.dataTransfer.dropEffect}}function makeDropEvent(ev){const data={};ev.dataTransfer.types.forEach(t=>{data[t]=ev.dataTransfer.getData(t)});return{original:ev,accepted:false,types:ev.dataTransfer.types,items:ev.dataTransfer.items}}const d=new WeakMap;class DropArea extends box.Box{constructor(){super();d.set(this,{hovering:false,accepted:false});this.notifyable(\"accepted\");this.notifyable(\"hovering\");this.registerEvent(\"dropAccept\");this.registerEvent(\"drop\");const item=this.get();let hoverTarget=null;this.addHtmlEventListener(item,\"dragenter\",ev=>{hoverTarget=ev.target;d.get(this).hovering=true;this.hoveringChanged();const e=makeEnterEvent(ev);this.dropAccept(e);d.get(this).accepted=e.accepted;this.acceptedChanged();if(e.accepted){ev.dataTransfer.dropEffect=e.dropEffect;console.log(\"drop effect: \"+ev.dataTransfer.dropEffect);ev.preventDefault();return false}},false);this.addHtmlEventListener(item,\"dragover\",ev=>{if(d.get(this).accepted){ev.preventDefault();return false}},false);this.addHtmlEventListener(item,\"dragleave\",ev=>{if(hoverTarget!==ev.target){return}hoverTarget=null;d.get(this).hovering=false;this.hoveringChanged();d.get(this).accepted=false;this.acceptedChanged()},false);this.addHtmlEventListener(item,\"drop\",ev=>{hoverTarget=null;this.drop(makeDropEvent(ev));d.get(this).hovering=false;this.hoveringChanged();d.get(this).accepted=false;this.acceptedChanged();ev.preventDefault();return false},false)}get accepted(){return d.get(this).accepted}get hovering(){return d.get(this).hovering}}exports.DropArea=DropArea});","core/mid/fileselector.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/object.js\"],function(low,obj){const d=new WeakMap;class FileSelector extends obj.Object{constructor(){super();d.set(this,{accept:[\"*\"],multiple:false,directory:false,callback:null,item:low.createElementTree(low.tag(\"input\").style(\"display\",\"none\").attr(\"type\",\"file\").attr(\"accept\",\"*\").html())});this.notifyable(\"accept\");this.notifyable(\"directory\");this.notifyable(\"multiple\");this.registerEvent(\"select\");this.addHtmlEventListener(d.get(this).item,\"change\",ev=>{this.select(ev.target.files);const cb=d.get(this).callback;if(cb){d.get(this).callback=null;cb(ev.target.files)}});document.body.appendChild(d.get(this).item);this.onDestruction=()=>{document.body.removeChild(d.get(this).item)}}get accept(){return d.get(this).accept}set accept(acc){d.get(this).accept=acc;d.get(this).item.accept=acc.join(\", \");this.acceptChanged()}get directory(){return d.get(this).directory}set directory(value){d.get(this).directory=value;d.get(this).item.webkitdirectory=value;this.directoryChanged()}get multiple(){return d.get(this).multiple}set multiple(value){d.get(this).multiple=value;d.get(this).item.multiple=value;this.multipleChanged()}open(callback){d.get(this).callback=callback;d.get(this).item.click()}}exports.FileSelector=FileSelector});","core/mid/filesystem.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],obj=>{function normalizePath(path){return path.replace(/\\/\\/+/g,\"/\").replace(/\\/$/,\"\")||\"/\"}exports.normalizePath=normalizePath;function pathJoin(...args){return exports.normalizePath(args.join(\"/\"))}exports.pathJoin=pathJoin;function dirname(path){const pos=path.lastIndexOf(\"/\");if(pos!==-1){return exports.normalizePath(path.substring(0,pos))}else{return\"/\"}}exports.dirname=dirname;class Filesystem extends obj.Object{constructor(){super();this.registerEvent(\"fsChange\")}exists(path){throw\"Not implemented\"}list(path){throw\"Not implemented\"}mkdir(path,name){throw\"Not implemented\"}remove(path){throw\"Not implemented\"}read(path){throw\"Not implemented\"}write(path,blob){throw\"Not implemented\"}}exports.Filesystem=Filesystem});","core/mid/fpsmeter.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/object.js\"],(low,obj)=>{const d=new WeakMap;class FpsMeter extends obj.Object{constructor(){super();d.set(this,{fps:0,running:false,handle:null});this.notifyable(\"fps\");this.notifyable(\"running\");this.onDestruction=()=>{const priv=d.get(this);if(priv.handle){priv.handle.cancel()}}}get fps(){return d.get(this).fps}get running(){return d.get(this).running}set running(v){const priv=d.get(this);priv.running=v;this.runningChanged();if(v){if(!priv.handle){let count=0;let prevTime=0;let accumulatedFps=0;priv.handle=low.addFrameHandler(now=>{if(prevTime===0){prevTime=now}if(now>prevTime){accumulatedFps+=1000/(now-prevTime);++count;if(count===10){priv.fps=accumulatedFps/count;this.fpsChanged();count=0;accumulatedFps=0}prevTime=now}},this.objectType+\"@\"+this.objectLocation)}}else{if(priv.handle){priv.handle.cancel();priv.handle=null}}}}exports.FpsMeter=FpsMeter});","core/mid/frametimer.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/object.js\"],function(low,obj){const d=new WeakMap;class FrameTimer extends obj.Object{constructor(){super();d.set(this,{running:false,repeat:false,currentTimer:null,interval:Math.floor(1000/60),fps:60});this.notifyable(\"fps\");this.notifyable(\"running\");this.notifyable(\"repeat\");this.registerEvent(\"timeout\");this.onInitialization=()=>{if(d.get(this).running){this.start()}};this.onDestruction=()=>{this.stop()}}get fps(){return d.get(this).fps}set fps(v){d.get(this).fps=v;d.get(this).interval=Math.floor(1000/v);this.fpsChanged()}get running(){return d.get(this).running}set running(v){d.get(this).running=v;this.runningChanged();if(v){if(this.lifeCycleStatus===\"initialized\"){this.start()}}else{this.stop()}}get repeat(){return d.get(this).repeat}set repeat(v){d.get(this).repeat=v;this.repeatChanged()}start(){this.stop();const priv=d.get(this);let prevNow=0;priv.currentTimer=low.addFrameHandler(now=>{if(prevNow===0){prevNow=now}const elapsed=now-prevNow;if(elapsed>=priv.interval){this.timeout(now,elapsed);prevNow=now}if(priv.repeat&&priv.running){}else{priv.currentTimer.cancel();priv.currentTimer=null}},this.objectType+\"@\"+this.objectLocation)}stop(){const priv=d.get(this);if(priv.currentTimer){priv.currentTimer.cancel();priv.currentTimer=null}}}exports.FrameTimer=FrameTimer});","core/mid/fsmodel.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/object.js\"],function(low,obj){let d=new WeakMap;exports.FSModel=class FSModel extends obj.Object{constructor(){super();d.set(this,{fs:null,path:\"\",directoriesFirst:true,withFiles:true,withDirectories:true,items:[],loading:false,updateHandle:null});this.notifyable(\"directoriesFirst\");this.notifyable(\"fs\");this.notifyable(\"loading\");this.notifyable(\"path\");this.notifyable(\"size\");this.notifyable(\"withFiles\");this.notifyable(\"withDirectories\");this.registerEvent(\"modelReset\");this.registerEvent(\"modelInsert\");this.registerEvent(\"modelRemove\")}get fs(){return d.get(this).fs}set fs(f){if(d.get(this).fs){d.get(this).fs.referenceRemove(this)}d.get(this).fs=f;this.fsChanged();this.update();if(f){f.connect(\"fsChange\",this,changedPath=>{console.log(\"fs change \"+changedPath);if(changedPath===d.get(this).path){this.update()}});f.referenceAdd(this)}}get path(){return d.get(this).path}set path(p){d.get(this).path=p;this.pathChanged();this.update()}get size(){return d.get(this).items.length}get loading(){return d.get(this).loading}get directoriesFirst(){return d.get(this).directoriesFirst}set directoriesFirst(value){d.get(this).directoriesFirst=value;this.update();this.directoriesFirstChanged()}get withFiles(){return d.get(this).withFiles}set withFiles(value){d.get(this).withFiles=value;this.update();this.withFilesChanged()}get withDirectories(){return d.get(this).withDirectories}set withDirectories(value){d.get(this).withDirectories=value;this.update();this.withDirectoriesChanged()}update(){const priv=d.get(this);if(!priv.updateHandle){priv.loading=true;this.loadingChanged();priv.updateHandle=low.addFrameHandler(()=>{priv.updateHandle.cancel();priv.updateHandle=null;this.doUpdate()},this.objectType+\"@\"+this.objectLocation)}}doUpdate(){console.log(\"update fs model\");const priv=d.get(this);if(!priv.fs){d.get(this).items=[];this.sizeChanged();this.modelReset();return}priv.fs.list(priv.path).then(items=>{d.get(this).items=items.filter(item=>{return item.type===\"f\"&&d.get(this).withFiles||item.type===\"d\"&&d.get(this).withDirectories}).sort((a,b)=>{if(a.type===\"d\"&&b.type!==\"d\"){return-1}else if(a.type!==\"d\"&&b.type===\"d\"){return 1}else{return a.name<b.name?-1:1}});console.log(\"items: \"+d.get(this).items.length);this.sizeChanged();this.modelReset();priv.loading=false;this.loadingChanged()})}at(n){return d.get(this).items[n]}}});","core/mid/gamepad.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/object.js\"],function(low,obj){let d=new WeakMap;class Gamepad extends obj.Object{constructor(){super();d.set(this,{index:0,name:\"\",canRumble:false,connected:false,handle:null,axes:[],buttons:[],triggers:[]});this.notifyable(\"canRumble\");this.notifyable(\"connected\");this.notifyable(\"index\");this.notifyable(\"name\");this.notifyable(\"axes\");this.notifyable(\"buttons\");this.notifyable(\"triggers\");this.addHtmlEventListener(window,\"gamepadconnected\",ev=>{console.log(\"Gamepad connected\");this.setupGamepad()});this.addHtmlEventListener(window,\"gamepaddisconnected\",ev=>{console.log(\"Gamepad disconnected\");this.setupGamepad()});this.onDestruction=()=>{const priv=d.get(this);if(priv.handle){priv.handle.cancel();priv.handle=null}}}get connected(){return d.get(this).connected}get index(){return d.get(this).index}set index(idx){d.get(this).index=idx;this.indexChanged();this.setupGamepad()}get name(){return d.get(this).name}get canRumble(){return d.get(this).canRumble}get axes(){return d.get(this).axes}get buttons(){return d.get(this).buttons}get triggers(){return d.get(this).triggers}setupGamepad(){const priv=d.get(this);const pad=navigator.getGamepads()[priv.index];if(pad){priv.connected=true;priv.name=pad.id;priv.canRumble=pad.vibrationActuator&&pad.vibrationActuator.type===\"dual-rumble\";if(!priv.handle){priv.handle=low.addFrameHandler(()=>{this.update()},this.objectType+\"@\"+this.objectLocation)}}else{priv.connected=false;priv.name=\"\";priv.canRumble=false;if(priv.handle){priv.handle.cancel();priv.handle=null}}this.connectedChanged();this.nameChanged();this.canRumbleChanged()}update(){const priv=d.get(this);const pad=navigator.getGamepads()[priv.index];if(pad){priv.axes=pad.axes;priv.buttons=pad.buttons.map(btn=>btn.pressed);priv.triggers=pad.buttons.map(btn=>btn.value);this.axesChanged();this.buttonsChanged();this.triggersChanged()}else{priv.axes=[];priv.buttons=[];priv.triggers=[];this.axesChanged();this.buttonsChanged();this.triggersChanged()}}rumble(intensity,duration,callback){const priv=d.get(this);if(priv.canRumble){const pad=navigator.getGamepads()[priv.index];pad.vibrationActuator.playEffect(\"dual-rumble\",{duration:duration,strongMagnitude:intensity}).then(()=>{if(callback){callback()}})}}}exports.Gamepad=Gamepad});","core/mid/gamepadmodel.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/listmodel.js\"],function(low,lm){let d=new WeakMap;class GamepadModel extends lm.ListModel{constructor(){super();this.addHtmlEventListener(window,\"gamepadconnected\",ev=>{this.update()});this.addHtmlEventListener(window,\"gamepaddisconnected\",ev=>{this.update();const handle=low.addFrameHandler(()=>{handle.cancel();this.update()},this.objectType+\"@\"+this.objectLocation)});this.onInitialization=()=>{this.update()}}update(){const pads=navigator.getGamepads();const items=[];console.log(pads);for(let i=0;i<pads.length;++i){const pad=pads[i];if(pad&&pad.connected){items.push({index:pad.index,name:pad.id,connected:true})}}this.reset(items)}}exports.GamepadModel=GamepadModel});","core/mid/gradientstop.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],function(obj){let d=new WeakMap;class GradientStop extends obj.Object{constructor(){super();d.set(this,{color:this.colorName(\"red\"),position:0});this.notifyable(\"color\");this.notifyable(\"position\");this.registerEvent(\"valuesChange\")}get color(){return d.get(this).color}set color(c){const col=typeof c===\"string\"?this.colorName(c):c;d.get(this).color=col;this.colorChanged();this.valuesChange()}get position(){return d.get(this).position}set position(p){d.get(this).position=p;this.positionChanged();this.valuesChange()}}exports.GradientStop=GradientStop});","core/mid/html.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){const d=new WeakMap;class Html extends item.Item{constructor(){super();d.set(this,{item:low.createElementTree(low.tag(\"div\").html())});this.notifyable(\"html\")}get html(){return d.get(this).html}set html(h){d.get(this).html=h;try{d.get(this).item.innerHTML=h}catch(err){d.get(this).item.innerHTML=\"Error: \"+err.message}this.htmlChanged()}get(){return d.get(this).item}}exports.Html=Html});","core/mid/image.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){const d=new WeakMap;class Image extends item.Item{constructor(){super();d.set(this,{status:\"empty\",fitMode:\"fill\",source:\"\",item:low.createElementTree(low.tag(\"img\").style(\"object-fit\",\"fill\").style(\"pointer-events\",\"none\").html())});this.notifyable(\"status\");this.notifyable(\"fitMode\");this.notifyable(\"source\");this.notifyable(\"originalWidth\");this.notifyable(\"originalHeight\");d.get(this).item.onload=ev=>{d.get(this).status=\"success\";this.statusChanged();this.originalWidthChanged();this.originalHeightChanged()};d.get(this).item.onerror=()=>{if(d.get(this).source!==\"\"){d.get(this).status=\"error\";this.statusChanged()}}}get status(){return d.get(this).status}get fitMode(){return d.get(this).fitMode}set fitMode(m){d.get(this).fitMode=m;low.css(d.get(this).item,\"object-fit\",m);this.fitModeChanged()}get source(){return d.get(this).source}set source(s){if(s===undefined){s=\"\"}d.get(this).source=s;this.sourceChanged();if(s!==\"\"){d.get(this).status=\"loading\"}else{d.get(this).status=\"empty\"}this.statusChanged();d.get(this).item.setAttribute(\"src\",shRequire.resource(s))}get originalWidth(){return d.get(this).item.naturalWidth}get originalHeight(){return d.get(this).item.naturalHeight}fromFile(fileObj){if(!(\"\"+fileObj.type).startsWith(\"image/\")){d.get(this).status=\"error\";this.statusChanged();return}const reader=new FileReader;reader.onload=()=>{this.source=reader.result};reader.readAsDataURL(fileObj)}get(){return d.get(this).item}}exports.Image=Image});","core/mid/item.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/object.js\",__dirname+\"/util/matrix.js\",__dirname+\"/util/vec.js\"],(low,obj,mat,vec)=>{function makeKeyEvent(ev){return{original:ev,accepted:false,key:ev.key,char:ev.char,altKey:ev.altKey,ctrlKey:ev.ctrlKey,metaKey:ev.metaKey,shiftKey:ev.shiftKey,location:ev.location,repeat:ev.repeat}}const d=new WeakMap;let sizingCalculationsFrozen=false;class Item extends obj.Object{constructor(){super();d.set(this,{inSizeUpdate:false,mayUpdateSize:false,prevBbox:{x:0,y:0,width:0,height:0},cachedBbox:null,cssCache:{},cssLiveCache:{},visible:true,enabled:true,cursor:\"undefined\",width:-1,height:-1,minWidth:0,minHeight:0,fillWidth:false,fillHeight:false,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,perspective:1000,position:\"inline\",origin:\"top-left\",canFocus:false,hasFocus:false,trapFocus:false,x:0,y:0,opacity:1,rotationAxis:this.vec3(0,0,1),rotationAngle:0,rotationQuaternion:[0,0,0,0],style:[]});this.notifyable(\"ancestorsEnabled\");this.notifyable(\"ancestorsVisible\");this.notifyable(\"bbox\");this.notifyable(\"canFocus\");this.notifyable(\"contentHeight\");this.notifyable(\"contentWidth\");this.notifyable(\"contentX\");this.notifyable(\"contentY\");this.notifyable(\"cursor\");this.notifyable(\"enabled\");this.notifyable(\"fillHeight\");this.notifyable(\"fillWidth\");this.notifyable(\"focus\");this.notifyable(\"height\");this.notifyable(\"marginBottom\");this.notifyable(\"marginLeft\");this.notifyable(\"marginRight\");this.notifyable(\"marginTop\");this.notifyable(\"minHeight\");this.notifyable(\"minWidth\");this.notifyable(\"opacity\");this.notifyable(\"origin\");this.notifyable(\"perspective\");this.notifyable(\"position\");this.notifyable(\"rotationAxis\");this.notifyable(\"rotationAngle\");this.notifyable(\"style\");this.notifyable(\"trapFocus\");this.notifyable(\"visible\");this.notifyable(\"width\");this.notifyable(\"x\");this.notifyable(\"y\");this.transitionable(\"contentX\");this.transitionable(\"contentY\");this.transitionable(\"height\");this.transitionable(\"marginBottom\");this.transitionable(\"marginLeft\");this.transitionable(\"marginRight\");this.transitionable(\"marginTop\");this.transitionable(\"opacity\");this.transitionable(\"perspective\");this.transitionable(\"rotationAngle\");this.transitionable(\"width\");this.transitionable(\"x\");this.transitionable(\"y\");this.registerEvent(\"keyDown\");const priv=d.get(this);this.onInitialization=()=>{const item=this.get();item.dataset.shObjectType=this.objectType;item.dataset.shObjectLocation=this.objectLocation;this.addHtmlEventListener(item,\"keydown\",ev=>{const e=makeKeyEvent(ev);this.keyDown(e);if(e.accepted){ev.stopPropagation();ev.preventDefault()}});this.addHtmlEventListener(item,\"focus\",ev=>{if(priv.hasFocus){return}if(!this.canFocus){console.log(\"cannot receive focus: \"+this.objectLocation)}else{priv.hasFocus=true;this.focusChanged()}});this.addHtmlEventListener(item,\"blur\",()=>{if(document.activeElement===this.get()){return}priv.hasFocus=false;this.focusChanged()});this.addHtmlEventListener(item,\"scroll\",()=>{this.contentXChanged();this.contentYChanged();this.children.forEach(c=>{if(c!==item&&c.updateSizeFrom){c.updateSizeFrom(null,false)}})},{passive:true});const handle=low.addFrameHandler(()=>{handle.cancel();this.updateSizeFrom(null,false)},this.objectType+\"@\"+this.objectLocation)};this.onAncestorsEnabledChanged=()=>{this.children.forEach(child=>{if(child.ancestorsEnabledChanged){child.ancestorsEnabledChanged()}});this.updateTabIndex()};this.onAncestorsVisibleChanged=()=>{this.children.forEach(child=>{if(child.ancestorsVisibleChanged){child.ancestorsVisibleChanged()}});if(!this.ancestorsVisible){priv.mayUpdateSize=false;priv.hasFocus=false;this.focusChanged();if(!priv.cssCache){priv.cssCache={}}}else{if(priv.cssCache){const item=this.get();for(let key in priv.cssCache){low.css(item,key,priv.cssCache[key])}priv.cssCache=null}priv.mayUpdateSize=true;this.updatePosition()}};this.onEnabledChanged=()=>{this.updateTabIndex()};this.onParentChanged=()=>{this.ancestorsVisibleChanged();this.ancestorsEnabledChanged();this.updatePosition();if(priv.trapFocus&&this.parent){const focusEv=new CustomEvent(\"sh-focusChanged\",{detail:document.activeElement});document.dispatchEvent(focusEv)}}}get ancestorsEnabled(){if(this.parent){return this.parent.enabled&&this.parent.ancestorsEnabled}else{return true}}get ancestorsVisible(){if(this.parent){return this.parent.visible&&this.parent.ancestorsVisible}else{return false}}get visible(){return d.get(this).visible}set visible(v){d.get(this).visible=v;if(v){this.get().classList.remove(\"sh-hidden\")}else{this.get().classList.add(\"sh-hidden\")}this.updateSizeFrom(null,false);this.visibleChanged();this.children.forEach(child=>{if(child.ancestorsVisibleChanged){child.ancestorsVisibleChanged()}})}get enabled(){return d.get(this).enabled}set enabled(value){d.get(this).enabled=value;if(value){this.get().classList.remove(\"sh-disabled\")}else{this.get().classList.add(\"sh-disabled\")}this.enabledChanged();this.children.forEach(child=>{if(child.ancestorsEnabledChanged){child.ancestorsEnabledChanged()}})}updatePosition(){if(!d.get(this).mayUpdateSize){return}const priv=d.get(this);const item=this.get();const position=priv.position;const origin=priv.origin;const fillWidth=priv.fillWidth;const fillHeight=priv.fillHeight;const x=priv.x;const y=priv.y;const width=priv.width;const height=priv.height;const minWidth=priv.minWidth;const minHeight=priv.minHeight;const marginTop=priv.marginTop;const marginBottom=priv.marginBottom;const marginLeft=priv.marginLeft;const marginRight=priv.marginRight;if(position===\"free\"){this.css(\"position\",\"absolute\")}else if(position===\"global\"){this.css(\"position\",\"fixed\")}else{this.css(\"position\",\"relative\")}this.css(\"min-width\",minWidth+\"px\");this.css(\"min-height\",minHeight+\"px\");if(position===\"free\"||position===\"global\"){this.css(\"margin-top\",\"0\");this.css(\"margin-left\",\"0\");this.css(\"margin-right\",\"0\");this.css(\"margin-bottom\",\"0\");if(fillWidth){this.css(\"width\",\"calc(100% - \"+marginLeft+\"px - \"+marginRight+\"px)\");this.css(\"left\",marginLeft+\"px\");this.css(\"right\",\"\")}else{this.css(\"width\",width===-1?\"auto\":width+\"px\");this.css(\"min-width\",Math.max(width,minWidth)+\"px\");switch(origin){case\"top-left\":case\"bottom-left\":this.css(\"left\",x+marginLeft+\"px\");this.css(\"right\",\"\");break;case\"top-right\":case\"bottom-right\":this.css(\"left\",\"\");this.css(\"right\",x+marginRight+\"px\");break;}}if(fillHeight){this.css(\"height\",\"calc(100% - \"+marginTop+\"px - \"+marginBottom+\"px)\");this.css(\"top\",marginTop+\"px\");this.css(\"bottom\",\"\")}else{this.css(\"height\",height===-1?\"auto\":height+\"px\");this.css(\"min-height\",Math.max(height,minHeight)+\"px\");switch(origin){case\"top-left\":case\"top-right\":this.css(\"top\",y+marginTop+\"px\");this.css(\"bottom\",\"\");break;case\"bottom-left\":case\"bottom-right\":this.css(\"top\",\"\");this.css(\"bottom\",y+marginBottom+\"px\");break;}}}else{this.css(\"flex-grow\",\"0\");this.css(\"flex-shrink\",\"0\");this.css(\"flex-basis\",\"auto\");if(fillWidth){this.css(\"width\",\"calc(100% - \"+marginLeft+\"px - \"+marginRight+\"px)\");this.css(\"margin-left\",marginLeft+\"px\");this.css(\"margin-right\",marginRight+\"px\");if(this.parent&&(this.parent.layout===\"row\"||this.parent.layout===\"center-row\")){this.css(\"flex-shrink\",\"1\")}}else{this.css(\"width\",width===-1?\"auto\":width+\"px\");this.css(\"min-width\",Math.max(width,minWidth)+\"px\");this.css(\"margin-left\",marginLeft+\"px\");this.css(\"margin-right\",marginRight+\"px\")}if(fillHeight){this.css(\"height\",\"calc(100% - \"+marginTop+\"px - \"+marginBottom+\"px)\");this.css(\"margin-top\",marginTop+\"px\");this.css(\"margin-bottom\",marginBottom+\"px\");if(this.parent&&(this.parent.layout===\"column\"||this.parent.layout===\"center-column\"||this.parent.layout===\"center\")){this.css(\"flex-shrink\",\"1\")}}else{this.css(\"height\",height===-1?\"auto\":height+\"px\");this.css(\"min-height\",Math.max(height,minHeight)+\"px\");this.css(\"margin-top\",marginTop+\"px\");this.css(\"margin-bottom\",marginBottom+\"px\")}this.css(\"top\",\"\");this.css(\"bottom\",\"\");this.css(\"left\",\"\");this.css(\"right\",\"\")}this.updateSizeFrom(null,false)}get bbox(){const priv=d.get(this);if(this.lifeCycleStatus!==\"initialized\"||!priv.mayUpdateSize||!priv.visible){return{x:0,y:0,width:0,height:0}};if(priv.cachedBbox){return priv.cachedBbox}const rect=this.get().getBoundingClientRect();priv.cachedBbox={x:Math.round(rect.left),y:Math.round(rect.top),width:Math.round(rect.width),height:Math.round(rect.height)};return priv.cachedBbox}get fillWidth(){return d.get(this).fillWidth}set fillWidth(value){d.get(this).fillWidth=value;this.updatePosition();this.fillWidthChanged()}get fillHeight(){return d.get(this).fillHeight}set fillHeight(value){d.get(this).fillHeight=value;this.updatePosition();this.fillHeightChanged()}get width(){return d.get(this).width}set width(w){d.get(this).width=w;this.updatePosition();this.widthChanged()}get height(){return d.get(this).height}set height(h){d.get(this).height=h;this.updatePosition();this.heightChanged()}get minWidth(){return d.get(this).minWidth}set minWidth(w){d.get(this).minWidth=w;this.updatePosition();this.minWidthChanged()}get minHeight(){return d.get(this).minHeight}set minHeight(h){d.get(this).minHeight=h;this.updatePosition();this.minHeightChanged()}set ruler(r){if(!r){return}this.onBboxChanged=()=>{r.request(this.bbox)};this.onInitialization=()=>{r.request(this.bbox)};r.request(this.bbox)}get marginTop(){return d.get(this).marginTop}set marginTop(s){d.get(this).marginTop=s;this.updatePosition();this.marginTopChanged()}get marginBottom(){return d.get(this).marginBottom}set marginBottom(s){d.get(this).marginBottom=s;this.updatePosition();this.marginBottomChanged()}get marginLeft(){return d.get(this).marginLeft}set marginLeft(s){d.get(this).marginLeft=s;this.updatePosition();this.marginLeftChanged()}get marginRight(){return d.get(this).marginRight}set marginRight(s){d.get(this).marginRight=s;this.updatePosition();this.marginRightChanged()}get position(){return d.get(this).position}set position(pos){d.get(this).position=pos;this.updatePosition();this.positionChanged()}get origin(){return d.get(this).origin}set origin(o){d.get(this).origin=o;this.updatePosition();this.originChanged()}get x(){return d.get(this).x}set x(x){d.get(this).x=x;this.updatePosition();this.xChanged()}get y(){return d.get(this).y}set y(y){d.get(this).y=y;this.updatePosition();this.yChanged()}get contentX(){return this.get().scrollLeft}set contentX(x){let item=this.get();if(item.scrollTo){item.scrollTo(x,item.scrollTop)}else{item.scrollLeft=x}}get contentY(){return this.get().scrollTop}set contentY(y){let item=this.get();if(item.scrollTo){item.scrollTo(item.scrollLeft,y)}else{item.scrollTop=y}}get contentWidth(){return Math.ceil(this.get().scrollWidth)}get contentHeight(){return Math.ceil(this.get().scrollHeight)}get cursor(){return d.get(this).cursor}set cursor(c){d.get(this).cursor=c;this.css(\"cursor\",c);this.cursorChanged()}get opacity(){return d.get(this).opacity}set opacity(value){d.get(this).opacity=value;this.css(\"opacity\",value);this.opacityChanged()}get perspective(){return d.get(this).perspective}set perspective(p){d.get(this).perspective=p;this.updateTransformation();this.perspectiveChanged()}get rotationAngle(){return d.get(this).rotationAngle}set rotationAngle(deg){d.get(this).rotationAngle=deg;this.updateTransformation();this.rotationAngleChanged()}get rotationAxis(){return d.get(this).rotationAxis}set rotationAxis(v){d.get(this).rotationAxis=v;this.updateTransformation();this.rotationAxisChanged()}get style(){return d.get(this).style}set style(newStyle){if(typeof newStyle===\"string\"){newStyle=[newStyle]}const priv=d.get(this);const item=this.get();const toRemove=priv.style.filter(cls=>!newStyle.includes(cls));const toAdd=newStyle.filter(cls=>!priv.style.includes(cls));item.classList.remove(...toRemove);item.classList.add(...toAdd);priv.style=newStyle;this.styleChanged()}get canFocus(){return d.get(this).canFocus}set canFocus(v){d.get(this).canFocus=v;if(v){this.get().dataset.role=\"sh-focusable\"}else{delete this.get().dataset.role}this.updateTabIndex();this.canFocusChanged()}get trapFocus(){return d.get(this).trapFocus}set trapFocus(v){d.get(this).trapFocus=v;if(v){this.addHtmlEventListener(document,\"sh-trapFocus\",this.applyFocusTrap.bind(this));if(this.parent){this.parent.get().focus()}}else{this.removeHtmlEventListener(document,\"sh-trapFocus\",this.applyFocusTrap.bind(this))}this.trapFocusChanged()}get focus(){return d.get(this).hasFocus}set focus(v){let item=this.get();if(v){item.focus()}}vec3(x,y,z){return vec.vec3(x,y,z)}css(prop,value){const priv=d.get(this);if(priv.cssLiveCache[prop]===value){return}priv.cssLiveCache[prop]=value;const item=this.get();if(priv.cssCache){priv.cssCache[prop]=value}else{low.css(item,prop,value)}}applyFocusTrap(ev){if(!(this.visible&&this.ancestorsVisible&&this.enabled&&this.ancestorsEnabled)){return}let isDescendant=false;let p=ev.detail.target;while(p){if(p===this.get()){isDescendant=true;break}p=p.parentNode}if(!isDescendant){ev.detail.trap(this)}else{ev.detail.trap(null)}}updateTabIndex(){if(this.canFocus&&this.enabled&&this.ancestorsEnabled){this.get().tabIndex=0}else{this.get().tabIndex=-1}}updateSizeFrom(item,fromChild){const priv=d.get(this);if(sizingCalculationsFrozen||!priv.mayUpdateSize){return}if(priv.inSizeUpdate){return}priv.cachedBbox=null;const prevBbox=priv.prevBbox;const bbox=this.bbox;const bboxHasChanged=bbox.x!==prevBbox.x||bbox.y!==prevBbox.y||bbox.width!==prevBbox.width||bbox.height!==prevBbox.height;if(bboxHasChanged){priv.prevBbox=bbox}priv.inSizeUpdate=true;if(item){if(fromChild){if(bboxHasChanged){this.bboxChanged()}if(item.position===\"inline\"||item.position===\"free\"){this.contentWidthChanged();this.contentHeightChanged()}}else{if(bboxHasChanged){this.bboxChanged()}}}else{if(bboxHasChanged){this.bboxChanged()}}if(bboxHasChanged){if(this.parent&&this.parent!==item&&this.parent.updateSizeFrom){this.parent.updateSizeFrom(this,true)}if(bbox.width*bbox.height>0){this.children.forEach(c=>{if(c!==item&&c.updateSizeFrom){c.updateSizeFrom(this,false)}})}}priv.inSizeUpdate=false}updateTransformation(){const priv=d.get(this);const phi=priv.rotationAngle/180*Math.PI;const c=Math.cos(phi/2);const s=Math.sin(phi/2);const len=priv.rotationAxis.length();const normalizedAxis=len!==0?priv.rotationAxis.scale(1/len):priv.rotationAxis;priv.rotationQuaternion=[c,normalizedAxis.x*s,normalizedAxis.y*s,normalizedAxis.z*s];const m=mat.mul(mat.rotationMByQuaternion(priv.rotationQuaternion),mat.perspectiveM(priv.perspective));this.css(\"transform\",\"matrix3d(\"+mat.flat(m).join(\",\")+\")\");this.updateSizeFrom(null,false)}detachChild(child){if(child.get){const node=child.get();if(node.parentNode){node.parentNode.removeChild(node)}}super.detachChild(child)}get(){throw\"Subclasses must override Item.get().\";return null}withoutSizing(f){const priv=d.get(this);if(sizingCalculationsFrozen){f()}else{sizingCalculationsFrozen=true;f();sizingCalculationsFrozen=false}}}exports.Item=Item});","core/mid/label.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){const HTML=low.createElementTree(low.tag(\"p\").class(\"sh-label\").style(\"color\",\"black\").style(\"flex-grow\",\"1\").style(\"flex-shrink\",\"1\").style(\"width\",\"auto\").style(\"height\",\"auto\").style(\"align-items\",\"center\").style(\"justify-content\",\"left\").style(\"text-align\",\"left\").style(\"white-space\",\"nowrap\").style(\"text-overflow\",\"clip\").style(\"overflow\",\"hidden\").style(\"pointer-events\",\"none\").style(\"font-famiy\",\"sans-serif\").style(\"font-size\",\"12\").content(\"\").html());const d=new WeakMap;class Label extends item.Item{constructor(){super();d.set(this,{fontFamily:\"sans-serif\",fontSize:12,text:\"\",bold:false,italic:false,color:this.colorName(\"black\"),horizontalAlignment:\"left\",verticalAlignment:\"center\",overflowBehavior:\"clip\",literal:false,item:HTML.cloneNode()});this.notifyable(\"bold\");this.notifyable(\"color\");this.notifyable(\"fontFamily\");this.notifyable(\"fontSize\");this.notifyable(\"horizontalAlignment\");this.notifyable(\"italic\");this.notifyable(\"literal\");this.notifyable(\"overflowBehavior\");this.notifyable(\"text\");this.notifyable(\"verticalAlignment\")}get bold(){return d.get(this).bold}set bold(value){d.get(this).bold=value;this.css(\"font-weight\",value?\"bold\":\"normal\");this.boldChanged();this.updateSizeFrom(null,false)}get italic(){return d.get(this).italic}set italic(value){d.get(this).italic=value;this.css(\"font-style\",value?\"italic\":\"normal\");this.italicChanged();this.updateSizeFrom(null,false)}get literal(){return d.get(this).literal}set literal(value){d.get(this).literal=value;this.text=this.text;this.literalChanged();this.updateSizeFrom(null,false)}get text(){return d.get(this).text}set text(text){const priv=d.get(this);const isLiteral=priv.literal;priv.text=text;let out=low.escapeHtml(\"\"+text).replace(/\\n/g,\"<br>\");if(isLiteral){out=out.replace(/  /g,\" &nbsp;\")}else{out=low.resolveMarkup(low.resolveIcons(out))}if(out===text){priv.item.textContent=out}else{priv.item.innerHTML=out}this.textChanged();this.updateSizeFrom(null,false)}get color(){return d.get(this).color}set color(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"color\",col.toCss());d.get(this).color=col;this.colorChanged()}get fontFamily(){return d.get(this).fontFamily}set fontFamily(f){this.css(\"font-family\",f);d.get(this).fontFamily=f;this.fontFamilyChanged();this.updateSizeFrom(null,false)}get fontSize(){return d.get(this).fontSize}set fontSize(s){this.css(\"font-size\",s+\"px\");d.get(this).fontSize=s;this.fontSizeChanged();this.updateSizeFrom(null,false)}get horizontalAlignment(){d.get(this).horizontalAlignment}set horizontalAlignment(a){const map={\"left\":\"flex-start\",\"right\":\"flex-end\",\"center\":\"center\"};d.get(this).horizontalAlignment=a;this.css(\"justify-content\",map[a]);this.css(\"text-align\",a);this.horizontalAlignmentChanged()}get verticalAlignment(){d.get(this).verticalAlignment}set verticalAlignment(a){const map={\"top\":\"flex-start\",\"bottom\":\"flex-end\",\"center\":\"center\"};d.get(this).verticalAlignment=a;this.css(\"align-items\",map[a]);this.verticalAlignmentChanged()}get overflowBehavior(){d.get(this).overflowBehavior}set overflowBehavior(m){d.get(this).overflowBehavior=m;if(m===\"clip\"||m===\"ellipsis\"){this.css(\"text-overflow\",m);this.css(\"white-space\",\"nowrap\")}else if(m===\"wrap\"){this.css(\"text-overflow\",\"clip\");this.css(\"white-space\",\"normal\")}this.overflowBehaviorChanged();this.updateSizeFrom(null,false)}get(){return d.get(this).item}}exports.Label=Label});","core/mid/lineargradient.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/object.js\"],function(low,obj){let d=new WeakMap;class LinearGradient extends obj.Object{constructor(){super();d.set(this,{angle:0,stops:[]});this.notifyable(\"angle\");this.notifyable(\"expression\")}get angle(){return d.get(this).angle}set angle(a){d.get(this).angle=a;this.angleChanged();this.expressionChanged()}get expression(){let out=`linear-gradient(${d.get(this).angle}deg`;d.get(this).stops.forEach(stop=>{out+=`, ${stop.color.toCss()} ${Math.floor(stop.position*100)}%`});out+=\")\";return out}add(stop){stop.parent=this;d.get(this).stops.push(stop);stop.onValuesChange=()=>{this.expressionChanged()};this.expressionChanged()}}exports.LinearGradient=LinearGradient});","core/mid/listmodel.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],function(obj){const d=new WeakMap;class ListModel extends obj.Object{constructor(){super();d.set(this,{data:[]});this.notifyable(\"data\");this.notifyable(\"size\");this.registerEvent(\"modelReset\");this.registerEvent(\"modelInsert\");this.registerEvent(\"modelRemove\");this.registerEvent(\"modelReplace\")}get data(){return d.get(this).data.slice()}set data(dat){this.reset(dat);this.dataChanged()}get size(){return d.get(this).data.length}sequence(from,n){const arr=[];for(let i=from;i<from+n;++i){arr.push(i)}return arr}reset(data){d.get(this).data=data;this.sizeChanged();this.modelReset()}insert(at,data){const priv=d.get(this);if(at>=0&&at<=priv.data.length){priv.data.splice(at,0,data);this.modelInsert(at,1);this.sizeChanged()}}bulkInsert(at,bulk){const priv=d.get(this);if(at>=0&&at<=priv.data.length){const data=priv.data;priv.data=data.slice(0,at).concat(bulk).concat(priv.data.slice(at));this.modelInsert(at,bulk.length);this.sizeChanged()}}remove(at){if(at>=0&&at<d.get(this).data.length){d.get(this).data.splice(at,1);this.sizeChanged();this.modelRemove(at)}}replace(at,item){const prevItem=d.get(this).data[at];if(at>=0&&at<d.get(this).data.length){d.get(this).data[at]=item;this.modelReplace(at)}return prevItem}at(n){return d.get(this).data[n]}}exports.ListModel=ListModel});","core/mid/listview.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\",__dirname+\"/listmodel.js\"],function(low,item,listModel){class SparseList{constructor(){this.ranges=[]}get length(){return this.ranges.length>0?this.ranges[this.ranges.length-1][0]+this.ranges[this.ranges.length-1][1].length:0}get sparseLength(){return this.ranges.reduce((a,r)=>a+r[1].length,0)}clear(){this.ranges=[]}optimizeRange(r){while(r[1].length>0&&r[1][0]===undefined){r[1].shift();++r[0]}while(r[1].length>0&&r[1][r[1].length-1]===undefined){r[1].pop()}}mergeRange(r){const mergeDistance=Math.min(100,Math.ceil(this.length/10));let inserted=false;for(let i=0;i<this.ranges.length;++i){if(this.ranges[i][0]>r[0]){this.ranges.splice(i,0,r);inserted=true;break}}if(!inserted){this.ranges.push(r)}this.ranges.forEach(this.optimizeRange);let ranges=[this.ranges[0]];for(let i=1;i<this.ranges.length;++i){let dist=this.ranges[i][0]-(this.ranges[i-1][0]+this.ranges[i-1][1].length);if(dist<mergeDistance){let r=ranges[ranges.length-1];for(let j=0;j<dist;++j){r[1].push(undefined)}r[1]=r[1].concat(this.ranges[i][1])}else{ranges.push(this.ranges[i])}}this.ranges=ranges}append(value){this.insertBefore(this.length,value)}insertBefore(pos,value){let range=this.ranges.find(r=>pos>=r[0]&&pos<=r[0]+r[1].length);if(range){range[1].splice(pos-range[0],0,value);this.optimizeRange(range)}else{this.mergeRange([pos,[value]])}}removeAt(pos){let range=this.ranges.find(r=>pos>=r[0]&&pos<r[0]+r[1].length);this.ranges.forEach(r=>{if(r[0]>pos){r[0]=r[0]-1}});if(range){const innerPos=pos-range[0];const a=range[1].slice(0,innerPos);const b=range[1].slice(innerPos+1);range[1]=a;this.mergeRange([pos,b])}this.ranges=this.ranges.filter(r=>r[1].length>0)}at(pos){let range=this.ranges.find(r=>pos>=r[0]&&pos<r[0]+r[1].length);if(range){return range[1][pos-range[0]]}else{return undefined}}set(pos,value){let range=this.ranges.find(r=>pos>=r[0]&&pos<r[0]+r[1].length);if(range){range[1][pos-range[0]]=value}else{this.mergeRange([pos,[value]])}}accumulate(from,to,defaultValue,f){let value=0;let nextPos=from;this.ranges.forEach(function(r){const dist=Math.max(0,Math.min(to+1,r[0])-nextPos);value+=dist*defaultValue;const offset=Math.max(0,from-r[0]);const until=Math.min(r[1].length-1,to-r[0]);for(let i=offset;i<=until;++i){const v=r[1][i];value+=v!==undefined?f(v):defaultValue}nextPos=r[0]+until+1});const dist=Math.max(0,to-nextPos);value+=dist*defaultValue;return value}forEach(f){this.ranges.forEach(function(r){let idx=r[0];r[1].forEach(item=>{f(item,idx);++idx})})}}const d=new WeakMap;class ListView extends item.Item{constructor(){super();d.set(this,{bboxWidth:0,bboxHeight:0,renderHandle:null,shallRenderAgain:false,indexOffset:0,totalSize:0,model:null,delegate:()=>null,itemMeta:new SparseList,orientation:\"vertical\",cellWidth:64,cellHeight:32,cacheMargin:0,itemsPerRow:0,scrollbars:false,windowRange:[-1,-1],recycleBin:[],item:low.createElementTree(low.tag(\"div\").class(\"sh-no-scrollbars\").style(\"position\",\"relative\").style(\"width\",\"auto\").style(\"height\",\"auto\").style(\"overflow\",\"auto\").content(low.tag(\"div\")).content(low.tag(\"div\").style(\"position\",\"absolute\").style(\"width\",\"1px\").style(\"height\",\"1px\")).html())});this.notifyable(\"cacheMargin\");this.notifyable(\"count\");this.notifyable(\"cellHeight\");this.notifyable(\"cellWidth\");this.notifyable(\"model\");this.notifyable(\"orientation\");this.notifyable(\"scrollbars\");this.onContentXChanged=()=>this.updateLayout(false);this.onContentYChanged=()=>this.updateLayout(false);this.onCellWidthChanged=()=>window.setTimeout(()=>this.updateLayout(true),0);this.onCellHeightChanged=()=>window.setTimeout(()=>this.updateLayout(true),0);this.onBboxChanged=()=>{const b=this.bbox;if(d.get(this).bboxWidth!==b.width||d.get(this).bboxHeight!==b.height){d.get(this).bboxWidth=b.width;d.get(this).bboxHeight=b.height;const f=()=>this.updateLayout(false);f()}};this.canFocus=true}get orientation(){return d.get(this).orientation}set orientation(o){d.get(this).orientation=o;this.orientationChanged();this.updateLayout(false)}get cacheMargin(){return d.get(this).cacheMargin}set cacheMargin(c){d.get(this).cacheMargin=c;this.cacheMarginChanged();this.updateLayout(false)}get scrollbars(){return d.get(this).scrollbars}set scrollbars(value){d.get(this).scrollbars=value;if(value){d.get(this).item.classList.remove(\"sh-no-scrollbars\")}else{d.get(this).item.classList.add(\"sh-no-scrollbars\")}this.scrollbarsChanged()}get count(){return!!d.get(this).model?d.get(this).model.size:0}get model(){return d.get(this).model}set model(m){console.log(\"set model\");const priv=d.get(this);const toDestroy=[];priv.itemMeta.forEach((item,idx)=>{toDestroy.push(idx)});toDestroy.sort((a,b)=>b<a?-1:1).forEach(idx=>{this.destroyItem(idx)});this.dumpRecycleBin();priv.windowRange=[-1,-1];let mObj=null;if(typeof m===\"number\"){mObj=new listModel.ListModel;const arr=[];for(let i=0;i<m;++i)arr.push({});mObj.reset(arr)}else{mObj=m}if(priv.model){priv.model.disconnect(\"modelReset\",this);priv.model.disconnect(\"modelInsert\",this);priv.model.disconnect(\"modelRemove\",this);priv.model.referenceRemove(this)}priv.model=mObj;if(mObj){mObj.referenceAdd(this);mObj.connect(\"modelReset\",this,()=>{console.log(\"model reset\");if(priv.renderHandle){priv.renderHandle.cancel();priv.renderHandle=null}const toDestroy=[];priv.itemMeta.forEach((item,idx)=>{toDestroy.push(idx)});toDestroy.sort((a,b)=>b<a?-1:1).forEach(idx=>{this.destroyItem(idx)});priv.windowRange=[-1,-1];this.dumpRecycleBin();this.updateLayout(false);this.countChanged()});mObj.connect(\"modelInsert\",this,(at,size)=>{console.log(\"model insert at \"+at+\", size: \"+size);const windowRange=priv.windowRange;for(let i=0;i<size;++i){priv.itemMeta.insertBefore(at,undefined)}if(at+size<windowRange[1]||at>=priv.itemMeta.length){for(let i=at+size;i<=windowRange[1];++i){this.updateItem(i)}}this.updateLayout(false);this.countChanged()});mObj.connect(\"modelRemove\",this,at=>{console.log(\"model remove at \"+at);if(priv.renderHandle){priv.renderHandle.cancel();priv.renderHandle=null}let windowRange=priv.windowRange.slice();this.destroyItem(at);if(at<=windowRange[1]){priv.itemMeta.forEach((item,idx)=>{if(idx>=at){this.updateItem(idx)}});this.render()}this.updateLayout(false);this.countChanged()});mObj.connect(\"modelReplace\",this,at=>{this.updateItem(at)})}this.updateLayout(false);this.modelChanged();this.countChanged()}get delegate(){return d.get(this).delegate}set delegate(del){d.get(this).delegate=del;this.render()}get cellWidth(){return d.get(this).cellWidth}set cellWidth(w){d.get(this).cellWidth=w;this.cellWidthChanged()}get cellHeight(){return d.get(this).cellHeight}set cellHeight(h){d.get(this).cellHeight=h;this.cellHeightChanged()}updateLayout(force){const priv=d.get(this);if(!priv.model){return}const bbox=this.bbox;const cellWidth=priv.cellWidth;const cellHeight=priv.cellHeight;const modelSize=priv.model.size;let willRender=force;let itemsPerRow=0;let totalSize=0;let begin=0;let end=0;if(priv.orientation===\"vertical\"){itemsPerRow=cellWidth>0?Math.max(1,Math.floor(bbox.width/cellWidth)):0}else{itemsPerRow=cellHeight>0?Math.max(1,Math.floor(bbox.height/cellHeight)):0}if(itemsPerRow!==priv.itemsPerRow){console.log(\"itemsPerRowChanged: \"+priv.itemsPerRow+\" -> \"+itemsPerRow);priv.itemsPerRow=itemsPerRow;willRender=true}if(priv.orientation===\"vertical\"){totalSize=modelSize>0?this.positionOf(modelSize-1)[1]+cellHeight:0;const y1=this.contentY-priv.cacheMargin;const y2=y1+bbox.height+2*priv.cacheMargin;begin=this.indexAt(0,y1-cellHeight);end=this.indexAt(0,y2+cellHeight)}else{totalSize=modelSize>0?this.positionOf(modelSize-1)[0]+cellWidth:0;const x1=this.contentX-priv.cacheMargin;const x2=x1+bbox.width+2*priv.cacheMargin;begin=this.indexAt(x1-cellWidth,0);end=this.indexAt(x2+cellWidth,0)}begin=Math.max(0,Math.min(modelSize-1,begin));end=Math.max(0,Math.min(modelSize-1,end));if(totalSize!==priv.totalSize){console.log(\"totalSizeChanged: \"+priv.totalSize+\" -> \"+totalSize);priv.totalSize=totalSize;if(priv.orientation===\"vertical\"){low.css(priv.item.children[1],\"top\",totalSize-1+\"px\");low.css(priv.item.children[1],\"left\",\"0\")}else{low.css(priv.item.children[1],\"top\",\"0\");low.css(priv.item.children[1],\"left\",totalSize-1+\"px\")}const handle=low.addFrameHandler(()=>{handle.cancel();this.contentXChanged();this.contentYChanged();this.contentWidthChanged();this.contentHeightChanged()},this.objectType+\"@\"+this.objectLocation);willRender=true}if(begin!==priv.windowRange[0]){priv.windowRange[0]=begin;willRender=true}if(end!==priv.windowRange[1]){priv.windowRange[1]=end;willRender=true}if(willRender&&this.delegate&&this.model&&priv.itemsPerRow>0){this.render()}}dumpRecycleBin(){const priv=d.get(this);priv.recycleBin.forEach(item=>{item.parent=null});priv.recycleBin=[]}createItem(idx){const priv=d.get(this);let modelData={index:idx,value:priv.model.at(idx)};let item=null;if(priv.recycleBin.length>0){item=priv.recycleBin.pop();item.dataChange(modelData)}else{item=priv.delegate();item.modelData=modelData;item.onDataChange=data=>{item.modelData=data}}if(item){item.position=\"free\";item.width=priv.cellWidth;item.height=priv.cellHeight;priv.itemMeta.set(idx,item)}return item}updateItem(idx){const priv=d.get(this);let modelData={index:idx,value:priv.model.at(idx)};if(modelData.value!==undefined){let item=priv.itemMeta.at(idx);if(item){item.dataChange(modelData)}}}suspendItem(idx){const priv=d.get(this);let item=priv.itemMeta.at(idx);if(item){priv.itemMeta.set(idx,undefined);priv.recycleBin.push(item);item.x=-priv.cellWidth;item.y=0}}destroyItem(idx){const priv=d.get(this);let item=priv.itemMeta.at(idx);if(item){priv.itemMeta.removeAt(idx);priv.recycleBin.push(item);item.x=-priv.cellWidth;item.y=0}}indexAt(x,y){const priv=d.get(this);if(priv.cellWidth===0||priv.cellHeight===0){return 0}let idx=0;if(priv.orientation===\"vertical\"){idx=Math.floor(y/priv.cellHeight)*priv.itemsPerRow+Math.floor(x/priv.cellWidth)}else{idx=Math.floor(x/priv.cellWidth)*priv.itemsPerRow+Math.floor(y/priv.cellHeight)}return idx}positionOf(idx){const priv=d.get(this);if(idx<0||priv.itemsPerRow===0){return[0,0]}if(priv.orientation===\"vertical\"){return[idx%priv.itemsPerRow*priv.cellWidth,Math.floor(idx/priv.itemsPerRow)*priv.cellHeight]}else{return[Math.floor(idx/priv.itemsPerRow)*priv.cellWidth,idx%priv.itemsPerRow*priv.cellHeight]}}render(){this.withoutSizing(()=>{this.doRender()})}doRender(){const now=Date.now();const priv=d.get(this);const model=priv.model;const bbox=this.bbox;const delegate=priv.delegate;const cellWidth=priv.cellWidth;const cellHeight=priv.cellHeight;if(priv.renderHandle){priv.shallRenderAgain=true;return}if(!model||!delegate||this.lifeCycleStatus!==\"initialized\"||bbox.width===0&&bbox.height===0){return}let removeCount=0;priv.itemMeta.forEach((item,idx)=>{if(item&&idx<priv.windowRange[0]||idx>priv.windowRange[1]){this.suspendItem(idx);++removeCount}});const beginIndex=Math.max(0,priv.windowRange[0]);const endIndex=Math.min(model.size-1,priv.windowRange[1]);let itemPos=this.positionOf(beginIndex);let addCount=0;const items=[];for(let i=beginIndex;i<=endIndex;++i){if(priv.orientation===\"vertical\"){const dist=Math.abs(itemPos[1]-(this.contentY+bbox.height/2));items.push([i,itemPos.slice(),dist]);itemPos[0]+=cellWidth;if(itemPos[0]>bbox.width-cellWidth){itemPos[0]=0;itemPos[1]+=cellHeight}}else{const dist=Math.abs(itemPos[0]-(this.contentX+bbox.width/2));items.push([i,itemPos.slice(),dist]);itemPos[1]+=cellHeight;if(itemPos[1]>bbox.height-cellHeight){itemPos[1]=0;itemPos[0]+=cellWidth}}}items.sort((a,b)=>{const aDist=a[2];const bDist=b[2];return aDist<bDist?-1:1});this.renderItems(items)}renderItems(items){const now=Date.now();const bbox=this.bbox;const priv=d.get(this);for(let n=0;n<items.length;++n){if(priv.shallRenderAgain){break}let item=null;const lastIndex=items[n][0];const itemPos=items[n][1];const dist=items[n][2];let isNew=false;if(priv.itemMeta.at(lastIndex)){item=priv.itemMeta.at(lastIndex)}else{item=this.createItem(lastIndex);if(!item){break}if(!item.parent){priv.item.children[0].appendChild(item.get());item.parent=this}isNew=true}if(item.x!==itemPos[0]){item.x=itemPos[0]}if(item.y!==itemPos[1]){item.y=itemPos[1]}if(item.width!==priv.cellWidth){item.width=priv.cellWidth}if(item.height!==priv.cellHeight){item.height=priv.cellHeight}let distExceeded=false;if(priv.orientation===\"vertical\"){distExceeded=dist>bbox.height/2}else{distExceeded=dist>bbox.width/2}if(distExceeded&&Date.now()-now>1000/30){const remainingItems=items.slice(n+1);const handle=window.setTimeout(()=>{priv.renderHandle=null;this.withoutSizing(()=>{this.renderItems(remainingItems)})},20);priv.renderHandle={cancel:()=>{window.clearTimeout(handle);priv.renderHandle=null}};return}}if(priv.shallRenderAgain){priv.shallRenderAgain=false;const handle=low.addFrameHandler(()=>{handle.cancel();this.render()},this.objectType+\"@\"+this.objectLocation)}}positionViewAt(idx){this.updateLayout(false);const priv=d.get(this);const pos=this.positionOf(idx);if(priv.orientation===\"vertical\"){const viewSize=this.bbox.height;if(pos[1]+priv.cellHeight>this.contentY+viewSize){this.contentY=Math.max(0,pos[1]+priv.cellHeight-viewSize)}else if(pos[1]<this.contentY){this.contentY=pos[1]}}else{const viewSize=this.bbox.width;if(pos[0]+priv.cellWidth>this.contentX+viewSize){this.contentX=Math.max(0,pos[0]+priv.cellWidth-viewSize)}else if(pos[0]<this.contentX){this.contentX=pos[0]}}}get(){return d.get(this).item}}exports.ListView=ListView});","core/mid/mousebox.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/box.js\"],function(low,box){const POINTER_EVENT=!!window.PointerEvent;let d=new WeakMap;function makePointerEvent(ev,item){let touchPoint=null;if(ev.touches){touchPoint=ev.touches[0]?ev.touches[0]:ev.changedTouches[0]}let itemX=0;let itemY=0;if(item){const bbox=item.getBoundingClientRect();itemX=bbox.left;itemY=bbox.top}return{original:ev,accepted:false,pointerId:POINTER_EVENT?ev.pointerId:0,pointerType:POINTER_EVENT?ev.pointerType:\"mouse\",x:touchPoint?touchPoint.clientX-itemX:ev.clientX-itemX,y:touchPoint?touchPoint.clientY-itemY:ev.clientY-itemY,buttons:touchPoint?1:ev.buttons,pressure:POINTER_EVENT?ev.pressure:0.5,tiltX:POINTER_EVENT?ev.tiltX:0,tiltY:POINTER_EVENT?ev.tiltY:0}}function makeWheelEvent(ev){return{original:ev,accepted:false,deltaX:ev.deltaX,deltaY:ev.deltaY,deltaZ:ev.deltaZ,x:ev.offsetX,y:ev.offsetY}}function makeDragEvent(ev,dx,dy){return{original:ev,accepted:false,deltaX:dx,deltaY:dy}}class MouseBox extends box.Box{constructor(){super();d.set(this,{containsMouse:false,pressed:false,touchPoints:[]});const item=this.get();let listeners={};const ensureListener=(name,handler,makeEvent)=>{if(!listeners[name]){const h=ev=>{const e=makeEvent(ev,item);handler(e);if(e.accepted){ev.stopPropagation();ev.preventDefault()}};this.addHtmlEventListener(item,name,h,false);listeners[name]=h}};this.notifyable(\"containsMouse\");this.notifyable(\"pressed\");this.notifyable(\"touchPoints\");this.onDestruction=()=>{listeners={}};const priv=d.get(this);let haveClickDetection=false;const setupClickDetection=()=>{let downIsClick=false;let downPos=[0,0];let lastClickTime=0;const downHandler=ev=>{downIsClick=true;downPos=[ev.clientX,ev.clientY]};this.addHtmlEventListener(item,POINTER_EVENT?\"pointerdown\":\"mousedown\",downHandler,{passive:true});const moveHandler=ev=>{const distX=Math.abs(ev.clientX-downPos[0]);const distY=Math.abs(ev.clientY-downPos[1]);if(distX>10||distY>10){downIsClick=false}};this.addHtmlEventListener(item,POINTER_EVENT?\"pointermove\":\"mousemove\",moveHandler,{passive:true});const upHandler=ev=>{if(downIsClick){const now=Date.now();if(now-lastClickTime<300){const e=makePointerEvent(ev,item);this.doubleClick(e);if(e.accepted){ev.stopPropagation();ev.preventDefault()}lastClickTime=0}else{const e=makePointerEvent(ev,item);this.click(e);if(e.accepted){ev.stopPropagation();ev.preventDefault()}lastClickTime=now}downIsClick=false}};this.addHtmlEventListener(item,POINTER_EVENT?\"pointerup\":\"mouseup\",upHandler,false)};let haveDragDetection=false;const setupDragDetection=()=>{let originX=0;let originY=0;let pending=false;let pendingDx=0;let pendingDy=0;const drag=event=>{event.stopPropagation();event.preventDefault();const dx=event.clientX-originX;const dy=event.clientY-originY;pendingDx+=dx;pendingDy+=dy;if(!pending){pending=true;const handle=low.addFrameHandler(()=>{handle.cancel();pending=false;const e=makeDragEvent(event,pendingDx,pendingDy);this.drag(e);pendingDx=0;pendingDy=0},this.objectType+\"@\"+this.objectLocation)}originX=event.clientX;originY=event.clientY};const touchDrag=event=>{event.stopPropagation();event.preventDefault();const dx=event.touches[0].clientX-originX;const dy=event.touches[0].clientY-originY;pendingDx+=dx;pendingDy+=dy;if(!pending){pending=true;const handle=low.addFrameHandler(()=>{handle.cancel();pending=false;const e=makeDragEvent(event,pendingDx,pendingDy);this.drag(e);pendingDx=0;pendingDy=0},this.objectType+\"@\"+this.objectLocation)}originX=event.touches[0].clientX;originY=event.touches[0].clientY};const stopDrag=event=>{window.removeEventListener(POINTER_EVENT?\"pointermove\":\"mousemove\",drag,true);window.removeEventListener(POINTER_EVENT?\"pointerup\":\"mouseup\",stopDrag,true);this.dragEnd();event.stopPropagation();event.preventDefault()};const stopTouchDrag=event=>{window.removeEventListener(\"touchmove\",touchDrag,true);window.removeEventListener(\"touchend\",stopTouchDrag,true);this.dragEnd();event.stopPropagation();event.preventDefault()};const startDrag=event=>{originX=event.clientX;originY=event.clientY;const e=makeDragEvent(event,0,0);this.drag(e);if(e.accepted){window.addEventListener(POINTER_EVENT?\"pointermove\":\"mousemove\",drag,true);window.addEventListener(POINTER_EVENT?\"pointerup\":\"mouseup\",stopDrag,true);event.stopPropagation();event.preventDefault()}};const startTouchDrag=event=>{originX=event.touches[0].clientX;originY=event.touches[0].clientY;const e=makeDragEvent(event,0,0);this.drag(e);if(e.accepted){window.addEventListener(\"touchmove\",touchDrag,true);window.addEventListener(\"touchend\",stopTouchDrag,true);event.stopPropagation();event.preventDefault()}};this.addHtmlEventListener(item,POINTER_EVENT?\"pointerdown\":\"mousedown\",startDrag,false);listeners[\"pointerdown-drag\"]=startDrag;if(!POINTER_EVENT){this.addHtmlEventListener(item,\"touchstart\",startTouchDrag,false);listeners[\"touchstart-drag\"]=startTouchDrag}};this.registerEvent(\"mouseOver\",()=>ensureListener(\"mouseover\",this.mouseOver,makePointerEvent,true));this.registerEvent(\"mouseOut\",()=>ensureListener(\"mouseout\",this.mouseOut,makePointerEvent));this.registerEvent(\"mouseDown\",()=>ensureListener(\"mousedown\",this.mouseDown,makePointerEvent));this.registerEvent(\"mouseUp\",()=>ensureListener(\"mouseup\",this.mouseUp,makePointerEvent));this.registerEvent(\"mouseMove\",()=>ensureListener(\"mousemove\",this.mouseMove,makePointerEvent));this.registerEvent(\"click\",()=>{if(!haveClickDetection){setupClickDetection();haveClickDetection=true}});this.registerEvent(\"doubleClick\",()=>{if(!haveClickDetection){setupClickDetection();haveClickDetection=true}});this.registerEvent(\"contextMenu\",()=>ensureListener(\"contextmenu\",this.contextMenu,makePointerEvent));this.registerEvent(\"wheel\",()=>ensureListener(\"wheel\",this.wheel,makeWheelEvent));this.registerEvent(\"pointerEnter\",()=>ensureListener(POINTER_EVENT?\"pointerenter\":\"mouseenter\",this.pointerEnter,makePointerEvent));this.registerEvent(\"pointerOut\",()=>ensureListener(POINTER_EVENT?\"pointerout\":\"mouseout\",this.pointerOut,makePointerEvent));this.registerEvent(\"pointerLeave\",()=>ensureListener(POINTER_EVENT?\"pointerleave\":\"mouseout\",this.pointerLeave,makePointerEvent));this.registerEvent(\"pointerDown\",()=>{ensureListener(POINTER_EVENT?\"pointerdown\":\"mousedown\",this.pointerDown,makePointerEvent);if(!POINTER_EVENT){ensureListener(\"touchstart\",ev=>{this.pointerDown(ev);ev.original.preventDefault()},makePointerEvent)}});this.registerEvent(\"pointerUp\",()=>{ensureListener(POINTER_EVENT?\"pointerup\":\"mouseup\",this.pointerUp,makePointerEvent);if(!POINTER_EVENT){ensureListener(\"touchend\",this.pointerUp,makePointerEvent)}});this.registerEvent(\"pointerMove\",()=>{ensureListener(POINTER_EVENT?\"pointermove\":\"mousemove\",this.pointerMove,makePointerEvent);if(!POINTER_EVENT){ensureListener(\"touchmove\",this.pointerMove,makePointerEvent)}});this.registerEvent(\"drag\",()=>{if(!haveDragDetection){item.style.touchAction=\"none\";setupDragDetection();haveDragDetection=true}});this.registerEvent(\"dragEnd\");if(POINTER_EVENT){this.addHtmlEventListener(item,\"pointerdown\",ev=>{priv.pressed=true;this.pressedChanged();if(ev.pointerType===\"touch\"){priv.touchPoints.push(ev);this.touchPointsChanged()}},{passive:true});this.addHtmlEventListener(item,\"pointerup\",ev=>{priv.pressed=false;this.pressedChanged();if(ev.pointerType===\"touch\"){priv.touchPoints=priv.touchPoints.filter(tp=>tp.pointerId!==ev.pointerId);this.touchPointsChanged()}},{passive:true});this.addHtmlEventListener(item,\"pointermove\",ev=>{if(ev.pointerType===\"touch\"&&priv.touchPoints.length>0){priv.touchPoints=priv.touchPoints.filter(tp=>tp.pointerId!==ev.pointerId);priv.touchPoints.push(ev)}},{passive:true});this.addHtmlEventListener(item,\"pointerenter\",()=>{priv.containsMouse=true;this.containsMouseChanged()},{passive:true});this.addHtmlEventListener(item,\"pointerover\",()=>{priv.containsMouse=true;this.containsMouseChanged()},{passive:true});this.addHtmlEventListener(item,\"pointerout\",ev=>{priv.containsMouse=false;this.containsMouseChanged();priv.pressed=false;this.pressedChanged();if(ev.pointerType===\"touch\"){priv.touchPoints=priv.touchPoints.filter(tp=>tp.pointerId!==ev.pointerId);this.touchPointsChanged()}},{passive:true});this.addHtmlEventListener(item,\"pointerleave\",ev=>{priv.containsMouse=false;this.containsMouseChanged();priv.pressed=false;this.pressedChanged();if(ev.pointerType===\"touch\"){priv.touchPoints=priv.touchPoints.filter(tp=>tp.pointerId!==ev.pointerId);this.touchPointsChanged()}},{passive:true});this.addHtmlEventListener(item,\"pointercancel\",ev=>{priv.containsMouse=false;this.containsMouseChanged();priv.pressed=false;this.pressedChanged();if(ev.pointerType===\"touch\"){priv.touchPoints=priv.touchPoints.filter(tp=>tp.pointerId!==ev.pointerId);this.touchPointsChanged()}},{passive:true})}else{this.addHtmlEventListener(item,\"mousedown\",()=>{priv.pressed=true;this.pressedChanged()});this.addHtmlEventListener(item,\"mouseup\",()=>{priv.pressed=false;this.pressedChanged()});this.addHtmlEventListener(item,\"mouseover\",()=>{priv.containsMouse=true;this.containsMouseChanged()},{passive:true});this.addHtmlEventListener(item,\"mouseout\",()=>{priv.containsMouse=false;this.containsMouseChanged()},{passive:true});this.addHtmlEventListener(item,\"touchstart\",()=>{priv.pressed=true;this.pressedChanged()},{passive:true});this.addHtmlEventListener(item,\"touchend\",()=>{priv.containsMouse=false;this.containsMouseChanged();priv.pressed=false;this.pressedChanged()},{passive:true})}}get containsMouse(){return d.get(this).containsMouse}get pressed(){return d.get(this).pressed}get touchPoints(){return d.get(this).touchPoints.length}touchPoint(n){if(n>=0&&n<d.get(this).touchPoints.length){const tp=d.get(this).touchPoints[n];return{id:tp.pointerId,x:tp.x-this.bbox.x,y:tp.y-this.bbox.y}}else{return null}}}exports.MouseBox=MouseBox});","core/mid/numberanimation.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/animation.js\",__dirname+\"/util/bezier-easing.js\"],function(low,anim,bezier){function interpolation(keyPoints){const ks=Object.keys(keyPoints).sort();return v=>{for(let i=1;i<ks.length;++i){if(v>=ks[i-1]&&v<=ks[i]){const x1=ks[i-1];const x2=ks[i];const y1=keyPoints[x1];const y2=keyPoints[x2];const x=(v-x1)/(x2-x1);return y1+(y2-y1)*x}}return 1}}function createEasing(name){switch(name){case\"Linear\":return v=>v;case\"InSine\":return bezier.bezier(0.47,0,0.745,0.715);case\"OutSine\":return bezier.bezier(0.39,0.575,0.565,1);case\"InOutSine\":return bezier.bezier(0.445,0.05,0.55,0.95);case\"InQuad\":return bezier.bezier(0.55,0.085,0.68,0.53);case\"OutQuad\":return bezier.bezier(0.25,0.46,0.45,0.94);case\"InOutQuad\":return bezier.bezier(0.455,0.03,0.515,0.955);case\"InCubic\":return bezier.bezier(0.55,0.055,0.675,0.19);case\"OutCubic\":return bezier.bezier(0.215,0.61,0.355,1);case\"InOutCubic\":return bezier.bezier(0.645,0.045,0.355,1);case\"InQuart\":return bezier.bezier(0.895,0.03,0.685,0.22);case\"OutQuart\":return bezier.bezier(0.165,0.84,0.44,1);case\"InOutQuart\":return bezier.bezier(0.77,0,0.175,1);case\"InQuint\":return bezier.bezier(0.755,0.05,0.855,0.06);case\"OutQuint\":return bezier.bezier(0.23,1,0.32,1);case\"InOutQuint\":return bezier.bezier(0.86,0,0.07,1);case\"InExpo\":return bezier.bezier(0.95,0.05,0.795,0.035);case\"OutExpo\":return bezier.bezier(0.19,1,0.22,1);case\"InOutExpo\":return bezier.bezier(1,0,0,1);case\"InCirc\":return bezier.bezier(0.6,0.04,0.98,0.335);case\"OutCirc\":return bezier.bezier(0.075,0.82,0.165,1);case\"InOutCirc\":return bezier.bezier(0.785,0.135,0.15,0.86);case\"InBack\":return bezier.bezier(0.6,-0.28,0.735,0.045);case\"OutBack\":return bezier.bezier(0.175,0.885,0.32,1.275);case\"InOutBack\":return bezier.bezier(0.68,-0.55,0.265,1.55);case\"InElastic\":return interpolation({0:0,0.18:0,0.26:-0.01,0.28:-0.01,0.4:0.02,0.42:0.02,0.56:-0.05,0.58:-0.04,0.72:0.13,0.86:-0.37,1:1});case\"OutElastic\":return interpolation({0:0,0.16:1.32,0.28:0.87,0.44:1.05,0.59:0.98,0.73:1.01,0.88:1,1:1});case\"InOutElastic\":return interpolation({0:0,0.08:0,0.18:-0.01,0.2:0,0.28:0.02,0.3:0.02,0.38:-0.09,0.4:-0.12,0.6:1.12,0.62:1.09,0.7:0.98,0.72:0.98,0.8:1,0.82:1.01,0.9:1,1:1});case\"InBounce\":return interpolation({0:0,0.04:0.02,0.08:0.01,0.18:0.06,0.26:0.02,0.46:0.25,0.64:0.02,0.76:0.56,0.88:0.89,1:1});case\"OutBounce\":return interpolation({0:0,0.12:0.11,0.24:0.44,0.36:0.98,0.54:0.75,0.74:0.98,0.82:0.94,0.92:0.99,0.96:0.98,1:1});case\"InOutBounce\":return interpolation({0:0,0.02:0.01,0.04:0,0.1:0.03,0.14:0.01,0.22:0.12,0.32:0.01,0.42:0.4,0.5:0.5,0.58:0.6,0.68:0.99,0.78:0.88,0.86:0.99,0.9:0.97,0.96:1,0.98:0.99,1:1});}return v=>0}const d=new WeakMap;class NumberAnimation extends anim.Animation{constructor(){super();d.set(this,{interpolate:(v1,v2,x)=>v1+(v2-v1)*x,enabled:true,duration:3000,from:0,to:1,easing:\"InOutQuad\",handle:null});this.notifyable(\"enabled\");this.notifyable(\"duration\");this.notifyable(\"from\");this.notifyable(\"to\");this.notifyable(\"easing\");this.registerEvent(\"next\");this.onDestruction=()=>{if(d.get(this).handle){d.get(this).handle.cancel()}}}get enabled(){return d.get(this).enabled}set enabled(v){d.get(this).enabled=v;this.enabledChanged()}get duration(){return d.get(this).duration}set duration(duration){d.get(this).duration=duration;this.durationChanged()}get from(){return d.get(this).from}set from(v){d.get(this).from=v;this.fromChanged()}get to(){return d.get(this).to}set to(v){d.get(this).to=v;this.toChanged()}get interpolate(){return d.get(this).interpolate}set interpolate(f){d.get(this).interpolate=f}get easing(){return d.get(this).easing}set easing(easing){d.get(this).easing=easing;this.easingChanged()}start(valueCallback){let t=0;let prevTimestamp=0;const priv=d.get(this);const from=priv.from;const to=priv.to;const duration=priv.duration;const interpolate=priv.interpolate;const easing=createEasing(priv.easing);const runFrame=timestamp=>{let diff=0;if(prevTimestamp>0){diff=timestamp-prevTimestamp}prevTimestamp=timestamp;t+=diff;const value=t>=duration?to:interpolate(from,to,easing(Math.min(t/duration,1)));this.next(value);if(valueCallback){valueCallback(value)}if(t>=duration){priv.handle.cancel();priv.handle=null;this.finish()}};if(priv.handle){priv.handle.cancel()}priv.handle=low.addFrameHandler(runFrame,this.objectType+\"@\"+this.objectLocation);return super.start()}}exports.NumberAnimation=NumberAnimation});","core/mid/object.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/util/color.js\"],(low,colUtil)=>{class ConnectionsHub{constructor(){this.keyCounter=0;this.emittersOfReceiver=new Map;this.receiversOfEmitter=new Map;this.handlersOfEmitter=new Map;this.handlersOfReceiver=new Map;this.eventOfHandler=new Map;this.handlers=new Map}connect(emitter,event,receiver,handler){const handlerKey=\"handler-\"+this.keyCounter;++this.keyCounter;this.handlers.set(handlerKey,handler);if(!this.emittersOfReceiver.has(receiver)){this.emittersOfReceiver.set(receiver,new Set)}this.emittersOfReceiver.get(receiver).add(emitter);if(!this.receiversOfEmitter.has(emitter)){this.receiversOfEmitter.set(emitter,new Set)}this.receiversOfEmitter.get(emitter).add(receiver);if(!this.handlersOfReceiver.has(receiver)){this.handlersOfReceiver.set(receiver,new Set)}this.handlersOfReceiver.get(receiver).add(handlerKey);if(!this.handlersOfEmitter.has(emitter)){this.handlersOfEmitter.set(emitter,new Set)}this.handlersOfEmitter.get(emitter).add(handlerKey);this.eventOfHandler.set(handlerKey,event)}disconnect(emitter,event,receiver){if(this.emittersOfReceiver.has(receiver)){for(let handlerKey of this.handlersOfReceiver.get(receiver).keys()){if(this.eventOfHandler.get(handlerKey)===event&&this.handlersOfEmitter.get(emitter)===handlerKey){this.handlers.delete(handlerKey);this.eventOfHandler.delete(handlerKey);this.handlersOfEmitter.get(emitter).delete(handlerKey);this.handlersOfReceiver.get(receiver).delete(handlerKey)}}}if(this.handlersOfReceiver.has(receiver)){let hasConnections=false;for(let handlerKey of this.handlersOfReceiver.get(receiver).keys()){if(this.handlersOfEmitter.get(emitter).has(handlerKey)){hasConnections=true;break}}if(!hasConnections){this.receiversOfEmitter.get(emitter).delete(receiver);this.emittersOfReceiver.get(receiver).delete(emitter)}}}removeEmitter(emitter){if(this.receiversOfEmitter.has(emitter)){for(let receiver of this.receiversOfEmitter.get(emitter).keys()){this.emittersOfReceiver.get(receiver).delete(emitter);for(let handlerKey of this.handlersOfEmitter.get(emitter).keys()){this.handlers.delete(handlerKey);this.eventOfHandler.delete(handlerKey);this.handlersOfReceiver.get(receiver).delete(handlerKey)}}}this.receiversOfEmitter.delete(emitter);this.handlersOfEmitter.delete(emitter)}removeReceiver(receiver){if(this.emittersOfReceiver.has(receiver)){for(let emitter of this.emittersOfReceiver.get(receiver).keys()){this.receiversOfEmitter.get(emitter).delete(receiver);for(let handlerKey of this.handlersOfReceiver.get(receiver).keys()){this.handlers.delete(handlerKey);this.eventOfHandler.delete(handlerKey);this.handlersOfEmitter.get(emitter).delete(handlerKey)}}}this.emittersOfReceiver.delete(receiver);this.handlersOfReceiver.delete(receiver)}trigger(emitter,event,args){if(!this.handlersOfEmitter.has(emitter)){return}for(let handlerKey of this.handlersOfEmitter.get(emitter)){if(this.eventOfHandler.get(handlerKey)===event){try{this.handlers.get(handlerKey).apply(null,args||[])}catch(err){console.error(`[${exports.dbgctx}] Error triggering event '${emitter.constructor.name}.${event} (${emitter.objectLocation}): ${err}\\n${err.stack||\"<stacktrace not available>\"}`)}}}}has(emitter,event){if(!this.handlersOfEmitter.has(emitter)){return false}for(let handlerKey of this.handlersOfEmitter.get(emitter)){if(this.eventOfHandler.get(handlerKey)===event){return true}}return false}events(emitter){if(this.handlersOfEmitter.has(emitter)){const events=[];for(let handlerKey of this.handlersOfEmitter.get(emitter)){let recv=null;for(let receiver of this.receiversOfEmitter.get(emitter)){for(let rh of this.handlersOfReceiver.get(receiver)){if(rh===handlerKey){recv=receiver}}}if(this.eventOfHandler.has(handlerKey)){events.push([this.eventOfHandler.get(handlerKey),recv])}}return events}else{return[]}}}const connHub=new ConnectionsHub;let objCounter=0;let idCounter=0;const allInstances=new Set;const d=new WeakMap;class Obj{constructor(){d.set(this,{lifeCycleStatus:\"new\",referenceCount:0,referenceMap:{},customProperties:[],parent:null,children:[],interpolators:{},objectId:idCounter++,objectLocation:\"<unspecified location>\",objectType:this.constructor.name,htmlEventListeners:[],blobUrls:[],typeCache:{}});this.notifyable(\"children\");this.notifyable(\"parent\");this.registerEvent(\"initialization\");this.registerEvent(\"destruction\");this.registerEvent(\"termination\");this.registerEvent(\"dataChange\");++objCounter;allInstances.add(this)}get lifeCycleStatus(){return d.get(this).lifeCycleStatus}get objectId(){return d.get(this).objectId}get objectLocation(){return d.get(this).objectLocation}set objectLocation(l){d.get(this).objectLocation=l}get objectType(){return d.get(this).objectType}set objectType(t){d.get(this).objectType=t}get parent(){return d.get(this).parent}set parent(p){if(d.get(this).parent===p){return}if(d.get(this).parent){if(p!==null){console.warn(\"The object \"+this.constructor.name+\" at \"+this.objectLocation+\" \"+\"has already a parent \"+d.get(this).parent.constructor.name+\" at \"+d.get(this).parent.objectLocation+\".\")}d.get(this).parent.detachChild(this);this.referenceRemove(d.get(this).parent)}d.get(this).parent=p;if(p!==null){p.attachChild(this);this.referenceAdd(p)}this.parentChanged()}get children(){return d.get(this).children}rgba(r,g,b,a){return colUtil.rgba(r,g,b,a)}rgb(r,g,b){return colUtil.rgb(r,g,b)}colorName(name){return colUtil.color(name)}init(){if(d.get(this).lifeCycleStatus===\"initialized\"){console.error(`Attempted to initialize an already initialized object: ${this.constructor.name} (${this.objectLocation})`);return}d.get(this).lifeCycleStatus=\"initialized\";this.trigger(\"initialization\")}discard(){console.warn(this.objectType+\"@\"+this.objectLocation+\": Calling discard() is deprecated and should not be used.\");this.destroy()}destroy(){if(d.get(this).lifeCycleStatus===\"destroyed\"){console.error(`Attempted to destroy an already destroyed object: ${this.constructor.name} (${this.objectLocation})`);return}d.get(this).lifeCycleStatus=\"destroyed\";this.trigger(\"destruction\");connHub.removeReceiver(this);connHub.removeEmitter(this);if(d.get(this).parent){d.get(this).parent.detachChild(this)}d.get(this).parent=null;d.get(this).htmlEventListeners.forEach(entry=>{entry.target.removeEventListener(entry.type,entry.listener,entry.options)});d.get(this).htmlEventListeners=[];d.get(this).blobUrls.forEach(url=>{console.log(\"Revoking object URL: \"+url);URL.revokeObjectURL(url)});d.get(this).blobUrls=[];d.get(this).interpolators={};if(this.get){this.get().remove()}--objCounter;allInstances.delete(this)}safeCallback(callback){return(...args)=>{if(d.get(this).lifeCycleStatus!==\"destroyed\"){return callback(...args)}}}referenceAdd(which){if(which===this){return}++d.get(this).referenceCount;const whichName=which?which.objectType+\"@\"+which.objectLocation:\"<global>\";d.get(this).referenceMap[whichName]=(d.get(this).referenceMap[whichName]||0)+1;if(which===null){return}if(d.get(this).lifeCycleStatus===\"new\"){if(which.lifeCycleStatus===\"initialized\"){this.init()}else{which.connect(\"initialization\",this,()=>{if(this.lifeCycleStatus===\"new\"){this.init()}which.disconnect(\"initialization\",this)})}}which.connect(\"destruction\",this,()=>{this.referenceRemove(which)})}referenceRemove(which){if(which===this){return}--d.get(this).referenceCount;const whichName=which?which.objectType+\"@\"+which.objectLocation:\"<global>\";--d.get(this).referenceMap[whichName];if(d.get(this).referenceMap[whichName]===0){delete d.get(this).referenceMap[whichName]}which.disconnect(\"destruction\",this);if(d.get(this).referenceCount===0){this.destroy()}}attachChild(child){d.get(this).children.push(child);this.childrenChanged()}detachChild(child){d.get(this).children=d.get(this).children.filter(c=>c!==child);this.childrenChanged()}notifyable(name){this.registerEvent(name+\"Changed\")}typeOf(name){const priv=d.get(this);const result=priv.typeCache[name];if(result){return result}let descr=Object.getOwnPropertyDescriptor(this,name);if(descr){if(descr.set){if(priv.customProperties.find(c=>c===name)){priv.typeCache[name]=\"property\";return\"property\"}else{priv.typeCache[name]=\"eventhandler\";return\"eventhandler\"}}else{priv.typeCache[name]=\"event\";return\"event\"}}let proto=Object.getPrototypeOf(this);while(proto){descr=Object.getOwnPropertyDescriptor(proto,name);if(descr){if(descr.get||descr.set){priv.typeCache[name]=\"property\";return\"property\"}else{priv.typeCache[name]=\"method\";return\"method\"}}proto=Object.getPrototypeOf(proto)}return\"undefined\"}addProperty(name,getter,setter){this.notifyable(name);const s=v=>{const prevV=getter();if(v===prevV){return}if(prevV instanceof Obj){prevV.referenceRemove(this)}if(v instanceof Obj){v.referenceAdd(this)}setter(v);this[name+\"Changed\"]()};Object.defineProperty(this,name,{set:s,get:getter,enumerable:true});d.get(this).customProperties.push(name)}transitionable(name,interpolate){let transition=null;this.addProperty(name+\"Transition\",()=>transition,t=>{transition=t});if(interpolate){d.get(this).interpolators[name]=interpolate}}change(name,newValue){const transitionProp=name+\"Transition\";if(this[transitionProp]&&this[transitionProp].enabled&&d.get(this).lifeCycleStatus===\"initialized\"){const transition=this[transitionProp];transition.from=this[name];transition.to=newValue;const interpolate=d.get(this).interpolators[name];if(interpolate){transition.interpolate=interpolate}transition.start(value=>{this[name]=value})}else{this[name]=newValue}}registerEvent(name,connectionMonitor){if(this[name]!==undefined){throw\"The name \"+name+\" is already in use.\"}const uname=name[0].toUpperCase()+name.substr(1);const onEvent=\"on\"+uname;if(this[onEvent]!==undefined){throw\"The name \"+onEvent+\" is already in use.\"}Object.defineProperty(this,onEvent,{set:cb=>{connHub.connect(this,name,this,cb);if(connectionMonitor)connectionMonitor()},get:()=>true,enumerable:false});const priv=d.get(this);let localRecursionDepth=0;this[name]=(...args)=>{if(localRecursionDepth>3){console.warn(`Binding loop in ${this.constructor.name}.${name} (${this.objectLocation})`);return}++localRecursionDepth;this.trigger(name,...args);--localRecursionDepth}}connect(event,receiver,handler){connHub.connect(this,event,receiver,handler)}disconnect(event,receiver){connHub.disconnect(this,event,receiver)}trigger(event,...args){connHub.trigger(this,event,args)}hasConnections(event){return connHub.has(this,event)}addHtmlEventListener(target,type,listener,options){target.addEventListener(type,listener,options);d.get(this).htmlEventListeners.push({target,type,listener,options})}removeHtmlEventListener(target,type,listener,options){target.removeEventListener(type,listener,options);const listeners=d.get(this).htmlEventListeners;const idx=listeners.findIndex(entry=>{return entry.target===target&&entry.type===type&&entry.listener===listener&&entry.options===options});if(idx!==-1){listeners.splice(idx,1)}}blobUrl(blob){const url=URL.createObjectURL(blob);d.get(this).blobUrls.push(url);return url}add(child){child.parent=this}}exports.Object=Obj;function dumpStatus(){function dumpObject(obj){return{id:obj.objectId,type:obj.objectType,location:obj.objectLocation,lifeCycleStatus:obj.lifeCycleStatus,domNode:obj.get?obj.get():null,references:d.get(obj).referenceCount,referenceHolders:d.get(obj).referenceMap,events:connHub.events(obj).map(item=>[item[0],item[1].objectType+\"@\"+item[1].objectLocation]),children:d.get(obj).children.map(dumpObject),parent:d.get(obj).parent?d.get(obj).parent.objectType+\"@\"+d.get(obj).parent.objectLocation:\"\",itemStatus:!!obj.get?{ancestorsEnabled:obj.ancestorsEnabled,enabled:obj.enabled,ancestorsVisible:obj.ancestorsVisible,visible:obj.visible,focus:obj.focus}:null}}const idMap={};const locationMap={};const typeMap={};const statusMap={};const refCountMap={};for(let obj of allInstances){const loc=obj.objectLocation;const dObj=dumpObject(obj);idMap[obj.objectId]=dObj;if(!locationMap[loc]){locationMap[loc]=[]}locationMap[loc].push(dObj);if(!typeMap[obj.objectType]){typeMap[obj.objectType]=[]}typeMap[obj.objectType].push(dObj);if(!statusMap[obj.lifeCycleStatus]){statusMap[obj.lifeCycleStatus]=[]}statusMap[obj.lifeCycleStatus].push(dObj);if(!refCountMap[dObj.references]){refCountMap[dObj.references]=[]}refCountMap[dObj.references].push(dObj)}return{objectCount:objCounter,frameHandlers:low.activeFrameHandlers(),byId:idMap,byLocation:locationMap,byType:typeMap,byLifeCycleStatus:statusMap,byReferences:refCountMap,focusedNode:document.activeElement}}exports.dumpStatus=dumpStatus});exports.dbgctx=\"<no information>\";","core/mid/offlinefs.js":"\"use strict\";shRequire([__dirname+\"/filesystem.js\",__dirname+\"/util/mime.js\"],function(fs,mime){const VERSION=1;const indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;function upgradeDatabase(db){const tocStore=db.createObjectStore(\"toc\",{keyPath:\"path\"});tocStore.createIndex(\"name\",\"name\",{unique:false});tocStore.createIndex(\"dir\",\"dir\",{unique:false});const resStore=db.createObjectStore(\"res\")}function recursiveList(tx,paths,resultSet,callback){if(paths.length===0){callback(resultSet);return}const path=paths.pop();tx.objectStore(\"toc\").openCursor(IDBKeyRange.only(path)).onsuccess=ev=>{const csr=ev.target.result;if(csr){resultSet.push(csr.value);if(csr.value.type===\"d\"){paths.push(csr.value.path)}csr.continue()}else{recursiveList(tx,paths,resultSet,callback)}}}function removeFromRes(tx,paths){paths.forEach(path=>{tx.objectStore(\"res\").delete(path)})}function removeFromToc(tx,paths){paths.forEach(path=>{tx.objectStore(\"toc\").delete(path)})}let d=new WeakMap;class OfflineFS extends fs.Filesystem{constructor(){super();d.set(this,{volume:\"\"});this.notifyable(\"volume\")}get volume(){return d.get(this).volume}set volume(v){d.get(this).volume=v;this.volumeChanged()}open(){return new Promise((resolve,reject)=>{const req=indexedDB.open(d.get(this).volume,VERSION);req.onupgradeneeded=ev=>{upgradeDatabase(ev.target.result)};req.onsuccess=ev=>{const db=ev.target.result;db.onerror=ev=>{console.error(\"DB Error: \"+ev.target.error.message)};resolve(db)};req.onerror=ev=>{console.error(\"Failed to open IndexedDB: \"+ev.target.errorCode);reject(ev)}})}exists(path){return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const db=await this.open();const tx=db.transaction([\"toc\"],\"readonly\");tx.oncomplete=ev=>{};tx.onabort=ev=>{console.error(\"exists: Transaction aborted: \"+ev.target.error.message);reject(ev)};tx.onerror=ev=>{resolve(false)};tx.objectStore(\"toc\").get(path).onsuccess=ev=>{resolve(!!ev.target.result)}})}list(path){return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const db=await this.open();const items=[];const tx=db.transaction([\"toc\"],\"readonly\");tx.oncomplete=ev=>{resolve(items)};tx.onabort=ev=>{console.error(\"Aborted listing directory: \"+ev.target.error.message);reject(ev)};tx.onerror=ev=>{console.error(\"Error listing directory: \"+ev.target.error.message);reject(ev)};tx.objectStore(\"toc\").index(\"dir\").openCursor(IDBKeyRange.only(path)).onsuccess=ev=>{const csr=ev.target.result;if(csr){items.push(csr.value);csr.continue()}}})}mkdir(path,name){return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);console.log(\"mkdir: \"+path);const db=await this.open();const tx=db.transaction([\"toc\"],\"readwrite\");tx.oncomplete=ev=>{console.log(\"mkdir: Created directory.\");resolve();this.fsChange(path)};tx.onabort=ev=>{console.error(\"mkdir: Transaction aborted.\");reject(ev)};tx.onerror=ev=>{console.error(\"mkdir: Failed to create directory: \"+ev.target.error.message);reject(ev)};const dirPath=fs.pathJoin(path,name);tx.objectStore(\"toc\").add({path:dirPath,dir:path,name:name,type:\"d\",size:0,res:0,mimetype:\"application/x-folder\"})})}remove(path){return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const db=await this.open();const tx=db.transaction([\"toc\",\"res\"],\"readwrite\");tx.oncomplete=ev=>{resolve();this.fsChange(path);this.fsChange(fs.dirname(path))};tx.onabort=ev=>{console.error(\"remove: Transaction aborted.\");reject(ev)};tx.onerror=ev=>{console.error(\"remove: Failed to create directory: \"+ev.target.error.message);reject(ev)};recursiveList(tx,[path],[],resultSet=>{const paths=resultSet.map(r=>r.path);removeFromRes(tx,paths);removeFromToc(tx,paths)})})}read(path){return new Promise(async(resolve,reject)=>{path=fs.normalizePath(path);const db=await this.open();const tx=db.transaction([\"toc\",\"res\"],\"readonly\");tx.oncomplete=ev=>{};tx.onabort=ev=>{console.error(\"read: Transaction aborted: \"+ev.target.error.message);reject(ev)};tx.onerror=ev=>{console.error(\"read: Failed to read file: \"+ev.target.error.message);reject(ev)};tx.objectStore(\"res\").get(path).onsuccess=ev=>{const blob=ev.target.result;if(blob){resolve(blob)}else{console.error(\"read: Failed to read file: \"+path);reject(blob)}}})}write(path,blob){return new Promise(async(resolve,reject)=>{if(!blob instanceof Blob){console.error(\"Write error: Blob expected.\");reject(null);return}path=fs.normalizePath(path);const db=await this.open();const tx=db.transaction([\"toc\",\"res\"],\"readwrite\");tx.oncomplete=ev=>{resolve();this.fsChange(path);this.fsChange(fs.dirname(path))};tx.onabort=ev=>{console.error(\"write: Transaction aborted.\");reject(ev)};tx.onerror=ev=>{console.error(\"write: Failed to write file: \"+ev.target.error.message);reject(ev)};tx.objectStore(\"toc\").get(path).onsuccess=ev=>{const result=ev.target.result;const pos=path.lastIndexOf(\"/\");const dir=path.substr(0,pos);const name=pos!==-1?path.substr(pos+1):path;const item={path:path,dir:fs.normalizePath(dir),name:name,type:\"f\",size:blob.size,mimetype:mime.mimeType(name)};if(result===null){console.log(\"file is new: \"+path);tx.objectStore(\"toc\").add(item);tx.objectStore(\"res\").add(blob.slice(),path)}else{console.log(\"overwriting file: \"+path);tx.objectStore(\"toc\").put(item);tx.objectStore(\"res\").put(blob.slice(),path)}}})}}exports.OfflineFS=OfflineFS});","core/mid/parallelanimation.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/animation.js\"],function(low,anim){const d=new WeakMap;class ParallelAnimation extends anim.Animation{constructor(){super();d.set(this,{animations:[]})}start(){const doRun=()=>{const animations=d.get(this).animations.slice();const promises=animations.map(a=>a.start());Promise.all(promises).then(()=>{if(this.repeat){const handle=low.addFrameHandler(()=>{handle.cancel();doRun()})}else{this.finish()}})};const handle=low.addFrameHandler(()=>{handle.cancel();doRun()});return super.start()}add(child){if(child._sh_animation){child.parent=this;d.get(this).animations.push(child)}else{console.error(\"Only animations may be added to a ParallelAnimation.\")}}}exports.ParallelAnimation=ParallelAnimation});","core/mid/repeater.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/object.js\",__dirname+\"/listmodel.js\"],function(low,obj,listModel){let d=new WeakMap;class Repeater extends obj.Object{constructor(){super();d.set(this,{model:null,delegate:()=>null,items:[]});this.notifyable(\"model\");this.onInitialization=()=>{this.clear();this.renderAll()}}get model(){return d.get(this).model}set model(m){const priv=d.get(this);let mObj=null;if(typeof m===\"number\"){mObj=new listModel.ListModel;const arr=[];for(let i=0;i<m;++i)arr.push({});mObj.reset(arr)}else{mObj=m}if(priv.model){priv.model.disconnect(\"modelReset\",this);priv.model.disconnect(\"modelInsert\",this);priv.model.disconnect(\"modelRemove\",this);priv.model.referenceRemove(this)}priv.model=mObj;if(mObj){mObj.referenceAdd(this);mObj.connect(\"modelReset\",this,()=>{this.clear();this.renderAll()});mObj.connect(\"modelInsert\",this,(at,size)=>{this.clear();this.renderAll()});mObj.connect(\"modelRemove\",this,at=>{this.clear();this.renderAll()});mObj.connect(\"modelReplace\",this,at=>{d.get(this).items[at].dataChange(model.at(at))})}this.modelChanged();this.clear();this.renderAll()}get delegate(){return d.get(this).delegate}set delegate(del){d.get(this).delegate=del;this.clear();this.renderAll()}get items(){return d.get(this).items.slice()}clear(){d.get(this).items.forEach(item=>{item.parent=null});d.get(this).items=[]}renderAll(){if(this.lifeCycleStatus!==\"initialized\"){return}const model=d.get(this).model;const delegate=d.get(this).delegate;const items=d.get(this).items;if(!model||!delegate||!this.parent){return}const f=()=>{for(let i=0;i<model.size;++i){const modelData={index:i,value:model.at(i)};const item=delegate();if(item){item.modelData=modelData;item.onDataChange=data=>{item.modelData=data};items.push(item);this.parent.add(item)}}};const now=Date.now();if(this.parent.withoutSizing){this.parent.withoutSizing(f)}else{f()}}}exports.Repeater=Repeater});","core/mid/ruler.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/object.js\"],function(low,obj){const d=new WeakMap;class Ruler extends obj.Object{constructor(){super();d.set(this,{frameHandle:null,min:{x:0,y:0,width:0,height:0},max:{x:0,y:0,width:0,height:0}});this.notifyable(\"min\");this.notifyable(\"max\")}get min(){return d.get(this).min}get max(){return d.get(this).max}reset(){d.get(this).min={x:0,y:0,width:0,height:0};d.get(this).max={x:0,y:0,width:0,height:0};this.minChanged();this.maxChanged()}request(bbox){const min=d.get(this).min;const max=d.get(this).max;let minChanged=false;let maxChanged=false;if(bbox.width<min.width||min.width===0){min.width=bbox.width;minChanged=true}if(bbox.width>max.width){max.width=bbox.width;maxChanged=true}if(bbox.height<min.height||min.height===0){min.height=bbox.height;minChanged=true}if(bbox.height>max.height){max.height=bbox.height;maxChanged=true}if((minChanged||maxChanged)&&!d.get(this).frameHandle){d.get(this).frameHandle=low.addFrameHandler(()=>{d.get(this).frameHandle.cancel();d.get(this).frameHandle=null;this.minChanged();this.maxChanged()},this.objectType+\"@\"+this.objectLocation)}}}exports.Ruler=Ruler});","core/mid/scriptaction.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/animation.js\"],function(low,anim){const d=new WeakMap;class ScriptAction extends anim.Animation{constructor(){super();d.set(this,{script:()=>{}})}get script(){return d.get(this).script}set script(f){d.get(this).script=f}start(){const doRun=()=>{d.get(this).script();while(this.repeat){d.get(this).script()}this.finish()};const handle=low.addFrameHandler(()=>{handle.cancel();doRun()});return super.start()}}exports.ScriptAction=ScriptAction});","core/mid/sequentialanimation.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/animation.js\"],function(low,anim){const d=new WeakMap;class SequentialAnimation extends anim.Animation{constructor(){super();d.set(this,{animations:[]})}start(){const doRun=()=>{const animations=d.get(this).animations.slice();const next=()=>{if(animations.length>0){const anim=animations.shift();anim.start().then(()=>{next()})}else if(this.repeat&&this.running){const handle=low.addFrameHandler(()=>{handle.cancel();doRun()})}else{this.finish()}};next()};const handle=low.addFrameHandler(()=>{handle.cancel();doRun()});return super.start()}add(child){if(child._sh_animation){child.parent=this;d.get(this).animations.push(child)}else{console.error(\"Only animations may be added to a SequentialAnimation.\")}}}exports.SequentialAnimation=SequentialAnimation});","core/mid/textarea.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){const d=new WeakMap;class TextArea extends item.Item{constructor(){super();d.set(this,{selectionColor:this.colorName(\"white\"),selectionBackgroundColor:this.colorName(\"navy\"),spellCheck:false,item:low.createElementTree(low.tag(\"textarea\").class(\"sh-text-selectable\").attr(\"wrap\",\"off\").attr(\"spellcheck\",\"false\").style(\"color\",\"black\").style(\"--sh-selection-color\",\"white\").style(\"--sh-selection-background-color\",\"navy\").html())});this.notifyable(\"bold\",true);this.notifyable(\"color\");this.notifyable(\"column\");this.notifyable(\"fontFamily\",true);this.notifyable(\"fontSize\",true);this.notifyable(\"row\");this.notifyable(\"selectionBackgroundColor\");this.notifyable(\"selectionColor\");this.notifyable(\"selectionStart\",true);this.notifyable(\"selectionEnd\",true);this.notifyable(\"spellCheck\");this.notifyable(\"text\",true);this.addHtmlEventListener(d.get(this).item,\"input\",ev=>{this.textChanged();const handle=low.addFrameHandler(()=>{handle.cancel();this.contentWidthChanged();this.contentHeightChanged()},this.objectType+\"@\"+this.objectLocation)},false);this.addHtmlEventListener(d.get(this).item,\"keydown\",ev=>{const handle=low.addFrameHandler(()=>{handle.cancel();this.selectionStartChanged();this.selectionEndChanged();this.columnChanged();this.rowChanged()},this.objectType+\"@\"+this.objectLocation);if(!ev.altKey&&!ev.ctrlKey&&!ev.metaKey){ev.stopPropagation()}});this.addHtmlEventListener(d.get(this).item,\"click\",()=>{this.selectionStartChanged();this.selectionEndChanged();this.columnChanged();this.rowChanged()})}get text(){return this.get().value}set text(t){this.get().value=t;this.textChanged();this.columnChanged();this.rowChanged()}get bold(){return d.get(this).bold}set bold(value){d.get(this).bold=value;this.css(\"font-weight\",value?\"bold\":\"normal\");this.boldChanged()}get color(){return d.get(this).color}set color(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"color\",col.toCss());d.get(this).color=col;this.colorChanged()}get selectionColor(){return d.get(this).selectionColor}set selectionColor(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"--sh-selection-color\",col.toCss());d.get(this).selectionColor=col;this.selectionColorChanged()}get selectionBackgroundColor(){return d.get(this).selectionBackgroundColor}set selectionBackgroundColor(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"--sh-selection-background-color\",col.toCss());d.get(this).selectionBackgroundColor=col;this.selectionBackgroundColorChanged()}get fontFamily(){return low.css(d.get(this).item,\"font-family\")}set fontFamily(f){this.css(\"font-family\",f);this.fontFamilyChanged()}get fontSize(){return low.css(d.get(this).item,\"font-size\").replace(\"px\",\"\")}set fontSize(s){this.css(\"font-size\",s+\"px\");this.fontSizeChanged()}get selectionStart(){return d.get(this).item.selectionStart}get selectionEnd(){return d.get(this).item.selectionEnd}get spellCheck(){return d.get(this).spellCheck}set spellCheck(v){if(v){d.get(this).item.setAttribute(\"spellcheck\",\"true\")}else{d.get(this).item.setAttribute(\"spellcheck\",\"false\");const text=d.get(this).item.value;d.get(this).item.value=\"\";d.get(this).item.value=text}d.get(this).spellCheck=v;this.spellCheckChanged()}get column(){const pos=d.get(this).item.selectionStart;const idx=d.get(this).item.value.lastIndexOf(\"\\n\",pos-1);return idx===-1?pos:pos-idx-1}get row(){let pos=d.get(this).item.selectionStart;let row=0;while(pos!==-1){pos=d.get(this).item.value.lastIndexOf(\"\\n\",pos-1);++row}return row-1}get(){return d.get(this).item}}exports.TextArea=TextArea});","core/mid/textinput.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],function(low,item){let d=new WeakMap;class TextInput extends item.Item{constructor(){super();d.set(this,{pattern:/.*/,selectionColor:this.colorName(\"white\"),selectionBackgroundColor:this.colorName(\"navy\"),item:low.createElementTree(low.tag(\"input\").class(\"sh-text-selectable\").attr(\"type\",\"text\").style(\"flex-grow\",\"1\").style(\"flex-shrink\",\"1\").style(\"width\",\"auto\").style(\"height\",\"auto\").style(\"color\",\"black\").style(\"--sh-selection-color\",\"white\").style(\"--sh-selection-background-color\",\"navy\").html())});this.notifyable(\"text\",true);this.notifyable(\"bold\",true);this.notifyable(\"color\");this.notifyable(\"fontFamily\",true);this.notifyable(\"fontSize\",true);this.notifyable(\"password\",true);this.notifyable(\"pattern\");this.notifyable(\"selectionBackgroundColor\");this.notifyable(\"selectionColor\");this.registerEvent(\"reject\");let prev=this.text;this.addHtmlEventListener(d.get(this).item,\"input\",ev=>{if(!this.text.match(d.get(this).pattern)){this.reject(this.text);d.get(this).item.value=prev}else{prev=this.text;this.textChanged()}},false)}get text(){return this.get().value}set text(t){this.get().value=t;this.textChanged()}get bold(){return d.get(this).bold}set bold(value){d.get(this).bold=value;this.css(\"font-weight\",value?\"bold\":\"normal\");this.boldChanged()}get color(){return d.get(this).color}set color(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"color\",col.toCss());d.get(this).color=col;this.colorChanged()}get selectionColor(){return d.get(this).selectionColor}set selectionColor(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"--sh-selection-color\",col.toCss());d.get(this).selectionColor=col;this.selectionColorChanged()}get selectionBackgroundColor(){return d.get(this).selectionBackgroundColor}set selectionBackgroundColor(c){const col=typeof c===\"string\"?this.colorName(c):c;this.css(\"--sh-selection-background-color\",col.toCss());d.get(this).selectionBackgroundColor=col;this.selectionBackgroundColorChanged()}get fontFamily(){return low.css(d.get(this).item,\"font-family\")}set fontFamily(f){this.css(\"font-family\",f);this.fontFamilyChanged()}get fontSize(){return low.css(d.get(this).item,\"font-size\").replace(\"px\",\"\")}set fontSize(s){this.css(\"font-size\",s+\"px\");this.fontSizeChanged()}get password(){return d.get(this).item.type===\"password\"}set password(value){d.get(this).item.type=value?\"password\":\"text\";this.passwordChanged()}get pattern(){return d.get(this).pattern.toString()}set pattern(p){d.get(this).pattern=new RegExp(\"^\"+p+\"$\");if(!this.text.match(d.get(this).pattern)){this.text=\"\"}this.patternChanged()}get(){return d.get(this).item}}exports.TextInput=TextInput});","core/mid/threadpool.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],obj=>{const WORKER_CODE=`\n        \"use strict\";\n\n        console.log(\"Starting new worker thread.\");\n\n        let idCounter = 0;\n        \n        // map of code -> URL\n        const urlCache = new Map();\n\n        // map of URL -> Module\n        const moduleCache = new Map();\n\n        let currentUrl = \"\";\n\n        const methods = new Map();\n        let transferList = [];\n\n        self.AtomicInt32 = class AtomicInt32\n        {\n            constructor(buffer)\n            {\n                this.view = new Int32Array(buffer);\n            }\n    \n            get value() { return Atomics.load(this.view, 0); }\n            set value(v) { return Atomics.store(this.view, 0, v); }\n    \n            add(v) { return Atomics.add(this.view, 0, v); }\n            and(v) { return Atomics.and(this.view, 0, v); }\n            or(v) { return Atomics.or(this.view, 0, v); }\n            sub(v) { return Atomics.sub(this.view, 0, v); }\n            wait(forValue, timeout)\n            {\n                while (true)\n                {\n                    const status = Atomics.wait(this.view, 0, forValue, timeout);\n                    if (status === \"timed-out\")\n                    {\n                        return false;\n                    }\n                    else if (status === \"ok\")\n                    {\n                        return true;\n                    }\n                }\n            }\n        };\n\n        /**\n         * Imports (Emscripten) WASM code from the given URL.\n         */\n        self.importWasm = (wasmUrl) =>\n        {\n            return new Promise(async (resolve, reject) =>\n            {\n                const runtimeUrl = wasmUrl.replace(/\\.wasm$/i, \".js\");\n                const pos = wasmUrl.lastIndexOf(\"/\");\n                const wasmDirectory = pos > 0 ? wasmUrl.substr(0, pos) : wasmUrl;\n\n                function processor(u, code)\n                {\n                    return \"exports.init = (Module) => \" +\n                           \"{ \" + code + \"\\\\nreturn Module; };\"\n                }\n\n                const mod = await shRequire(runtimeUrl, null, processor);\n\n                let runTime = null;\n\n                const Module = {\n                    mainScriptUrlOrBlob: runtimeUrl,\n                    locateFile: (path, scriptDirectory) =>\n                    {\n                        return wasmDirectory + \"/\" + path;\n                    },\n                    onRuntimeInitialized: () =>\n                    {\n                        resolve(runTime);\n                    }\n                };\n                runTime = mod.init(Module);\n            });\n        };\n\n        /**\n         * Puts the thread to sleep for the given amount of milliseconds.\n         */\n        self.sleep = (ms) =>\n        {\n            if (typeof SharedArrayBuffer !== \"undefined\")\n            {\n                const buf = new SharedArrayBuffer(4);\n                const view = new Int32Array(buf);\n                Atomics.wait(view, 0, 0, ms);\n            }\n            else\n            {\n                // this platform only allows a busy wait\n                const now = Date.now();\n                const later = now + ms;\n                while (Date.now() < later);\n            }\n        };\n\n        /**\n         * Marks the given object for transfer.\n         */\n        self.transfer = (v) =>\n        {\n            transferList.push(v);\n            return v;\n        };\n\n        /**\n         * Creates a proxy for calling methods of the given object by\n         * another thread.\n         */\n        self.proxyObject = (obj) =>\n        {\n            const proxyId = idCounter;\n            ++idCounter;\n\n            const methods = [];\n\n            function allKeys(obj)\n            {\n                let keys = Object.getOwnPropertyNames(obj)\n                .filter(n => n !== \"constructor\")\n                .filter(n => typeof obj[n] === \"function\")\n                const proto = Object.getPrototypeOf(obj);\n                if (! proto.hasOwnProperty(\"hasOwnProperty\"))\n                {\n                    keys = keys.concat(allKeys(proto));\n                }\n                return keys;\n            }\n\n            allKeys(obj)\n            .forEach(key =>\n            {\n                registerWorkerMethod(proxyId + \".\" + key, obj[key].bind(obj));\n                methods.push(key);\n            });\n\n            return { type: \"proxy\", instance: proxyId, methods: methods };\n        };\n\n        /**\n         * Registers the given module (used internally).\n         */\n        self.registerModule = (mod) =>\n        {\n            moduleCache.set(currentUrl, mod);\n            for (let key in mod)\n            {\n                if (key === \"__run__\")\n                {\n                    continue;\n                }\n                else if (typeof mod[key] === \"function\")\n                {\n                    registerWorkerMethod(key, mod[key]);\n                }\n            }\n        };\n\n        /**\n         * Registers the given worker method (used internally).\n         */\n        self.registerWorkerMethod = (name, f) =>\n        {\n            console.log(\"Registering worker method: \" + name);\n            methods.set(name, f);\n        };\n\n        /**\n         * Exits the task manually.\n         */\n        self.exit = () =>\n        {\n            self.postMessage({ type: \"exit\" });\n        };\n\n        function loadTask(code)\n        {\n            let url = \"\";\n            if (urlCache.has(code))\n            {\n                url = urlCache.get(code);\n            }\n            else\n            {\n                const js = \"(function () { \" +\n                           \"const exports = { }; \" +\n                           code + \"\\\\n\" +\n                           \"if (typeof run !== 'undefined') { exports.__run__ = run; }\\\\n\\\\n\" +\n                           \"self.registerModule(exports); \" +\n                           \"})();\"\n\n                const blob = new Blob([js], { type: \"application/javascript\" });\n                url = URL.createObjectURL(blob);\n                urlCache.set(code, url);\n\n                currentUrl = url;\n                importScripts(url);\n\n                URL.revokeObjectURL(url);\n            }\n            return moduleCache.get(url);\n        }\n\n        function processInParameters(parameters)\n        {\n            return parameters.map(p =>\n            {\n                if (typeof p === \"object\")\n                {\n                    if (p.type === \"callback\")\n                    {\n                        // create callback function\n                        const callbackId = p.safeCallback;\n                        return (...parameters) =>\n                        {\n                            self.postMessage({ type: \"callback\", callback: callbackId, parameters }, transferList);\n                            transferList = [];\n                        };\n                    }\n                    else if (p.type === \"atomicInt32\")\n                    {\n                        return new AtomicInt32(p.buffer);\n                    }\n                    else\n                    {\n                        return p;\n                    }\n                }\n                else\n                {\n                    return p;\n                }\n            });\n        }\n\n        function handleResult(r, onResult, onError)\n        {\n            if (typeof r === \"object\" && r.constructor.name === \"Promise\")\n            {\n                r\n                .then(v => onResult(v))\n                .catch(err => onError(err));\n            }\n            else\n            {\n                onResult(r);\n            }\n        }\n\n        self.addEventListener(\"message\", (ev) =>\n        {\n            const msg = ev.data;\n            if (msg.type === \"import\")\n            {\n                // import worker-global code (e.g. require.js)\n\n                const blob = new Blob([msg.code], { type: \"application/javascript\" });\n                const blobUrl = URL.createObjectURL(blob);\n                importScripts(blobUrl);\n                URL.revokeObjectURL(blobUrl);\n                self.postMessage({ type: \"ready\" });\n            }\n            else if (msg.type === \"task\")\n            {\n                // start a new task\n\n                methods.clear();\n                transferList = [];\n\n                const task = loadTask(msg.code);\n                if (task.__run__)\n                {\n                    const parameters = processInParameters(msg.parameters);\n                    const taskResult = task.__run__(...parameters);\n                    handleResult(taskResult, r =>\n                    {\n                        self.postMessage({ type: \"result\", value: r }, transferList);\n                        transferList = [];\n                    },\n                    err =>\n                    {\n                        self.postMessage({ type: \"error\", value: \"\" + err });\n                        transferList = [];\n                        self.postMessage({ type: \"exit\" });\n                    });\n                }\n\n                if (methods.size === 0)\n                {\n                    self.postMessage({ type: \"exit\" });\n                }\n            }\n            else if (msg.type === \"call\")\n            {\n                // call a registered method\n\n                if (methods.has(msg.name))\n                {\n                    const parameters = processInParameters(msg.parameters);\n                    try\n                    {\n                        const result = methods.get(msg.name)(...parameters);\n                        handleResult(result, r =>\n                        {\n                            self.postMessage({ type: \"methodResult\", callId: msg.callId, value: r }, transferList);\n                            transferList = [];        \n                        },\n                        err =>\n                        {\n                            self.postMessage({ type: \"methodError\", callId: msg.callId, value: \"\" + err });\n                            transferList = [];        \n                        });\n                    }\n                    catch (err)\n                    {\n                        self.postMessage({ type: \"methodError\", callId: msg.callId, value: \"\" + err });\n                        transferList = [];\n                    }\n                }\n                else\n                {\n                    const err = \"No such method to call: \" + msg.name;\n                    self.postMessage({ type: \"methodError\", callId: msg.callId, value: err });\n                    transferList = [];\n                }\n            }\n        });\n    `;class AtomicInt32{constructor(v){this.buffer=new SharedArrayBuffer(4);this.view=new Int32Array(this.buffer);this.view[0]=v}get value(){return Atomics.load(this.view,0)}set value(v){return Atomics.store(this.view,0,v)}add(v){return Atomics.add(this.view,0,v)}and(v){return Atomics.and(this.view,0,v)}or(v){return Atomics.or(this.view,0,v)}sub(v){return Atomics.sub(this.view,0,v)}}let idCounter=0;const d=new WeakMap;class ThreadPool extends obj.Object{constructor(){super();const runtimeBlob=new Blob([WORKER_CODE],{type:\"text/javascript\"});d.set(this,{size:1,runtimeUrl:URL.createObjectURL(runtimeBlob),workers:[],queue:[],transferList:[],taskMap:new Map,callMap:new Map,callbackMap:new Map});this.notifyable(\"free\");this.notifyable(\"pending\");this.notifyable(\"size\");this.notifyable(\"waiting\");this.scale(1);this.onDestruction=()=>{const priv=d.get(this);priv.queue=[];priv.workers.forEach(item=>{item.worker.terminate()});priv.workers=[];priv.transferList=[];priv.taskMap.clear();priv.callMap.clear();priv.callbackMap.clear()}}get hardwareConcurrency(){return navigator.hardwareConcurrency||1}get free(){return d.get(this).workers.filter(item=>item.free).length}get waiting(){return d.get(this).queue.length}get pending(){return d.get(this).workers.filter(item=>!item.free).length}get size(){return d.get(this).size}set size(s){if(s!==d.get(this).size){d.get(this).size=s;this.scale(s);this.sizeChanged()}}transfer(obj){d.get(this).transferList.push(obj);return obj}atomicInt32(v){return new AtomicInt32(v)}scale(n){const priv=d.get(this);priv.workers=priv.workers.sort((a,b)=>!a.free&&b.free?-1:1);while(n<priv.workers.length){const item=priv.workers.pop();item.worker.terminate()}while(n>priv.workers.length){const w=new Worker(priv.runtimeUrl);const workerItem={worker:w,free:true,ready:false,taskId:-1};w.onmessage=this.safeCallback(ev=>{const msg=ev.data;if(msg.type===\"ready\"){workerItem.ready=true;this.checkQueue()}else if(msg.type===\"exit\"){priv.taskMap.get(workerItem.taskId).callbacks.forEach(cbId=>{priv.callbackMap.delete(cbId)});priv.taskMap.delete(workerItem.taskId);workerItem.free=true;workerItem.taskId=-1;this.freeChanged();this.pendingChanged();this.checkQueue()}else if(msg.type===\"methodResult\"){console.log(\"Worker method result: \"+JSON.stringify(msg.value));priv.callMap.get(msg.callId).resolve(this.processOutParameters(workerItem.taskId,[msg.value])[0]);priv.callMap.delete(msg.callId)}else if(msg.type===\"methodError\"){priv.callMap.get(msg.callId).reject(msg.value);priv.callMap.delete(msg.callId)}else if(msg.type===\"result\"){console.log(\"Task result: \"+JSON.stringify(msg.value));priv.taskMap.get(workerItem.taskId).resolve(this.processOutParameters(workerItem.taskId,[msg.value])[0])}else if(msg.type===\"error\"){priv.taskMap.get(workerItem.taskId).reject(msg.value)}else if(msg.type===\"callback\"){const params=this.processOutParameters(workerItem.taskId,msg.parameters);const remove=priv.callbackMap.get(msg.callback)(...params);if(remove){priv.callbackMap.delete(msg.callback)}}});priv.workers.push(workerItem);shRequire.selfUrl().then(url=>{return fetch(url)}).then(response=>{if(response.ok){return response.text()}else{throw\"Failed to load resource: \"+url}}).then(code=>{w.postMessage({type:\"import\",code})}).catch(err=>{console.error(\"Failed to initialize worker: \"+err)})}this.freeChanged()}checkQueue(){const priv=d.get(this);const freeWorkers=priv.workers.filter(item=>item.free);let freeCount=freeWorkers.length;while(freeCount>0&&priv.queue.length>0){const taskId=priv.queue.shift();this.run(taskId);--freeCount;this.waitingChanged()}}run(taskId){const priv=d.get(this);const freeWorkers=priv.workers.filter(item=>item.free&&item.ready);if(freeWorkers.length>0){const taskItem=priv.taskMap.get(taskId);const workerItem=freeWorkers[0];workerItem.taskId=taskId;workerItem.free=false;workerItem.worker.postMessage({type:\"task\",code:taskItem.code,parameters:taskItem.parameters},taskItem.transferList);this.freeChanged();this.pendingChanged()}else{priv.queue.push(taskId);this.waitingChanged()}}call(callId){const priv=d.get(this);const callItem=priv.callMap.get(callId);const workerItem=priv.workers.find(item=>item.taskId===callItem.taskId);if(workerItem){workerItem.worker.postMessage({type:\"call\",name:callItem.name,callId,parameters:callItem.parameters},callItem.transferList)}else{console.error(\"Failed to call \"+callItem.name+\": task \"+callItem.taskId+\" is not available\")}}processInParameters(taskId,parameters){const priv=d.get(this);return parameters.map(p=>{if(typeof p===\"function\"){const callbackId=idCounter;++idCounter;priv.callbackMap.set(callbackId,p);priv.taskMap.get(taskId).callbacks.push(callbackId);return{type:\"callback\",safeCallback:callbackId}}else if(typeof p===\"object\"&&p.constructor.name===\"AtomicInt32\"){return{type:\"atomicInt32\",buffer:p.buffer}}else{return p}})}processOutParameters(taskId,results){const priv=d.get(this);return results.map(r=>{if(typeof r===\"object\"&&r.type===\"proxy\"){const proxy={};r.methods.forEach(method=>{proxy[method]=(...parameters)=>{return new Promise((resolve,reject)=>{const params=this.processInParameters(taskId,parameters);const callId=idCounter;++idCounter;priv.callMap.set(callId,{taskId,name:r.instance+\".\"+method,parameters:params,transferList:priv.transferList.slice(),resolve,reject});priv.transferList=[];this.call(callId)})}});return proxy}else{return r}})}createTaskHandle(taskId,promise){const priv=d.get(this);const p={};p.then=cb=>{promise.then(cb);return p};p.catch=cb=>{promise.catch(cb);return p};p.transfer=v=>{return this.transfer(v)};p.atomicInt32=v=>{return this.atomicInt32(v)};p.call=(name,...parameters)=>{return new Promise((resolve,reject)=>{const params=this.processInParameters(taskId,parameters);const callId=idCounter;++idCounter;priv.callMap.set(callId,{taskId,name,parameters:params,transferList:priv.transferList.slice(),resolve,reject});priv.transferList=[];this.call(callId)})};return p}postTask(code,...parameters){const priv=d.get(this);const taskId=idCounter;++idCounter;let resolveCall=null;const callbacks=[];const promise=new Promise((resolve,reject)=>{priv.taskMap.set(taskId,{code,parameters:[],transferList:priv.transferList.slice(),resolve,reject,resolveCall,callbacks});priv.transferList=[];priv.taskMap.get(taskId).parameters=this.processInParameters(taskId,parameters);this.run(taskId)});return this.createTaskHandle(taskId,promise)}postTaskFromSource(url,...parameters){const priv=d.get(this);const taskId=idCounter;++idCounter;let resolveCall=null;const callbacks=[];const promise=new Promise((resolve,reject)=>{fetch(url,{cache:\"no-cache\"}).then(response=>{if(response.ok){return response.text()}else{throw\"Failed to load task from \"+url+\" (\"+response.status+\" \"+response.statusText+\")\"}}).then(code=>{priv.taskMap.set(taskId,{code,parameters:[],transferList:priv.transferList.slice(),resolve,reject,resolveCall,callbacks});priv.transferList=[];priv.taskMap.get(taskId).parameters=this.processInParameters(taskId,parameters);this.run(taskId)})});return this.createTaskHandle(taskId,promise)}}exports.ThreadPool=ThreadPool});","core/mid/tilemap.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/canvas.js\"],function(low,cnv){const d=new WeakMap;class TileMap extends cnv.Canvas{constructor(){super();d.set(this,{key:\"\",model:null,rowStride:1,tileSet:null,contentX:0,contentY:0,contentWidth:0,contentHeight:0,contentColumn:0,contentRow:0,bufferX:0,bufferY:0,buffer:null,renderPending:false,currentLayout:new Map,context:null,offscreenCanvas:low.createElementTree(low.tag(\"canvas\").attr(\"width\",\"100\").attr(\"height\",\"100\").html()),offscreenContext:null});this.notifyable(\"contentColumn\");this.notifyable(\"contentRow\");this.notifyable(\"key\");this.notifyable(\"model\");this.notifyable(\"rowStride\");this.notifyable(\"tileSet\");this.onOriginalWidthChanged=()=>this.invalidateBuffer();this.onOriginalHeightChanged=()=>this.invalidateBuffer();this.onContentXChanged=()=>{const priv=d.get(this);if(!priv.tileSet||priv.contentWidth===0){return}let cx=priv.contentX;while(cx<0){cx+=priv.contentWidth}const col=priv.contentX/priv.tileSet.tileSize|0;if(col!==priv.contentColumn){priv.contentColumn=col;this.contentColumnChanged()}};this.onContentYChanged=()=>{const priv=d.get(this);if(!priv.tileSet||priv.contentHeight===0){return}let cy=priv.contentY;while(cy<0){cy+=priv.contentHeight}const row=cy/priv.tileSet.tileSize|0;if(row!==priv.contentRow){priv.contentRow=row;this.contentRowChanged()}};this.onDestruction=()=>{d.get(this).offscreenContext=null;d.get(this).offscreenCanvas.remove()}}get key(){return d.get(this).key}set key(k){d.get(this).key=k;this.keyChanged();this.renderLater()}get model(){return d.get(this).model}set model(m){const priv=d.get(this);if(priv.model){priv.model.disconnect(\"modelReset\",this);priv.model.disconnect(\"modelInsert\",this);priv.model.disconnect(\"modelRemove\",this);priv.model.referenceRemove(this)}d.get(this).model=m;if(m){m.referenceAdd(this);m.connect(\"modelReset\",this,()=>{this.updateContentSize();this.renderLater()});m.connect(\"modelInsert\",this,(at,size)=>{this.updateContentSize();this.renderLater()});m.connect(\"modelRemove\",this,at=>{this.updateContentSize();this.renderLater()})}this.updateContentSize();this.modelChanged()}get contentX(){return d.get(this).contentX}set contentX(x){const changed=Math.round(d.get(this).contentX)!==Math.round(x);d.get(this).contentX=Math.round(x);this.contentXChanged();if(changed){this.renderLater()}}get contentY(){return d.get(this).contentY}set contentY(y){const changed=Math.round(d.get(this).contentY)!==Math.round(y);d.get(this).contentY=Math.round(y);this.contentYChanged();if(changed){this.renderLater()}}get contentWidth(){return d.get(this).contentWidth}get contentHeight(){return d.get(this).contentHeight}get contentColumn(){return d.get(this).contentColumn}get contentRow(){return d.get(this).contentRow}get rowStride(){return d.get(this).rowStride}set rowStride(r){d.get(this).rowStride=r;this.rowStrideChanged();this.updateContentSize();this.renderLater()}get tileSet(){return d.get(this).tileSet}set tileSet(s){const priv=d.get(this);if(priv.tileSet){priv.tileSet.disconnect(\"invalidate\",this);priv.tileSet.referenceRemove(this)}d.get(this).tileSet=s;if(s){s.referenceAdd(this);s.connect(\"invalidate\",this,()=>{this.renderLater()})}priv.currentLayout.clear();this.tileSetChanged();this.updateContentSize()}updateContentSize(){const priv=d.get(this);let newContentWidth=0;let newContentHeight=0;if(!!priv.tileSet&&!!priv.model&&priv.model.size>0){newContentWidth=priv.rowStride*priv.tileSet.tileSize;newContentHeight=Math.ceil(priv.model.size/priv.rowStride)*priv.tileSet.tileSize}if(newContentWidth!==priv.contentWidth){priv.contentWidth=newContentWidth;this.contentWidthChanged()}if(newContentHeight!==priv.contentHeight){priv.contentHeight=newContentHeight;this.contentHeightChanged()}}invalidateBuffer(){d.get(this).buffer=null;d.get(this).currentLayout.clear();this.renderLater()}resizeBuffer(){const priv=d.get(this);if(!priv.tileSet){return}let w=this.originalWidth;let h=this.originalHeight;if(w*h>0){const tileSize=priv.tileSet.tileSize;w+=tileSize;h+=tileSize;priv.context=this.context2d;priv.context.imageSmoothingEnabled=false;priv.buffer=priv.context.createImageData(w,h);priv.offscreenCanvas.width=w;priv.offscreenCanvas.height=h;priv.offscreenContext=priv.offscreenCanvas.getContext(\"2d\");priv.offscreenContext.imageSmoothingEnabled=false}}putTile(tile,x,y,tileSize){const priv=d.get(this);const buffer=tile[1];const begin=tile[2];const end=tile[3];const rowStride=tile[4];const blockLength=x+tileSize<priv.buffer.width?tileSize*4:(priv.buffer.width-x)*4;let targetOffset=y*priv.buffer.width+x;for(let offset=begin;offset<end;offset+=rowStride){const dest=targetOffset*4;if(dest+blockLength>=priv.buffer.data.length){break}priv.buffer.data.set(buffer.subarray(offset,offset+blockLength),dest);targetOffset+=priv.buffer.width}}renderMap(){const priv=d.get(this);if(!priv.tileSet||!priv.model){return 0}const tileSize=priv.tileSet.tileSize;const w=priv.buffer.width;const h=priv.buffer.height;let offsetX=Math.round(priv.contentX);let offsetY=Math.round(priv.contentY);const xMod=priv.rowStride*tileSize;const yMod=priv.model.size/priv.rowStride*tileSize;const useGpuTiles=priv.tileSet.gpu;if(offsetX<0){offsetX=xMod-Math.abs(offsetX)%xMod}if(offsetY<0){offsetY=yMod-Math.abs(offsetY)%yMod}let tileIndex=0;let tilesRendered=0;let modelItem=null;for(let y=0;y<h;y+=tileSize){for(let x=0;x<w;x+=tileSize){++tileIndex;const translatedX=(x+offsetX)%xMod;const translatedY=(y+offsetY)%yMod;const idx=(translatedY/tileSize|0)*priv.rowStride+(translatedX/tileSize|0);modelItem=priv.model.at(idx);const tileType=priv.key===\"\"?modelItem:modelItem[priv.key];const tile=priv.tileSet.getTile(tileType);if(priv.currentLayout.get(tileIndex)===tile[0]){continue}else{priv.currentLayout.set(tileIndex,tile[0]);++tilesRendered}if(useGpuTiles){priv.offscreenContext.clearRect(x,y,tileSize,tileSize);if(tile[1]){priv.offscreenContext.drawImage(tile[1],tile[2],tile[3],tileSize,tileSize,x,y,tileSize,tileSize)}}else{if(tile[1]){this.putTile(tile,x,y,tileSize)}}}}return tilesRendered}renderLater(){const priv=d.get(this);if(!priv.renderPending){if(low.isFrameUpdate()){this.render()}else{const handle=low.addFrameHandler(()=>{handle.cancel();if(this.lifeCycleStatus===\"initialized\"){priv.renderPending=false;this.render()}},this.objectType+\"@\"+this.objectLocation)}}}render(){const priv=d.get(this);if(!priv.buffer){this.resizeBuffer()}if(!priv.buffer||!priv.tileSet||!priv.model||priv.model.size===0){return}const tilesAmountRendered=this.renderMap();if(tilesAmountRendered&&!priv.tileSet.gpu){priv.offscreenContext.putImageData(priv.buffer,0,0)}let offsetX=Math.round(priv.contentX);let offsetY=Math.round(priv.contentY);const tileSize=priv.tileSet.tileSize;const xMod=priv.rowStride*tileSize;const yMod=priv.model.size/priv.rowStride*tileSize;if(offsetX<0){offsetX=xMod-Math.abs(offsetX)%xMod}if(offsetY<0){offsetY=yMod-Math.abs(offsetY)%yMod}const scrollX=offsetX%tileSize;const scrollY=offsetY%tileSize;if(tilesAmountRendered===0&&priv.bufferX===-scrollX&&priv.bufferY===-scrollY){return}priv.context.clearRect(0,0,this.originalWidth,this.originalHeight);priv.context.drawImage(priv.offscreenCanvas,-scrollX,-scrollY);priv.bufferX=-scrollX;priv.bufferY=-scrollY}}exports.TileMap=TileMap});","core/mid/tileset.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],obj=>{const d=new WeakMap;class TileSet extends obj.Object{constructor(){super();d.set(this,{source:\"\",status:\"empty\",tileSize:32,gpu:false,image:new Image,data:null,gpuImage:null,aliasMap:new Map});this.notifyable(\"gpu\");this.notifyable(\"source\");this.notifyable(\"status\");this.notifyable(\"tileSize\");this.registerEvent(\"invalidate\");d.get(this).image.onload=()=>{const priv=d.get(this);const tmpCnv=document.createElement(\"canvas\");tmpCnv.width=priv.image.width;tmpCnv.height=priv.image.height;const ctx=tmpCnv.getContext(\"2d\");ctx.drawImage(priv.image,0,0);const imageData=ctx.getImageData(0,0,tmpCnv.width,tmpCnv.height);tmpCnv.remove();priv.data=new Uint8Array(new ArrayBuffer(imageData.data.length));priv.data.set(imageData.data,0);if(priv.gpu){this.updateGpuImage(()=>{priv.status=\"success\";this.statusChanged()})}else{priv.status=\"success\";this.statusChanged()}};d.get(this).image.onerror=()=>{d.get(this).status=\"error\";this.statusChanged()}}get status(){return d.get(this).status}get source(){return d.get(this).source}set source(s){d.get(this).source=s;this.sourceChanged();d.get(this).status=\"loading\";this.statusChanged();d.get(this).image.src=shRequire.resource(s)}get tileSize(){return d.get(this).tileSize}set tileSize(s){d.get(this).tileSize=s;this.tileSizeChanged()}get gpu(){return d.get(this).gpu}set gpu(v){if(v&&!window.createImageBitmap){console.warn(\"This platform does not support GPU-based tiles. Falling back to CPU-based implementation.\");v=false}d.get(this).gpu=v;this.gpuChanged();if(v){this.updateGpuImage()}else{d.get(this).gpuImage=null}}updateGpuImage(callback){const priv=d.get(this);priv.gpuImage=null;if(!priv.image||priv.image.width*priv.image.height===0){return}window.createImageBitmap(priv.image).then(bitmap=>{console.log(\"updated GPU image\");console.log(bitmap);priv.gpuImage=bitmap;if(callback){callback()}})}getTile(n){const priv=d.get(this);const tileId=priv.aliasMap.has(n)?priv.aliasMap.get(n):n;if(priv.gpu){if(priv.gpuImage&&tileId>=0){const perRow=Math.floor(priv.gpuImage.width/priv.tileSize);const x=tileId%perRow;const y=Math.floor(tileId/perRow);return[tileId,priv.gpuImage,x*priv.tileSize,y*priv.tileSize]}else{return[-1,null,0,0]}}else{if(priv.data&&tileId>=0){const perRow=Math.floor(priv.image.width/priv.tileSize);const x=tileId%perRow;const y=Math.floor(tileId/perRow);const begin=y*priv.tileSize*priv.image.width+x*priv.tileSize;const end=begin+priv.tileSize*priv.image.width;return[tileId,priv.data,begin*4,end*4,priv.image.width*4]}else{return[-1,null,0,0,0]}}}setAlias(n,to){d.get(this).aliasMap.set(n,to);this.invalidate()}}exports.TileSet=TileSet});","core/mid/timer.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],function(obj){const d=new WeakMap;class Timer extends obj.Object{constructor(){super();d.set(this,{running:false,repeat:false,interval:0,currentTimer:null});this.notifyable(\"running\");this.notifyable(\"repeat\");this.notifyable(\"interval\");this.registerEvent(\"timeout\");this.onInitialization=()=>{if(d.get(this).running){this.start()}};this.onDestruction=()=>{this.stop()}}get running(){return d.get(this).running}set running(v){d.get(this).running=v;this.runningChanged();if(v){if(this.lifeCycleStatus===\"initialized\"){this.start()}}else{this.stop()}}get repeat(){return d.get(this).repeat}set repeat(v){d.get(this).repeat=v;this.repeatChanged()}get interval(){return d.get(this).interval}set interval(v){d.get(this).interval=v;this.intervalChanged()}start(){this.stop();const priv=d.get(this);const cb=()=>{this.timeout();if(priv.repeat&&priv.running){priv.currentTimer=setTimeout(cb,priv.interval)}else{priv.currentTimer=null}};priv.currentTimer=setTimeout(cb,priv.interval)}stop(){const priv=d.get(this);if(priv.currentTimer){clearTimeout(priv.currentTimer);priv.currentTimer=null}}}exports.Timer=Timer});","core/mid/util/bezier-easing.js":"var NEWTON_ITERATIONS=4;var NEWTON_MIN_SLOPE=0.001;var SUBDIVISION_PRECISION=1e-7;var SUBDIVISION_MAX_ITERATIONS=10;var kSplineTableSize=11;var kSampleStepSize=1/(kSplineTableSize-1);var float32ArraySupported=typeof Float32Array===\"function\";function A(aA1,aA2){return 1-3*aA2+3*aA1}function B(aA1,aA2){return 3*aA2-6*aA1}function C(aA1){return 3*aA1}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT}function getSlope(aT,aA1,aA2){return 3*A(aA1,aA2)*aT*aT+2*B(aA1,aA2)*aT+C(aA1)}function binarySubdivide(aX,aA,aB,mX1,mX2){var currentX,currentT,i=0;do{currentT=aA+(aB-aA)/2;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0){aB=currentT}else{aA=currentT}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(var i=0;i<NEWTON_ITERATIONS;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0){return aGuessT}var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope}return aGuessT}function LinearEasing(x){return x}exports.bezier=function bezier(mX1,mY1,mX2,mY2){if(!(0<=mX1&&mX1<=1&&0<=mX2&&mX2<=1)){throw new Error(\"bezier x values must be in [0, 1] range\")}if(mX1===mY1&&mX2===mY2){return LinearEasing}var sampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize);for(var i=0;i<kSplineTableSize;++i){sampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2)}function getTForX(aX){var intervalStart=0;var currentSample=1;var lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize}--currentSample;var dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);var guessForT=intervalStart+dist*kSampleStepSize;var initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2)}else if(initialSlope===0){return guessForT}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2)}}return function BezierEasing(x){if(x===0||x===1){return x}return calcBezier(getTForX(x),mY1,mY2)}};","core/mid/util/color.js":"\"use strict\";const COLORS={\"aliceblue\":[240,248,255,1],\"antiquewhite\":[250,235,215,1],\"aqua\":[0,255,255,1],\"aquamarine\":[127,255,212,1],\"azure\":[240,255,255,1],\"beige\":[245,245,220,1],\"bisque\":[255,228,196,1],\"black\":[0,0,0,1],\"blanchedalmond\":[255,235,205,1],\"blue\":[0,0,255,1],\"blueviolet\":[138,43,226,1],\"brown\":[165,42,42,1],\"burlywood\":[222,184,135,1],\"cadetblue\":[95,158,160,1],\"chartreuse\":[127,255,0,1],\"chocolate\":[210,105,30,1],\"coral\":[255,127,80,1],\"cornflowerblue\":[100,149,237,1],\"cornsilk\":[255,248,220,1],\"crimson\":[220,20,60,1],\"cyan\":[0,255,255,1],\"darkblue\":[0,0,139,1],\"darkcyan\":[0,139,139,1],\"darkgoldenrod\":[184,134,11,1],\"darkgray\":[169,169,169,1],\"darkgreen\":[0,100,0,1],\"darkgrey\":[169,169,169,1],\"darkkhaki\":[189,183,107,1],\"darkmagenta\":[139,0,139,1],\"darkolivegreen\":[85,107,47,1],\"darkorange\":[255,140,0,1],\"darkorchid\":[153,50,204,1],\"darkred\":[139,0,0,1],\"darksalmon\":[233,150,122,1],\"darkseagreen\":[143,188,143,1],\"darkslateblue\":[72,61,139,1],\"darkslategray\":[47,79,79,1],\"darkslategrey\":[47,79,79,1],\"darkturquoise\":[0,206,209,1],\"darkviolet\":[148,0,211,1],\"deeppink\":[255,20,147,1],\"deepskyblue\":[0,191,255,1],\"dimgray\":[105,105,105,1],\"dimgrey\":[105,105,105,1],\"dodgerblue\":[30,144,255,1],\"firebrick\":[178,34,34,1],\"floralwhite\":[255,250,240,1],\"forestgreen\":[34,139,34,1],\"fuchsia\":[255,0,255,1],\"gainsboro\":[220,220,220,1],\"ghostwhite\":[248,248,255,1],\"gold\":[255,215,0,1],\"goldenrod\":[218,165,32,1],\"gray\":[128,128,128,1],\"green\":[0,128,0,1],\"greenyellow\":[173,255,47,1],\"grey\":[128,128,128,1],\"honeydew\":[240,255,240,1],\"hotpink\":[255,105,180,1],\"indianred\":[205,92,92,1],\"indigo\":[75,0,130,1],\"ivory\":[255,255,240,1],\"khaki\":[240,230,140,1],\"lavender\":[230,230,250,1],\"lavenderblush\":[255,240,245,1],\"lawngreen\":[124,252,0,1],\"lemonchiffon\":[255,250,205,1],\"lightblue\":[173,216,230,1],\"lightcoral\":[240,128,128,1],\"lightcyan\":[224,255,255,1],\"lightgoldenrodyellow\":[250,250,210,1],\"lightgray\":[211,211,211,1],\"lightgreen\":[144,238,144,1],\"lightgrey\":[211,211,211,1],\"lightpink\":[255,182,193,1],\"lightsalmon\":[255,160,122,1],\"lightseagreen\":[32,178,170,1],\"lightskyblue\":[135,206,250,1],\"lightslategray\":[119,136,153,1],\"lightslategrey\":[119,136,153,1],\"lightsteelblue\":[176,196,222,1],\"lightyellow\":[255,255,224,1],\"lime\":[0,255,0,1],\"limegreen\":[50,205,50,1],\"linen\":[250,240,230,1],\"magenta\":[255,0,255,1],\"maroon\":[128,0,0,1],\"mediumaquamarine\":[102,205,170,1],\"mediumblue\":[0,0,205,1],\"mediumorchid\":[186,85,211,1],\"mediumpurple\":[147,112,219,1],\"mediumseagreen\":[60,179,113,1],\"mediumslateblue\":[123,104,238,1],\"mediumspringgreen\":[0,250,154,1],\"mediumturquoise\":[72,209,204,1],\"mediumvioletred\":[199,21,133,1],\"midnightblue\":[25,25,112,1],\"mintcream\":[245,255,250,1],\"mistyrose\":[255,228,225,1],\"moccasin\":[255,228,181,1],\"navajowhite\":[255,222,173,1],\"navy\":[0,0,128,1],\"oldlace\":[253,245,230,1],\"olive\":[128,128,0,1],\"olivedrab\":[107,142,35,1],\"orange\":[255,165,0,1],\"orangered\":[255,69,0,1],\"orchid\":[218,112,214,1],\"palegoldenrod\":[238,232,170,1],\"palegreen\":[152,251,152,1],\"paleturquoise\":[175,238,238,1],\"palevioletred\":[219,112,147,1],\"papayawhip\":[255,239,213,1],\"peachpuff\":[255,218,185,1],\"peru\":[205,133,63,1],\"pink\":[255,192,203,1],\"plum\":[221,160,221,1],\"powderblue\":[176,224,230,1],\"purple\":[128,0,128,1],\"red\":[255,0,0,1],\"rosybrown\":[188,143,143,1],\"royalblue\":[65,105,225,1],\"saddlebrown\":[139,69,19,1],\"salmon\":[250,128,114,1],\"sandybrown\":[244,164,96,1],\"seagreen\":[46,139,87,1],\"seashell\":[255,245,238,1],\"sienna\":[160,82,45,1],\"silver\":[192,192,192,1],\"skyblue\":[135,206,235,1],\"slateblue\":[106,90,205,1],\"slategray\":[112,128,144,1],\"slategrey\":[112,128,144,1],\"snow\":[255,250,250,1],\"springgreen\":[0,255,127,1],\"steelblue\":[70,130,180,1],\"tan\":[210,180,140,1],\"teal\":[0,128,128,1],\"thistle\":[216,191,216,1],\"tomato\":[255,99,71,1],\"transparent\":[0,0,0,0],\"turquoise\":[64,224,208,1],\"violet\":[238,130,238,1],\"wheat\":[245,222,179,1],\"white\":[255,255,255,1],\"whitesmoke\":[245,245,245,1],\"yellow\":[255,255,0,1],\"yellowgreen\":[154,205,50,1],\"rebeccapurple\":[102,51,153,1]};function saturate(r,g,b,a,factor){const y=0.299*r+0.587*g+0.114*b;const rs=y+(r-y)*factor;const gs=y+(g-y)*factor;const bs=y+(b-y)*factor;return exports.rgba(rs,gs,bs,a)}exports.rgba=function(r,g,b,a){return{r,g,b,a,toArray:()=>[r,g,b,a],toCss:()=>`rgba(${r*255}, ${g*255}, ${b*255}, ${a})`,alpha:value=>exports.rgba(r,g,b,value),brightness:factor=>exports.rgba(Math.min(1,r*factor),Math.min(1,g*factor),Math.min(1,b*factor),a),saturation:factor=>saturate(r,g,b,a,factor)}};exports.rgb=function(r,g,b){return exports.rgba(r,g,b,1)};exports.color=function(name){if(name.startsWith(\"#\")){let r=255;let g=255;let b=255;let a=255;if(name.length===9){a=Number.parseInt(name.substr(7,2),16)}else if(name.length===5){a=Number.parseInt(name.substr(4,1)+name.substr(4,1),16)}if(name.length>=7){r=Number.parseInt(name.substr(1,2),16);g=Number.parseInt(name.substr(3,2),16);b=Number.parseInt(name.substr(5,2),16)}else{r=Number.parseInt(name.substr(1,1)+name.substr(1,1),16);g=Number.parseInt(name.substr(2,1)+name.substr(2,1),16);b=Number.parseInt(name.substr(3,1)+name.substr(3,1),16)}return exports.rgba(r/255,g/255,b/255,a/255)}else{const col=COLORS[name.toLowerCase()];if(col){const result=exports.rgba(col[0]/255,col[1]/255,col[2]/255,col[3]);result.toCss=()=>name;return result}else{return exports.rgba(0,0,0,1)}}};exports.colorInterpolate=function(c1,c2,x){return exports.rgba(c1.r+(c2.r-c1.r)*x,c1.g+(c2.g-c1.g)*x,c1.b+(c2.b-c1.b)*x,c1.a+(c2.a-c1.a)*x)};","core/mid/util/matrix.js":"\"use strict\";exports.__id=\"shellfish/matrix\";const DEG_TO_RAD=Math.PI/180;exports.PLUS=(a,b)=>a+b;exports.MINUS=(a,b)=>a-b;exports.MULTIPLY=(a,b)=>a*b;function shape(m){const rows=m.length;const cols=m[0].length;return{rows,cols}}exports.shape=shape;function elementWise(m,n,op){const s=exports.shape(m);const result=exports.mat(s.rows,s.cols);for(let r=0;r<s.rows;++r){for(let c=0;c<s.cols;++c){result[r][c]=op(m[r][c],n)}}return result}exports.elementWise=elementWise;function vec(...values){return values.map(a=>[a])}exports.vec=vec;function mat(rows,cols){const m=[];for(let r=0;r<rows;++r){const mRow=[];m.push(mRow);for(let c=0;c<cols;++c){mRow.push(0)}}return m}exports.mat=mat;function fromArray(arr,cols){const m=[];let row=[];m.push(row);for(let i=0;i<arr.length;++i){row.push(arr[i]);if(row.length===cols&&i<arr.length-1){row=[];m.push(row)}}return m}exports.fromArray=fromArray;function flat(m){const result=[];const s=exports.shape(m);for(let row=0;row<s.rows;++row){for(let col=0;col<s.cols;++col){result.push(m[row][col])}}return result}exports.flat=flat;function length(v){const s=exports.shape(v);if(s.cols!==1){throw\"Error: length is only defined for vectors\"}return Math.sqrt(v.reduce((a,b)=>a+b[0]*b[0],0))}exports.length=length;function t(m){const s=exports.shape(m);const t=exports.mat(s.cols,s.rows);for(let row=0;row<s.rows;++row){for(let col=0;col<s.cols;++col){t[col][row]=m[row][col]}}return t}exports.t=t;function add(a,b){if(typeof b===\"number\"){return exports.elementWise(a,b,exports.PLUS)}const s1=exports.shape(a);const s2=exports.shape(b);const m=exports.mat(s1.rows,s1.cols);if(s1.rows!==s2.rows||s1.cols!==s2.cols){throw\"Error: m1 and m2 must have the same dimension for addition/subtraction\"}for(let row=0;row<s1.rows;++row){for(let col=0;col<s1.cols;++col){m[row][col]=a[row][col]+b[row][col]}}return m}exports.add=add;function sub(a,b){return exports.add(a,exports.mul(b,-1))}exports.sub=sub;function dot(u,v){const s1=exports.shape(u);const s2=exports.shape(v);if(s1.cols!==1||s2.cols!==1||s1.rows!==s2.rows){throw\"Error: u and v must be column-vectors with the same dimensions for the dot product\"}let result=0;for(let i=0;i<s1.rows;++i){result+=u[i][0]*v[i][0]}return result}exports.dot=dot;function mul(a,b){if(typeof b===\"number\"){return exports.elementWise(a,b,exports.MULTIPLY)}const s1=exports.shape(a);const s2=exports.shape(b);const m=exports.mat(s1.rows,s2.cols);if(s1.cols!==s2.rows){throw\"Error: amount of m1's columns must match m2's amount of rows for multiplication\"}for(let row=0;row<s1.rows;++row){for(let col=0;col<s2.cols;++col){m[row][col]=0;for(let i=0;i<s1.cols;++i){m[row][col]+=a[row][i]*b[i][col]}}}return m}exports.mul=mul;function minor(m,row,col){const s=exports.shape(m);const result=exports.mat(s.rows-1,s.cols-1);for(let r=0;r<s.rows-1;++r){for(let c=0;c<s.cols-1;++c){result[r][c]=m[r<row?r:r+1][c<col?c:c+1]}}return result}exports.minor=minor;function det(m){const s=exports.shape(m);if(s.cols!==s.rows){throw\"Error: the determinant is only defined for square matrices\"}if(s.rows===2){return m[0][0]*m[1][1]-m[0][1]*m[1][0]}let result=0;for(let i=0;i<s.rows;++i){result+=(-1)**i*m[0][i]*exports.det(exports.minor(m,0,i))}return result}exports.det=det;function inv(m){const mDet=exports.det(m);if(mDet===0){throw\"Error: the matrix \"+JSON.stringify(m)+\" has no inverse\"}const s=exports.shape(m);if(s.cols!==s.rows){throw\"Error: only square matrices may be inverted\"}if(s.rows===2){return[[m[1][1]/mDet,-m[0][1]/mDet],[-m[1][0]/mDet,m[0][0]/mDet]]}let result=exports.mat(s.rows,s.cols);for(let r=0;r<s.rows;++r){for(let c=0;c<s.cols;++c){const minor=exports.minor(m,r,c);result[r][c]=(-1)**(r+c)*exports.det(minor)}}result=exports.t(result);for(let r=0;r<s.rows;++r){for(let c=0;c<s.cols;++c){result[r][c]/=mDet}}return result}exports.inv=inv;function identityM(dim){const m=[];for(let r=0;r<dim;++r){const mRow=[];m.push(mRow);for(let c=0;c<dim;++c){mRow.push(r===c?1:0)}}return m}exports.identityM=identityM;function translationM(vec){const dim=exports.shape(vec).rows;const m=exports.identityM(dim+1);for(let r=0;r<dim;++r){m[r][dim]=vec[r][0]}return m}exports.translationM=translationM;function rotationM(u,v,angle){const dim=exports.shape(u).rows;const rad=angle*DEG_TO_RAD;const c=Math.cos(rad);const s=Math.sin(rad);const ut=exports.t(u);const vt=exports.t(v);const a=exports.mul(exports.add(exports.mul(v,ut),exports.mul(exports.mul(u,vt),-1)),s);const b=exports.mul(exports.add(exports.mul(u,ut),exports.mul(v,vt)),c-1);const m=exports.add(exports.identityM(dim),exports.add(a,b));return m}exports.rotationM=rotationM;function scalingM(vec){const dim=exports.shape(vec).rows;const m=exports.identityM(dim);for(let r=0;r<dim;++r){m[r][r]=vec[r][0]}return m}exports.scalingM=scalingM;function rotationMByQuaternion(q){const qw=q[0];const qx=q[1];const qy=q[2];const qz=q[3];const qx2=qx*qx;const qy2=qy*qy;const qz2=qz*qz;return[[1-2*qy2-2*qz2,2*qx*qy-2*qz*qw,2*qx*qz+2*qy*qw,0],[2*qx*qy+2*qz*qw,1-2*qx2-2*qz2,2*qy*qz-2*qx*qw,0],[2*qx*qz-2*qy*qw,2*qy*qz+2*qx*qw,1-2*qx2-2*qy2,0],[0,0,0,1]]}exports.rotationMByQuaternion=rotationMByQuaternion;function perspectiveM(distance){return[[1,0,0,0],[0,1,0,0],[0,0,1,distance>0?-1/distance:0],[0,0,0,1]]}exports.perspectiveM=perspectiveM;","core/mid/util/mime.js":"\"use strict\";const EXTENSIONS={\".apk\":\"application/java-archive\",\".avi\":\"video/x-msvideo\",\".bat\":\"application/x-batch\",\".c\":\"text/plain\",\".cc\":\"text/plain\",\".cpp\":\"text/plain\",\".css\":\"text/css\",\".exe\":\"application/x-executable\",\".flac\":\"audio/flac\",\".flv\":\"video/x-flv\",\".gif\":\"image/gif\",\".gz\":\"application/x-gzip\",\".h\":\"text/plain\",\".hpp\":\"text/plain\",\".htm\":\"text/html\",\".html\":\"text/html\",\".ini\":\"text/plain\",\".iso\":\"application/x-iso9660-image\",\".jar\":\"application/java-archive\",\".jpeg\":\"image/jpeg\",\".jpg\":\"image/jpeg\",\".js\":\"text/javascript\",\".json\":\"application/x-json\",\".m4v\":\"video/mp4\",\".md\":\"text/x-markdown\",\".mp3\":\"audio/mp3\",\".mp4\":\"video/mp4\",\".mpeg\":\"video/mpeg\",\".mpg\":\"video/mpeg\",\".odt\":\"application/vnd.oasis.opendocument.text\",\".ogg\":\"audio/ogg\",\".pdf\":\"application/pdf\",\".png\":\"image/png\",\".pro\":\"text/plain\",\".py\":\"application/x-python\",\".qml\":\"application/x-qml\",\".rtf\":\"text/rtf\",\".sh\":\"application/x-shellscript\",\".svg\":\"image/svg+xml\",\".txt\":\"text/plain\",\".vcf\":\"text/vcard\",\".webm\":\"video/webm\",\".xml\":\"text/xml\",\".zip\":\"application/zip\"};const NAMES={\"ChangeLog\":\"text/plain\",\"INSTALL\":\"text/plain\",\"LICENSE\":\"text/plain\",\"Makefile\":\"text/plain\",\"NEWS\":\"text/plain\",\"README\":\"text/plain\"};exports.mimeType=function(path){var idx=path.lastIndexOf(\"/\");var name=idx!==-1?path.substr(idx+1):path;idx=path.lastIndexOf(\".\");var ext=idx!==-1?path.substr(idx):\"\";return EXTENSIONS[ext.toLowerCase()]||NAMES[name]||\"application/octet-stream\"};","core/mid/util/vec.js":"\"use strict\";exports.__id=\"shellfish/vector\";exports.vec2=function(x,y){return{x,y,length:function(){return vec2Length(this)},scale:function(s){return vec2Scale(this,s)},add:function(other){return vec2Add(this,other)},subtract:function(other){return vec2Subtract(this,other)}}};function vec2Length(v){return Math.sqrt(v.x*v.x+v.y*v.y)}function vec2Scale(v,s){return exports.vec2(v.x*s,v.y*s)}function vec2Add(v1,v2){return exports.vec2(v1.x+v2.x,v1.y+v2.y)}function vec2Subtract(v1,v2){return exports.vec2(v1.x-v2.x,v1.y-v2.y)}exports.vec2Interpolate=function(v1,v2,x){return v1.add(v2.subtract(v1).scale(x))};exports.vec3=function(x,y,z){return{x,y,z,length:function(){return vec3Length(this)},scale:function(s){return vec3Scale(this,s)},add:function(other){return vec3Add(this,other)},subtract:function(other){return vec3Subtract(this,other)}}};function vec3Length(v){return Math.sqrt(v.x*v.x+v.y*v.y+v.z*v.z)}function vec3Scale(v,s){return exports.vec3(v.x*s,v.y*s,v.z*s)}function vec3Add(v1,v2){return exports.vec3(v1.x+v2.x,v1.y+v2.y,v1.z+v2.z)}function vec3Subtract(v1,v2){return exports.vec3(v1.x-v2.x,v1.y-v2.y,v1.z-v2.z)}exports.vec3Interpolate=function(v1,v2,x){return v1.add(v2.subtract(v1).scale(x))};","core/mid/video.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/item.js\"],(low,item)=>{const d=new WeakMap;class Video extends item.Item{constructor(){super();d.set(this,{source:\"\",status:\"empty\",playing:false,fitMode:\"contain\",duration:0,seekTime:0,item:low.createElementTree(low.tag(\"video\").style(\"position\",\"relative\").style(\"display\",\"block\").style(\"object-fit\",\"contain\").attr(\"autoplay\",\"true\").html())});this.notifyable(\"currentTime\");this.notifyable(\"duration\");this.notifyable(\"fitMode\");this.notifyable(\"originalWidth\");this.notifyable(\"originalHeight\");this.notifyable(\"playing\");this.notifyable(\"source\");this.notifyable(\"status\");this.registerEvent(\"finish\");const item=d.get(this).item;item.removeAttribute(\"controls\");this.addHtmlEventListener(item,\"loadedmetadata\",()=>{this.originalWidthChanged();this.originalHeightChanged();d.get(this).status=\"success\";this.statusChanged()});this.addHtmlEventListener(item,\"durationchange\",()=>{this.durationChanged()});this.addHtmlEventListener(item,\"timeupdate\",()=>{this.currentTimeChanged()});this.addHtmlEventListener(item,\"pause\",()=>{d.get(this).playing=false;this.playingChanged();this.statusChanged()});this.addHtmlEventListener(item,\"play\",()=>{d.get(this).playing=true;this.playingChanged();this.statusChanged()});this.addHtmlEventListener(item,\"waiting\",()=>{});this.addHtmlEventListener(item,\"ended\",()=>{this.finish()});this.addHtmlEventListener(item,\"stalled\",()=>{});this.addHtmlEventListener(item,\"durationchange\",()=>{this.durationChanged()});this.addHtmlEventListener(item,\"progress\",()=>{})}get playing(){return d.get(this).playing}get status(){return d.get(this).status}get fitMode(){return d.get(this).fitMode}set fitMode(m){d.get(this).fitMode=m;low.css(d.get(this).item,\"object-fit\",m);this.fitModeChanged()}get source(){return d.get(this).source}set source(s){const priv=d.get(this);priv.status=\"loading\";this.statusChanged();priv.source=s;priv.item.setAttribute(\"src\",shRequire.resource(s));this.sourceChanged()}get originalWidth(){return d.get(this).item.videoWidth||0}get originalHeight(){return d.get(this).item.videoHeight||0}get currentTime(){if(d.get(this).item.seeking){return d.get(this).seekTime}else{return d.get(this).item.currentTime||0}}set currentTime(secs){d.get(this).seekTime=secs;d.get(this).item.currentTime=secs;this.currentTimeChanged()}get duration(){return d.get(this).item.duration||0}play(){d.get(this).item.play()}pause(){d.get(this).item.pause()}get(){return d.get(this).item}}exports.Video=Video});","core/mid/waitaction.js":"\"use strict\";shRequire([\"shellfish/low\",__dirname+\"/animation.js\"],function(low,anim){const d=new WeakMap;class WaitAction extends anim.Animation{constructor(){super();d.set(this,{pass:false});this.notifyable(\"pass\");this.onBegin=()=>{if(d.get(this).pass){const handle=low.addFrameHandler(()=>{handle.cancel();this.finish()})}}}get pass(){return d.get(this).pass}set pass(v){d.get(this).pass=v;this.passChanged();if(v&&this.busy){this.finish()}}}exports.WaitAction=WaitAction});","core/mid/wasm.js":"\"use strict\";shRequire([__dirname+\"/object.js\"],obj=>{const d=new WeakMap;class Wasm extends obj.Object{constructor(){super();d.set(this,{canvas:null,source:\"\",instance:null});this.notifyable(\"canvas\");this.notifyable(\"source\");this.notifyable(\"instance\");this.registerEvent(\"ready\")}get canvas(){return d.get(this).canvas}set canvas(cnv){d.get(this).canvas=cnv;cnv.get().id=\"canvas\";this.canvasChanged()}get source(){return d.get(this).source}set source(s){d.get(this).source=s;this.sourceChanged()}get instance(){return d.get(this).instance}vectorToArrayBuffer(vec,del){const priv=d.get(this);const buffer=new ArrayBuffer(vec.size());new Uint8Array(buffer).set(new Uint8Array(priv.instance.HEAP8.buffer,vec.data(),vec.size()));if(del){vec.delete()}return buffer}load(){const priv=d.get(this);const wasmUrl=priv.source;const runtimeUrl=wasmUrl.replace(/\\.wasm$/i,\".js\");const pos=wasmUrl.lastIndexOf(\"/\");const wasmDirectory=pos>0?wasmUrl.substr(0,pos):wasmUrl;function processor(u,code){return`\n                    exports.init = (Module) =>\n                    {\n                        ${code}\n                        return Module;\n                    };\n                `}shRequire([shRequire.resource(runtimeUrl)],mod=>{let runTime=null;const Module={mainScriptUrlOrBlob:runtimeUrl,canvas:priv.canvas?priv.canvas.get():null,locateFile:(path,scriptDirectory)=>{return wasmDirectory+\"/\"+path},onRuntimeInitialized:()=>{priv.instance=runTime;this.instanceChanged();this.ready()}};runTime=mod.init(Module)},processor)}}exports.Wasm=Wasm});","core/mid/websocket.js":"\"use strict\";shRequire([__dirname+\"/../low.js\",__dirname+\"/object.js\"],(low,obj)=>{const d=new WeakMap;class WebSocket extends obj.Object{constructor(){super();d.set(this,{autoConnect:false,status:\"closed\",socket:null,binaryType:\"arraybuffer\",protocol:\"\",supportedProtocols:[],url:\"\",monitored:false});this.notifyable(\"autoConnect\");this.notifyable(\"binaryType\");this.notifyable(\"bufferedAmount\");this.notifyable(\"protocol\");this.notifyable(\"status\");this.notifyable(\"supportedProtocols\");this.notifyable(\"url\");this.registerEvent(\"message\");this.registerEvent(\"error\");this.onInitialization=()=>{if(d.get(this).autoConnect){this.connectSocket()}};this.onDestruction=()=>{this.close()}}get autoConnect(){return d.get(this).autoConnect}set autoConnect(value){d.get(this).autoConnect=value;this.autoConnectChanged();if(!value&&d.get(this).status===\"connected\"){this.close()}}get binaryType(){return d.get(this).binaryType}set binaryType(t){const priv=d.get(this);if(priv.socket){priv.socket.binaryType=t}priv.binaryType=t;this.binaryTypeChanged()}get bufferedAmount(){const priv=d.get(this);if(priv.socket){return priv.socket.bufferedAmount}else{return 0}}get status(){return d.get(this).status}get url(){return d.get(this).url}set url(u){d.get(this).url=u;this.urlChanged()}get protocol(){return d.get(this).protocol}get supportedProtocols(){return d.get(this).supportedProtocols}set supportedProtocols(ps){d.get(this).supportedProtocols=ps;this.supportedProtocolsChanged()}connectSocket(){const priv=d.get(this);priv.status=\"connecting\";this.statusChanged();try{priv.socket=new window.WebSocket(priv.url,priv.supportedProtocols);priv.socket.binaryType=priv.binaryType;priv.socket.onopen=()=>{priv.protocol=priv.socket.protocol;this.protocolChanged();priv.status=\"connected\";this.statusChanged()};priv.socket.onclose=ev=>{console.log(\"WebSocket closed with code \"+ev.code+\" \"+ev.reason);priv.protocol=\"\";this.protocolChanged();priv.status=\"closed\";this.statusChanged();if(ev.code!==1000){this.error(\"Connection closed with code \"+ev.code+\" \"+ev.reason)}};priv.socket.onmessage=ev=>{this.message(ev)};priv.socket.onerror=ev=>{this.error(\"Socket Error\")}}catch(err){console.error(err);priv.socket=null;priv.status=\"error\";this.statusChanged()}}close(){const priv=d.get(this);priv.status=\"closed\";this.statusChanged();if(priv.socket){priv.socket.close(1000,\"Normal Closure\");priv.socket=null}}send(data){const priv=d.get(this);if(priv.socket){priv.socket.send(data);if(!priv.monitored){priv.monitored=true;const handle=low.addFrameHandler(()=>{if(priv.socket){const ba=priv.socket.bufferedAmount;this.bufferedAmountChanged();if(ba===0){handle.cancel();priv.monitored=false}}else{handle.cancel();priv.monitored=false}},this.objectType+\"@\"+this.objectLocation)}}}}exports.WebSocket=WebSocket});","core/mid.js":"\"use strict\";exports.__id=\"shellfish/mid\";exports.SHELLFISH_BUILD=\"e0992eb-2021-08-21T07:47:15.883Z\";const mods=[\"util/matrix\",\"box\",\"cameraview\",\"canvas\",\"capabilities\",\"console\",\"davfs\",\"document\",\"draggable\",\"droparea\",\"fileselector\",\"fpsmeter\",\"frametimer\",\"fsmodel\",\"gamepad\",\"gamepadmodel\",\"gradientstop\",\"html\",\"image\",\"item\",\"label\",\"lineargradient\",\"listmodel\",\"listview\",\"mousebox\",\"numberanimation\",\"object\",\"offlinefs\",\"parallelanimation\",\"repeater\",\"ruler\",\"scriptaction\",\"sequentialanimation\",\"textarea\",\"textinput\",\"threadpool\",\"tilemap\",\"tileset\",\"timer\",\"video\",\"waitaction\",\"wasm\",\"websocket\"];shRequire(mods.map(m=>__dirname+\"/mid/\"+m+\".js\"),function(){for(var i=0;i<arguments.length;++i){exports.include(arguments[i])}});","core/ui/Button.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Button={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+40).use(self).id(\"button\",__namespace).use(self).property(\"icon\",\"\").use(self).property(\"secondaryIcon\",\"\").use(self).property(\"text\",\"\").use(self).property(\"flat\",false).use(self).property(\"checked\",false).use(self).property(\"labelProfile\",(__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+48).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+50).use(self).id(\"priv\",__namespace).use(self).property(\"highlighted\",high.binding([high.chainRef(root,[\"button\",\"checked\"],__rslv__),high.chainRef(root,[\"button\",\"containsMouse\"],__rslv__),high.chainRef(root,[\"pressed\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":53\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val||(()=>{mid.dbgctx=__filename+\":54\";const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val||(()=>{mid.dbgctx=__filename+\":55\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 53] button.checked ||\\n                              button.containsMouse ||\\n                              pressed\")).flushPending();return self})(__rslv__)).use(self).property(\"format\",t=>{const pos=(()=>{mid.dbgctx=__filename+\":60\";const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const indexOf_1=__xsdv__(t_0.val.indexOf,v=>{t_0.val.indexOf=v},(...args)=>{return t_0.val.indexOf(...args)});const CALL_2=__xsdv__(indexOf_1.val(\"&\"),()=>{});return CALL_2})().val;if((()=>{mid.dbgctx=__filename+\":61\";const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val===-1){return(()=>{mid.dbgctx=__filename+\":63\";const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});return t_0})().val}else{return(()=>{const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const substr_1=__xsdv__(t_0.val.substr,v=>{t_0.val.substr=v},(...args)=>{return t_0.val.substr(...args)});const CALL_2=__xsdv__(substr_1.val(0,(()=>{mid.dbgctx=__filename+\":67\";const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val),()=>{});return CALL_2})().val+\"_\"+(()=>{const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const ACCESS_1=__xsdv__(t_0.val[(()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+1],v=>{t_0.val[(()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+1]=v},(...args)=>{return t_0.val[(()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+1](...args)});return ACCESS_1})().val+\"_\"+(()=>{const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const substr_1=__xsdv__(t_0.val.substr,v=>{t_0.val.substr=v},(...args)=>{return t_0.val.substr(...args)});const CALL_2=__xsdv__(substr_1.val((()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+2),()=>{});return CALL_2})().val}}).use(self).color(high.binding([high.chainRef(root,[\"checked\"],__rslv__),high.chainRef(root,[\"pressed\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__),high.chainRef(root,[\"containsMouse\"],__rslv__),high.chainRef(root,[\"theme\",\"hoverBackgroundColor\"],__rslv__),high.chainRef(root,[\"flat\"],__rslv__),high.chainRef(root,[\"theme\",\"contentBackgroundColor\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4,alias5,alias6)=>{return(()=>{mid.dbgctx=__filename+\":71\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val||(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{mid.dbgctx=__filename+\":72\";const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val?(()=>{const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val:(()=>{mid.dbgctx=__filename+\":73\";const alias5_0=__xsdv__(alias5,v=>{alias5=v},(...args)=>{return alias5(...args)});return alias5_0})().val?\"transparent\":(()=>{mid.dbgctx=__filename+\":74\";const alias6_0=__xsdv__(alias6,v=>{alias6=v},(...args)=>{return alias6(...args)});return alias6_0})().val},__filename+\"[l. 71] checked || pressed ? theme.highlightBackgroundColor\\n                              : containsMouse ? theme.hoverBackgroundColor\\n                                              : flat ? \\\"transparent\\\"\\n                                                     : theme.contentBackgroundColor\")).use(self).borderWidth(high.binding([high.chainRef(root,[\"flat\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":76\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?0:1},__filename+\"[l. 76] flat ? 0 : 1\")).use(self).borderRadius(high.binding([high.chainRef(root,[\"flat\"],__rslv__),high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":77\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?0:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 77] flat ? 0 : theme.borderRadius\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":78\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 78] theme.borderColor\")).use(self).layout(\"center-row\").use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":81\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 81] theme.itemHeightSmall\")).use(self).opacity(high.binding([high.chainRef(root,[\"ancestorsEnabled\"],__rslv__),high.chainRef(root,[\"enabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":83\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?1:0.6},__filename+\"[l. 83] ancestorsEnabled && enabled ? 1 : 0.6\")).use(self).canFocus(true).use(self).onClick(()=>{(()=>{mid.dbgctx=__filename+\":89\";const focus_0=__xsdv__(__rslv__(\"focus\"),()=>{});return focus_0})().val=true}).use(self).crossConnect(()=>{return __rslv__(\"shortcutReceiver\")},\"keyDown\")(ev=>{if((()=>{mid.dbgctx=__filename+\":94\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const altKey_1=__xsdv__(ev_0.val.altKey,v=>{ev_0.val.altKey=v},(...args)=>{return ev_0.val.altKey(...args)});return altKey_1})().val){const idx=(()=>{mid.dbgctx=__filename+\":96\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});const indexOf_1=__xsdv__(text_0.val.indexOf,v=>{text_0.val.indexOf=v},(...args)=>{return text_0.val.indexOf(...args)});const CALL_2=__xsdv__(indexOf_1.val(\"&\"),()=>{});return CALL_2})().val;if((()=>{mid.dbgctx=__filename+\":97\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val!==-1){const key=(()=>{const text_0=__xsdv__(__rslv__(\"text\"),()=>{});const ACCESS_1=__xsdv__(text_0.val[(()=>{mid.dbgctx=__filename+\":99\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val+1],v=>{text_0.val[(()=>{mid.dbgctx=__filename+\":99\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val+1]=v},(...args)=>{return text_0.val[(()=>{mid.dbgctx=__filename+\":99\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val+1](...args)});const toLowerCase_2=__xsdv__(ACCESS_1.val.toLowerCase,v=>{ACCESS_1.val.toLowerCase=v},(...args)=>{return ACCESS_1.val.toLowerCase(...args)});const CALL_3=__xsdv__(toLowerCase_2.val(),()=>{});return CALL_3})().val;if((()=>{mid.dbgctx=__filename+\":100\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val){(()=>{const click_0=__xsdv__(__rslv__(\"click\"),()=>{});const CALL_1=__xsdv__(click_0.val((()=>{mid.dbgctx=__filename+\":102\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":103\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}}}).use(self).onKeyDown(ev=>{if((()=>{mid.dbgctx=__filename+\":111\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\" \"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"){(()=>{const click_0=__xsdv__(__rslv__(\"click\"),()=>{});const CALL_1=__xsdv__(click_0.val((()=>{mid.dbgctx=__filename+\":113\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":114\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+118).use(self).visible(high.binding([high.chainRef(root,[\"button\",\"icon\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":119\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"},__filename+\"[l. 119] button.icon !== \\\"\\\"\")).use(self).marginLeft(4).use(self).marginRight(4).use(self).fontSize(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":122\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*0.6},__filename+\"[l. 122] parent.bbox.height * 0.6\")).use(self).color(high.binding([high.chainRef(root,[\"priv\",\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":123\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 123] priv.highlighted ? theme.highlightColor : theme.primaryColor\")).use(self).text(high.binding([high.chainRef(root,[\"button\",\"icon\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":124\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"?\"[icon:\"+(()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+\"]\":\"\"},__filename+\"[l. 124] button.icon !== \\\"\\\" ? \\\"[icon:\\\" + button.icon + \\\"]\\\" : \\\"\\\"\")).use(self).profiles(high.binding([high.chainRef(root,[\"button\",\"labelProfile\"],__rslv__)],alias0=>{return[(()=>{mid.dbgctx=__filename+\":126\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val]},__filename+\"[l. 126] [button.labelProfile]\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+129).use(self).visible(high.binding([high.chainRef(root,[\"button\",\"text\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":130\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"},__filename+\"[l. 130] button.text !== \\\"\\\"\")).use(self).fillWidth(true).use(self).marginLeft(high.binding([high.chainRef(root,[\"button\",\"icon\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":132\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"?4:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 132] button.icon !== \\\"\\\" ? 4 : theme.paddingSmall\")).use(self).marginRight(high.binding([high.chainRef(root,[\"button\",\"secondaryIcon\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":133\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"?4:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 133] button.secondaryIcon !== \\\"\\\" ? 4 : theme.paddingSmall\")).use(self).horizontalAlignment(\"center\").use(self).color(high.binding([high.chainRef(root,[\"priv\",\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":136\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 136] priv.highlighted ? theme.highlightColor : theme.primaryColor\")).use(self).text(high.binding([high.chainRef(root,[\"button\",\"text\"],__rslv__),high.chainRef(root,[\"button\",\"format\"],__rslv__)],(alias0,alias1)=>{return(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const CALL_1=__xsdv__(alias1_0.val((()=>{mid.dbgctx=__filename+\":137\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 137] button.format(button.text)\")).use(self).profiles(high.binding([high.chainRef(root,[\"button\",\"labelProfile\"],__rslv__)],alias0=>{return[(()=>{mid.dbgctx=__filename+\":139\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val]},__filename+\"[l. 139] [button.labelProfile]\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+142).use(self).visible(high.binding([high.chainRef(root,[\"button\",\"secondaryIcon\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":143\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"},__filename+\"[l. 143] button.secondaryIcon !== \\\"\\\"\")).use(self).marginLeft(4).use(self).marginRight(4).use(self).fontSize(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":146\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*0.6},__filename+\"[l. 146] parent.bbox.height * 0.6\")).use(self).color(high.binding([high.chainRef(root,[\"priv\",\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":147\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 147] priv.highlighted ? theme.highlightColor : theme.primaryColor\")).use(self).text(high.binding([high.chainRef(root,[\"button\",\"secondaryIcon\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":148\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"?\"[icon:\"+(()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+\"]\":\"\"},__filename+\"[l. 148] button.secondaryIcon !== \\\"\\\" ? \\\"[icon:\\\" + button.secondaryIcon + \\\"]\\\" : \\\"\\\"\")).use(self).profiles(high.binding([high.chainRef(root,[\"button\",\"labelProfile\"],__rslv__)],alias0=>{return[(()=>{mid.dbgctx=__filename+\":150\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val]},__filename+\"[l. 150] [button.labelProfile]\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+153).use(self).visible(high.binding([high.chainRef(root,[\"button\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":153\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 153] button.focus \")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Calendar.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1315,mid,high)=>{const modules={mod1315:mod1315,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Calendar={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+37).use(self).id(\"cal\",__namespace).use(self).property(\"firstDay\",0).use(self).property(\"date\",(()=>{const d=new Date;return[(()=>{mid.dbgctx=__filename+\":44\";const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getFullYear_1=__xsdv__(d_0.val.getFullYear,v=>{d_0.val.getFullYear=v},(...args)=>{return d_0.val.getFullYear(...args)});const CALL_2=__xsdv__(getFullYear_1.val(),()=>{});return CALL_2})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getMonth_1=__xsdv__(d_0.val.getMonth,v=>{d_0.val.getMonth=v},(...args)=>{return d_0.val.getMonth(...args)});const CALL_2=__xsdv__(getMonth_1.val(),()=>{});return CALL_2})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getDate_1=__xsdv__(d_0.val.getDate,v=>{d_0.val.getDate=v},(...args)=>{return d_0.val.getDate(...args)});const CALL_2=__xsdv__(getDate_1.val(),()=>{});return CALL_2})().val]})()).use(self).property(\"dayDelegate\",()=>{return{create:function(__pRslv__){const __namespace=\"tmp.2098\";return function(){const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+47).use(self).id(\"dayButton\",__namespace).use(self).labelProfile((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+50).use(self).property(\"horizontalAlignment\",\"right\").use(self).property(\"fontSize\",high.binding([high.chainRef(root,[\"theme\",\"fontSizeSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":52\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 52] theme.fontSizeSmall\\r\")).use(self).property(\"bold\",high.binding([high.chainRef(root,[\"dayButton\",\"modelData\",\"value\",\"year\"],__rslv__),high.chainRef(root,[\"dayButton\",\"modelData\",\"value\",\"month\"],__rslv__),high.chainRef(root,[\"dayButton\",\"modelData\",\"value\",\"day\"],__rslv__),high.chainRef(root,[\"priv\",\"isToday\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});const CALL_1=__xsdv__(alias3_0.val((()=>{mid.dbgctx=__filename+\":53\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val,(()=>{mid.dbgctx=__filename+\":54\";const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val,(()=>{mid.dbgctx=__filename+\":55\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 53] priv.isToday(dayButton.modelData.value.year,\\r\\n                                        dayButton.modelData.value.month,\\r\\n                                        dayButton.modelData.value.day)\\r\")).flushPending();return self})(__rslv__)).use(self).visible(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"day\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":58\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==0},__filename+\"[l. 58] modelData.value.day !== 0\\r\")).use(self).opacity(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"month\"],__rslv__),high.chainRef(root,[\"cal\",\"date\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":59\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const ACCESS_1=__xsdv__(alias1_0.val[1],v=>{alias1_0.val[1]=v},(...args)=>{return alias1_0.val[1](...args)});return ACCESS_1})().val?1:0.4},__filename+\"[l. 59] modelData.value.month === cal.date[1] ? 1.0 : 0.4\\r\")).use(self).flat(true).use(self).text(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"day\"],__rslv__)],alias0=>{return\"\"+(()=>{mid.dbgctx=__filename+\":62\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 62] \\\"\\\" + modelData.value.day\\r\")).use(self).onClick(ev=>{(()=>{const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const dateSelected_1=__xsdv__(cal_0.val.dateSelected,v=>{cal_0.val.dateSelected=v},(...args)=>{return cal_0.val.dateSelected(...args)});const CALL_2=__xsdv__(dateSelected_1.val((()=>{mid.dbgctx=__filename+\":66\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const year_2=__xsdv__(value_1.val.year,v=>{value_1.val.year=v},(...args)=>{return value_1.val.year(...args)});return year_2})().val,(()=>{mid.dbgctx=__filename+\":67\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const month_2=__xsdv__(value_1.val.month,v=>{value_1.val.month=v},(...args)=>{return value_1.val.month(...args)});return month_2})().val,(()=>{mid.dbgctx=__filename+\":68\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const day_2=__xsdv__(value_1.val.day,v=>{value_1.val.day=v},(...args)=>{return value_1.val.day(...args)});return day_2})().val),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":69\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self}}(__rslv__)}.create(__rslv__)}).use(self).property(\"toPreviousMonth\",()=>{let y=(()=>{mid.dbgctx=__filename+\":82\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[0],v=>{date_1.val[0]=v},(...args)=>{return date_1.val[0](...args)});return ACCESS_2})().val;let m=(()=>{mid.dbgctx=__filename+\":83\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[1],v=>{date_1.val[1]=v},(...args)=>{return date_1.val[1](...args)});return ACCESS_2})().val;let d=(()=>{mid.dbgctx=__filename+\":84\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[2],v=>{date_1.val[2]=v},(...args)=>{return date_1.val[2](...args)});return ACCESS_2})().val;if((()=>{mid.dbgctx=__filename+\":85\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val===0){--(()=>{mid.dbgctx=__filename+\":87\";const y_0=__xsdv__(y,v=>{y=v},(...args)=>{return y(...args)});return y_0})().val;(()=>{mid.dbgctx=__filename+\":88\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val=11}else{--(()=>{mid.dbgctx=__filename+\":92\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val}(()=>{mid.dbgctx=__filename+\":94\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});return date_1})().val=[(()=>{const y_0=__xsdv__(y,v=>{y=v},(...args)=>{return y(...args)});return y_0})().val,(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});return d_0})().val]}).use(self).property(\"toNextMonth\",()=>{let y=(()=>{mid.dbgctx=__filename+\":106\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[0],v=>{date_1.val[0]=v},(...args)=>{return date_1.val[0](...args)});return ACCESS_2})().val;let m=(()=>{mid.dbgctx=__filename+\":107\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[1],v=>{date_1.val[1]=v},(...args)=>{return date_1.val[1](...args)});return ACCESS_2})().val;let d=(()=>{mid.dbgctx=__filename+\":108\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[2],v=>{date_1.val[2]=v},(...args)=>{return date_1.val[2](...args)});return ACCESS_2})().val;if((()=>{mid.dbgctx=__filename+\":109\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val===11){++(()=>{mid.dbgctx=__filename+\":111\";const y_0=__xsdv__(y,v=>{y=v},(...args)=>{return y(...args)});return y_0})().val;(()=>{mid.dbgctx=__filename+\":112\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val=0}else{++(()=>{mid.dbgctx=__filename+\":116\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val}(()=>{mid.dbgctx=__filename+\":118\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});return date_1})().val=[(()=>{const y_0=__xsdv__(y,v=>{y=v},(...args)=>{return y(...args)});return y_0})().val,(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});return d_0})().val]}).use(self).property(\"toToday\",()=>{const d=new Date;(()=>{mid.dbgctx=__filename+\":131\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});return date_1})().val=[(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getFullYear_1=__xsdv__(d_0.val.getFullYear,v=>{d_0.val.getFullYear=v},(...args)=>{return d_0.val.getFullYear(...args)});const CALL_2=__xsdv__(getFullYear_1.val(),()=>{});return CALL_2})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getMonth_1=__xsdv__(d_0.val.getMonth,v=>{d_0.val.getMonth=v},(...args)=>{return d_0.val.getMonth(...args)});const CALL_2=__xsdv__(getMonth_1.val(),()=>{});return CALL_2})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getDate_1=__xsdv__(d_0.val.getDate,v=>{d_0.val.getDate=v},(...args)=>{return d_0.val.getDate(...args)});const CALL_2=__xsdv__(getDate_1.val(),()=>{});return CALL_2})().val];(()=>{mid.dbgctx=__filename+\":132\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const mode_1=__xsdv__(priv_0.val.mode,v=>{priv_0.val.mode=v},(...args)=>{return priv_0.val.mode(...args)});return mode_1})().val=0}).use(self).property(\"pickMonth\",()=>{(()=>{mid.dbgctx=__filename+\":144\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const mode_1=__xsdv__(priv_0.val.mode,v=>{priv_0.val.mode=v},(...args)=>{return priv_0.val.mode(...args)});return mode_1})().val=1}).use(self).property(\"pickYear\",()=>{(()=>{mid.dbgctx=__filename+\":156\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const mode_1=__xsdv__(priv_0.val.mode,v=>{priv_0.val.mode=v},(...args)=>{return priv_0.val.mode(...args)});return mode_1})().val=2}).use(self).event(\"dateSelected\").use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":169\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*7},__filename+\"[l. 169] theme.itemWidthMedium * 7\\r\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":170\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*7},__filename+\"[l. 170] theme.itemHeightSmall * 7\\r\")).use(self).onInitialization(()=>{(()=>{const daysModel_0=__xsdv__(__rslv__(\"daysModel\"),()=>{});const setMonth_1=__xsdv__(daysModel_0.val.setMonth,v=>{daysModel_0.val.setMonth=v},(...args)=>{return daysModel_0.val.setMonth(...args)});const CALL_2=__xsdv__(setMonth_1.val((()=>{mid.dbgctx=__filename+\":174\";const date_0=__xsdv__(__rslv__(\"date\"),()=>{});const ACCESS_1=__xsdv__(date_0.val[0],v=>{date_0.val[0]=v},(...args)=>{return date_0.val[0](...args)});return ACCESS_1})().val,(()=>{const date_0=__xsdv__(__rslv__(\"date\"),()=>{});const ACCESS_1=__xsdv__(date_0.val[1],v=>{date_0.val[1]=v},(...args)=>{return date_0.val[1](...args)});return ACCESS_1})().val),()=>{});return CALL_2})().val}).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":179\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onWheel(ev=>{if((()=>{mid.dbgctx=__filename+\":184\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const mode_1=__xsdv__(priv_0.val.mode,v=>{priv_0.val.mode=v},(...args)=>{return priv_0.val.mode(...args)});return mode_1})().val===0){if((()=>{mid.dbgctx=__filename+\":186\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaY_1=__xsdv__(ev_0.val.deltaY,v=>{ev_0.val.deltaY=v},(...args)=>{return ev_0.val.deltaY(...args)});return deltaY_1})().val<0){(()=>{mid.dbgctx=__filename+\":188\";const toPreviousMonth_0=__xsdv__(__rslv__(\"toPreviousMonth\"),()=>{});const CALL_1=__xsdv__(toPreviousMonth_0.val(),()=>{});return CALL_1})().val}else if((()=>{mid.dbgctx=__filename+\":190\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaY_1=__xsdv__(ev_0.val.deltaY,v=>{ev_0.val.deltaY=v},(...args)=>{return ev_0.val.deltaY(...args)});return deltaY_1})().val>0){(()=>{mid.dbgctx=__filename+\":192\";const toNextMonth_0=__xsdv__(__rslv__(\"toNextMonth\"),()=>{});const CALL_1=__xsdv__(toNextMonth_0.val(),()=>{});return CALL_1})().val}(()=>{mid.dbgctx=__filename+\":194\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}).use(self).onFirstDayChanged(()=>{(()=>{const daysModel_0=__xsdv__(__rslv__(\"daysModel\"),()=>{});const setMonth_1=__xsdv__(daysModel_0.val.setMonth,v=>{daysModel_0.val.setMonth=v},(...args)=>{return daysModel_0.val.setMonth(...args)});const CALL_2=__xsdv__(setMonth_1.val((()=>{mid.dbgctx=__filename+\":198\";const date_0=__xsdv__(__rslv__(\"date\"),()=>{});const ACCESS_1=__xsdv__(date_0.val[0],v=>{date_0.val[0]=v},(...args)=>{return date_0.val[0](...args)});return ACCESS_1})().val,(()=>{const date_0=__xsdv__(__rslv__(\"date\"),()=>{});const ACCESS_1=__xsdv__(date_0.val[1],v=>{date_0.val[1]=v},(...args)=>{return date_0.val[1](...args)});return ACCESS_1})().val),()=>{});return CALL_2})().val}).use(self).onDateChanged(()=>{(()=>{const daysModel_0=__xsdv__(__rslv__(\"daysModel\"),()=>{});const setMonth_1=__xsdv__(daysModel_0.val.setMonth,v=>{daysModel_0.val.setMonth=v},(...args)=>{return daysModel_0.val.setMonth(...args)});const CALL_2=__xsdv__(setMonth_1.val((()=>{mid.dbgctx=__filename+\":199\";const date_0=__xsdv__(__rslv__(\"date\"),()=>{});const ACCESS_1=__xsdv__(date_0.val[0],v=>{date_0.val[0]=v},(...args)=>{return date_0.val[0](...args)});return ACCESS_1})().val,(()=>{const date_0=__xsdv__(__rslv__(\"date\"),()=>{});const ACCESS_1=__xsdv__(date_0.val[1],v=>{date_0.val[1]=v},(...args)=>{return date_0.val[1](...args)});return ACCESS_1})().val),()=>{});return CALL_2})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+201).use(self).id(\"priv\",__namespace).use(self).property(\"mode\",0).use(self).property(\"isToday\",(year,month,day)=>{const now=new Date;return(()=>{mid.dbgctx=__filename+\":209\";const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getFullYear_1=__xsdv__(now_0.val.getFullYear,v=>{now_0.val.getFullYear=v},(...args)=>{return now_0.val.getFullYear(...args)});const CALL_2=__xsdv__(getFullYear_1.val(),()=>{});return CALL_2})().val===(()=>{const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val&&(()=>{mid.dbgctx=__filename+\":210\";const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getMonth_1=__xsdv__(now_0.val.getMonth,v=>{now_0.val.getMonth=v},(...args)=>{return now_0.val.getMonth(...args)});const CALL_2=__xsdv__(getMonth_1.val(),()=>{});return CALL_2})().val===(()=>{const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val&&(()=>{mid.dbgctx=__filename+\":211\";const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getDate_1=__xsdv__(now_0.val.getDate,v=>{now_0.val.getDate=v},(...args)=>{return now_0.val.getDate(...args)});const CALL_2=__xsdv__(getDate_1.val(),()=>{});return CALL_2})().val===(()=>{const day_0=__xsdv__(day,v=>{day=v},(...args)=>{return day(...args)});return day_0})().val}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"ListModel\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListModel\").objectLocation(__filename+\":\"+215).use(self).id(\"daysModel\",__namespace).use(self).property(\"setMonth\",(year,month)=>{if((()=>{mid.dbgctx=__filename+\":220\";const size_0=__xsdv__(__rslv__(\"size\"),()=>{});return size_0})().val===0){const d=[];for(let i=0;(()=>{mid.dbgctx=__filename+\":224\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val<6*7;++(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val){(()=>{mid.dbgctx=__filename+\":226\";const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const push_1=__xsdv__(d_0.val.push,v=>{d_0.val.push=v},(...args)=>{return d_0.val.push(...args)});const CALL_2=__xsdv__(push_1.val({year:0,month:0,day:0,dayOfWeek:0}),()=>{});return CALL_2})().val}(()=>{const reset_0=__xsdv__(__rslv__(\"reset\"),()=>{});const CALL_1=__xsdv__(reset_0.val((()=>{mid.dbgctx=__filename+\":228\";const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});return d_0})().val),()=>{});return CALL_1})().val}const prevDate=new Date((()=>{mid.dbgctx=__filename+\":232\";const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val,(()=>{const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val,0);const date=new Date((()=>{mid.dbgctx=__filename+\":234\";const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val,(()=>{const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val,1);const lastPrevDay=(()=>{mid.dbgctx=__filename+\":237\";const prevDate_0=__xsdv__(prevDate,v=>{prevDate=v},(...args)=>{return prevDate(...args)});const getDate_1=__xsdv__(prevDate_0.val.getDate,v=>{prevDate_0.val.getDate=v},(...args)=>{return prevDate_0.val.getDate(...args)});const CALL_2=__xsdv__(getDate_1.val(),()=>{});return CALL_2})().val;const prevMonth=(()=>{mid.dbgctx=__filename+\":238\";const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val===0?11:(()=>{const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val-1;const nextMonth=((()=>{mid.dbgctx=__filename+\":239\";const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val+1)%12;const prevYear=(()=>{mid.dbgctx=__filename+\":240\";const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val===0?(()=>{const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val-1:(()=>{const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val;const nextYear=(()=>{mid.dbgctx=__filename+\":241\";const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val===11?(()=>{const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val+1:(()=>{const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val;const offset=((()=>{mid.dbgctx=__filename+\":243\";const date_0=__xsdv__(date,v=>{date=v},(...args)=>{return date(...args)});const getDay_1=__xsdv__(date_0.val.getDay,v=>{date_0.val.getDay=v},(...args)=>{return date_0.val.getDay(...args)});const CALL_2=__xsdv__(getDay_1.val(),()=>{});return CALL_2})().val+(7-(()=>{const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const firstDay_1=__xsdv__(cal_0.val.firstDay,v=>{cal_0.val.firstDay=v},(...args)=>{return cal_0.val.firstDay(...args)});return firstDay_1})().val))%7;(()=>{const date_0=__xsdv__(date,v=>{date=v},(...args)=>{return date(...args)});const setMonth_1=__xsdv__(date_0.val.setMonth,v=>{date_0.val.setMonth=v},(...args)=>{return date_0.val.setMonth(...args)});const CALL_2=__xsdv__(setMonth_1.val((()=>{mid.dbgctx=__filename+\":246\";const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val+1,0),()=>{});return CALL_2})().val;const lastDay=(()=>{mid.dbgctx=__filename+\":247\";const date_0=__xsdv__(date,v=>{date=v},(...args)=>{return date(...args)});const getDate_1=__xsdv__(date_0.val.getDate,v=>{date_0.val.getDate=v},(...args)=>{return date_0.val.getDate(...args)});const CALL_2=__xsdv__(getDate_1.val(),()=>{});return CALL_2})().val;for(let i=0;(()=>{mid.dbgctx=__filename+\":249\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val<6*7;++(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val){(()=>{mid.dbgctx=__filename+\":262\";const replace_0=__xsdv__(__rslv__(\"replace\"),()=>{});const CALL_1=__xsdv__(replace_0.val((()=>{mid.dbgctx=__filename+\":251\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val,{year:(()=>{mid.dbgctx=__filename+\":252\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val<(()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val?(()=>{const prevYear_0=__xsdv__(prevYear,v=>{prevYear=v},(...args)=>{return prevYear(...args)});return prevYear_0})().val:(()=>{mid.dbgctx=__filename+\":253\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val>=(()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val+(()=>{const lastDay_0=__xsdv__(lastDay,v=>{lastDay=v},(...args)=>{return lastDay(...args)});return lastDay_0})().val?(()=>{const nextYear_0=__xsdv__(nextYear,v=>{nextYear=v},(...args)=>{return nextYear(...args)});return nextYear_0})().val:(()=>{mid.dbgctx=__filename+\":254\";const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val,month:(()=>{mid.dbgctx=__filename+\":255\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val<(()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val?(()=>{const prevMonth_0=__xsdv__(prevMonth,v=>{prevMonth=v},(...args)=>{return prevMonth(...args)});return prevMonth_0})().val:(()=>{mid.dbgctx=__filename+\":256\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val>=(()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val+(()=>{const lastDay_0=__xsdv__(lastDay,v=>{lastDay=v},(...args)=>{return lastDay(...args)});return lastDay_0})().val?(()=>{const nextMonth_0=__xsdv__(nextMonth,v=>{nextMonth=v},(...args)=>{return nextMonth(...args)});return nextMonth_0})().val:(()=>{mid.dbgctx=__filename+\":257\";const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val,day:(()=>{mid.dbgctx=__filename+\":258\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val<(()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val?(()=>{const lastPrevDay_0=__xsdv__(lastPrevDay,v=>{lastPrevDay=v},(...args)=>{return lastPrevDay(...args)});return lastPrevDay_0})().val-((()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val-(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val)+1:(()=>{mid.dbgctx=__filename+\":259\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val>=(()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val+(()=>{const lastDay_0=__xsdv__(lastDay,v=>{lastDay=v},(...args)=>{return lastDay(...args)});return lastDay_0})().val?(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val-((()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val+(()=>{const lastDay_0=__xsdv__(lastDay,v=>{lastDay=v},(...args)=>{return lastDay(...args)});return lastDay_0})().val)+1:(()=>{mid.dbgctx=__filename+\":260\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val-(()=>{const offset_0=__xsdv__(offset,v=>{offset=v},(...args)=>{return offset(...args)});return offset_0})().val+1,dayOfWeek:((()=>{mid.dbgctx=__filename+\":261\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val+(()=>{const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const firstDay_1=__xsdv__(cal_0.val.firstDay,v=>{cal_0.val.firstDay=v},(...args)=>{return cal_0.val.firstDay(...args)});return firstDay_1})().val)%7}),()=>{});return CALL_1})().val}}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+267).use(self).id(\"box\",__namespace).use(self).fillWidth(true).use(self).fillHeight(true).use(self).add((__pRslv__=>{const self=elementLookup(\"ListView\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListView\").objectLocation(__filename+\":\"+274).use(self).id(\"daysView\",__namespace).use(self).visible(high.binding([high.chainRef(root,[\"priv\",\"mode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":277\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0},__filename+\"[l. 277] priv.mode === 0\\r\")).use(self).position(\"free\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).model(high.binding([high.chainRef(root,[\"daysModel\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":283\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 283] daysModel\\r\")).use(self).cellWidth(high.binding([high.chainRef(root,[\"box\",\"bbox\",\"width\"],__rslv__)],alias0=>{return Math.floor((()=>{mid.dbgctx=__filename+\":285\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/7)},__filename+\"[l. 285] Math.floor(box.bbox.width / 7)\\r\")).use(self).cellHeight(high.binding([high.chainRef(root,[\"box\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":286\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/6},__filename+\"[l. 286] box.bbox.height / 6\\r\")).use(self).delegate(high.binding([high.chainRef(root,[\"cal\",\"dayDelegate\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":288\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 288] cal.dayDelegate\\r\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"ListView\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListView\").objectLocation(__filename+\":\"+292).use(self).id(\"monthPicker\",__namespace).use(self).visible(high.binding([high.chainRef(root,[\"priv\",\"mode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":295\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===1},__filename+\"[l. 295] priv.mode === 1\\r\")).use(self).position(\"free\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).model((__pRslv__=>{const self=elementLookup(\"ListModel\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListModel\").objectLocation(__filename+\":\"+301).use(self).data(high.binding([high.chainRef(root,[\"monthPicker\",\"visible\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":302\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]:[]},__filename+\"[l. 302] monthPicker.visible ?\\r\\n                    [\\\"Jan\\\", \\\"Feb\\\", \\\"Mar\\\",\\r\\n                     \\\"Apr\\\", \\\"May\\\", \\\"Jun\\\",\\r\\n                     \\\"Jul\\\", \\\"Aug\\\", \\\"Sep\\\",\\r\\n                     \\\"Oct\\\", \\\"Nov\\\", \\\"Dec\\\"] : []\\r\")).flushPending();return self})(__rslv__)).use(self).cellWidth(high.binding([high.chainRef(root,[\"box\",\"bbox\",\"width\"],__rslv__)],alias0=>{return Math.floor((()=>{mid.dbgctx=__filename+\":308\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/3)},__filename+\"[l. 308] Math.floor(box.bbox.width / 3)\\r\")).use(self).cellHeight(high.binding([high.chainRef(root,[\"box\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":309\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/4},__filename+\"[l. 309] box.bbox.height / 4\\r\")).use(self).delegate(()=>{return{create:function(__pRslv__){const __namespace=\"tmp.8852\";return function(){const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+311).use(self).flat(true).use(self).checked(high.binding([high.chainRef(root,[\"modelData\",\"index\"],__rslv__),high.chainRef(root,[\"cal\",\"date\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":313\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const ACCESS_1=__xsdv__(alias1_0.val[1],v=>{alias1_0.val[1]=v},(...args)=>{return alias1_0.val[1](...args)});return ACCESS_1})().val},__filename+\"[l. 313] modelData.index === cal.date[1]\\r\")).use(self).text(high.binding([high.chainRef(root,[\"modelData\",\"value\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":314\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 314] modelData.value\\r\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":318\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});return date_1})().val=[(()=>{const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[0],v=>{date_1.val[0]=v},(...args)=>{return date_1.val[0](...args)});return ACCESS_2})().val,(()=>{const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const index_1=__xsdv__(modelData_0.val.index,v=>{modelData_0.val.index=v},(...args)=>{return modelData_0.val.index(...args)});return index_1})().val,(()=>{const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[2],v=>{date_1.val[2]=v},(...args)=>{return date_1.val[2](...args)});return ACCESS_2})().val];(()=>{mid.dbgctx=__filename+\":319\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const mode_1=__xsdv__(priv_0.val.mode,v=>{priv_0.val.mode=v},(...args)=>{return priv_0.val.mode(...args)});return mode_1})().val=0;(()=>{mid.dbgctx=__filename+\":320\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self}}(__rslv__)}.create(__rslv__)}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"ListView\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListView\").objectLocation(__filename+\":\"+326).use(self).id(\"yearPicker\",__namespace).use(self).visible(high.binding([high.chainRef(root,[\"priv\",\"mode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":329\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===2},__filename+\"[l. 329] priv.mode === 2\\r\")).use(self).position(\"free\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).model((__pRslv__=>{const self=elementLookup(\"ListModel\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListModel\").objectLocation(__filename+\":\"+335).use(self).data(high.binding([high.chainRef(root,[\"sequence\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":336\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(1900,200),()=>{});return CALL_1})().val},__filename+\"[l. 336] sequence(1900, 200)\\r\")).flushPending();return self})(__rslv__)).use(self).cellWidth(high.binding([high.chainRef(root,[\"box\",\"bbox\",\"width\"],__rslv__)],alias0=>{return Math.floor((()=>{mid.dbgctx=__filename+\":339\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/4)},__filename+\"[l. 339] Math.floor(box.bbox.width / 4)\\r\")).use(self).cellHeight(high.binding([high.chainRef(root,[\"box\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":340\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/6},__filename+\"[l. 340] box.bbox.height / 6\\r\")).use(self).delegate(()=>{return{create:function(__pRslv__){const __namespace=\"tmp.9673\";return function(){const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+342).use(self).flat(true).use(self).checked(high.binding([high.chainRef(root,[\"modelData\",\"value\"],__rslv__),high.chainRef(root,[\"cal\",\"date\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":344\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const ACCESS_1=__xsdv__(alias1_0.val[0],v=>{alias1_0.val[0]=v},(...args)=>{return alias1_0.val[0](...args)});return ACCESS_1})().val},__filename+\"[l. 344] modelData.value === cal.date[0]\\r\")).use(self).text(high.binding([high.chainRef(root,[\"modelData\",\"value\"],__rslv__)],alias0=>{return\"\"+(()=>{mid.dbgctx=__filename+\":345\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 345] \\\"\\\" + modelData.value\\r\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":349\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});return date_1})().val=[(()=>{const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});return value_1})().val,(()=>{const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[1],v=>{date_1.val[1]=v},(...args)=>{return date_1.val[1](...args)});return ACCESS_2})().val,(()=>{const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[2],v=>{date_1.val[2]=v},(...args)=>{return date_1.val[2](...args)});return ACCESS_2})().val];(()=>{mid.dbgctx=__filename+\":350\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const mode_1=__xsdv__(priv_0.val.mode,v=>{priv_0.val.mode=v},(...args)=>{return priv_0.val.mode(...args)});return mode_1})().val=0;(()=>{mid.dbgctx=__filename+\":351\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self}}(__rslv__)}.create(__rslv__)}).use(self).onVisibleChanged(()=>{if((()=>{mid.dbgctx=__filename+\":357\";const visible_0=__xsdv__(__rslv__(\"visible\"),()=>{});return visible_0})().val){(()=>{const positionViewAt_0=__xsdv__(__rslv__(\"positionViewAt\"),()=>{});const CALL_1=__xsdv__(positionViewAt_0.val((()=>{mid.dbgctx=__filename+\":359\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});const ACCESS_2=__xsdv__(date_1.val[0],v=>{date_1.val[0]=v},(...args)=>{return date_1.val[0](...args)});return ACCESS_2})().val-1900),()=>{});return CALL_1})().val}}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"ScrollIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ScrollIndicator\").objectLocation(__filename+\":\"+364).use(self).visible(high.binding([high.chainRef(root,[\"yearPicker\",\"visible\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":365\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 365] yearPicker.visible\\r\")).use(self).target(high.binding([high.chainRef(root,[\"yearPicker\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":366\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 366] yearPicker\\r\")).use(self).size(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":367\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 367] theme.paddingSmall\\r\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/CheckBox.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.CheckBox={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+35).use(self).id(\"switch\",__namespace).use(self).property(\"checked\",false).use(self).canFocus(true).use(self).width(high.binding([high.chainRef(root,[\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":42\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 42] height\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":43\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 43] theme.itemHeightSmall\")).use(self).opacity(high.binding([high.chainRef(root,[\"enabled\"],__rslv__),high.chainRef(root,[\"ancestorsEnabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":44\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?1:0.6},__filename+\"[l. 44] enabled && ancestorsEnabled ? 1 : 0.6\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 46] theme.borderColor\")).use(self).borderWidth(1).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":48\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 48] theme.borderRadius\")).use(self).color(high.binding([high.chainRef(root,[\"pressed\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__),high.chainRef(root,[\"containsMouse\"],__rslv__),high.chainRef(root,[\"theme\",\"hoverBackgroundColor\"],__rslv__),high.chainRef(root,[\"theme\",\"secondaryBackgroundColor\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4)=>{return(()=>{mid.dbgctx=__filename+\":50\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{mid.dbgctx=__filename+\":51\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:(()=>{mid.dbgctx=__filename+\":52\";const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val},__filename+\"[l. 50] pressed ? theme.highlightBackgroundColor\\n                   : containsMouse ? theme.hoverBackgroundColor\\n                                   : theme.secondaryBackgroundColor\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":56\";const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val=!(()=>{const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val;(()=>{mid.dbgctx=__filename+\":57\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onKeyDown(ev=>{if((()=>{mid.dbgctx=__filename+\":62\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\" \"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowLeft\"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowRight\"){(()=>{mid.dbgctx=__filename+\":64\";const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val=!(()=>{const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val;(()=>{mid.dbgctx=__filename+\":65\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+69).use(self).visible(high.binding([high.chainRef(root,[\"switch\",\"checked\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":70\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 70] switch.checked\")).use(self).position(\"free\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).marginTop(1).use(self).marginLeft(1).use(self).marginRight(1).use(self).marginBottom(1).use(self).enabled(false).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":80\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 80] theme.primaryBackgroundColor\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":82\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 82] theme.borderColor\")).use(self).borderWidth(1).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":84\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 84] theme.borderRadius\")).use(self).layout(\"center\").use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+88).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":89\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 89] theme.primaryColor\")).use(self).text(\"[icon:core-done]\").flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+94).use(self).visible(high.binding([high.chainRef(root,[\"switch\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":94\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 94] switch.focus \")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/DarkTheme.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.DarkTheme={create:__pRslv__=>{const root=elementLookup(\"Theme\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Theme\").objectLocation(__filename+\":\"+33).use(self).primaryColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":34\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#e0e0e0\"),()=>{});return CALL_1})().val},__filename+\"[l. 34] colorName(\\\"#e0e0e0\\\")\")).use(self).primaryBackgroundColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":35\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#303030\"),()=>{});return CALL_1})().val},__filename+\"[l. 35] colorName(\\\"#303030\\\")\")).use(self).secondaryColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":37\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#a0a0a0\"),()=>{});return CALL_1})().val},__filename+\"[l. 37] colorName(\\\"#a0a0a0\\\")\")).use(self).secondaryBackgroundColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":38\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#404040\"),()=>{});return CALL_1})().val},__filename+\"[l. 38] colorName(\\\"#404040\\\")\")).use(self).highlightColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":40\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#ffffff\"),()=>{});return CALL_1})().val},__filename+\"[l. 40] colorName(\\\"#ffffff\\\")\")).use(self).highlightBackgroundColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":41\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#606068\"),()=>{});return CALL_1})().val},__filename+\"[l. 41] colorName(\\\"#606068\\\")\")).use(self).hoverBackgroundColor(high.binding([high.chainRef(root,[\"highlightBackgroundColor\",\"saturation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":42\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(0.2),()=>{});const brightness_2=__xsdv__(CALL_1.val.brightness,v=>{CALL_1.val.brightness=v},(...args)=>{return CALL_1.val.brightness(...args)});const CALL_3=__xsdv__(brightness_2.val(0.5),()=>{});return CALL_3})().val},__filename+\"[l. 42] highlightBackgroundColor.saturation(0.2).brightness(0.5)\")).use(self).disabledColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":44\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#707070\"),()=>{});return CALL_1})().val},__filename+\"[l. 44] colorName(\\\"#707070\\\")\")).use(self).contentBackgroundColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#101010\"),()=>{});return CALL_1})().val},__filename+\"[l. 46] colorName(\\\"#101010\\\")\")).use(self).contentAltBackgroundColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":47\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#404040\"),()=>{});return CALL_1})().val},__filename+\"[l. 47] colorName(\\\"#404040\\\")\")).use(self).borderColor(high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":49\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#808080\"),()=>{});return CALL_1})().val},__filename+\"[l. 49] colorName(\\\"#808080\\\")\")).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/DatePicker.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1315,mid,high)=>{const modules={mod1315:mod1315,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.DatePicker={create:__pRslv__=>{const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+35).use(self).id(\"dateButton\",__namespace).use(self).property(\"menuT\",()=>{return{create:function(__pRslv__){const __namespace=\"tmp.1636\";return function(){const root=elementLookup(\"Menu\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Menu\").objectLocation(__filename+\":\"+38).use(self).property(\"setDate\",date=>{(()=>{mid.dbgctx=__filename+\":41\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const date_1=__xsdv__(cal_0.val.date,v=>{cal_0.val.date=v},(...args)=>{return cal_0.val.date(...args)});return date_1})().val=(()=>{const date_0=__xsdv__(date,v=>{date=v},(...args)=>{return date(...args)});return date_0})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+44).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":45\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*7},__filename+\"[l. 45] theme.itemWidthSmall * 7\\r\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*7},__filename+\"[l. 46] theme.itemHeightMedium * 7\\r\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"contentBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":47\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 47] theme.contentBackgroundColor\\r\")).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":49\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+51).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":53\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 53] theme.itemHeightMedium\\r\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"secondaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":54\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 54] theme.secondaryBackgroundColor\\r\")).use(self).layout(\"row\").use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+57).use(self).labelProfile((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+58).use(self).property(\"bold\",true).flushPending();return self})(__rslv__)).use(self).fillHeight(true).use(self).flat(true).use(self).text(high.binding([high.chainRef(root,[\"cal\",\"date\"],__rslv__)],alias0=>{return[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"][(()=>{mid.dbgctx=__filename+\":63\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const ACCESS_1=__xsdv__(alias0_0.val[1],v=>{alias0_0.val[1]=v},(...args)=>{return alias0_0.val[1](...args)});return ACCESS_1})().val]},__filename+\"[l. 61] [\\\"Jan\\\", \\\"Feb\\\", \\\"Mar\\\", \\\"Apr\\\",\\r\\n                           \\\"May\\\", \\\"Jun\\\", \\\"Jul\\\", \\\"Aug\\\",\\r\\n                           \\\"Sep\\\", \\\"Oct\\\", \\\"Nov\\\", \\\"Dec\\\"][cal.date[1]]\\r\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":67\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const pickMonth_1=__xsdv__(cal_0.val.pickMonth,v=>{cal_0.val.pickMonth=v},(...args)=>{return cal_0.val.pickMonth(...args)});const CALL_2=__xsdv__(pickMonth_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":68\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+72).use(self).labelProfile((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+73).use(self).property(\"bold\",true).flushPending();return self})(__rslv__)).use(self).fillHeight(true).use(self).flat(true).use(self).text(high.binding([high.chainRef(root,[\"cal\",\"date\"],__rslv__)],alias0=>{return\"\"+(()=>{mid.dbgctx=__filename+\":76\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const ACCESS_1=__xsdv__(alias0_0.val[0],v=>{alias0_0.val[0]=v},(...args)=>{return alias0_0.val[0](...args)});return ACCESS_1})().val},__filename+\"[l. 76] \\\"\\\" + cal.date[0]\\r\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":80\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const pickYear_1=__xsdv__(cal_0.val.pickYear,v=>{cal_0.val.pickYear=v},(...args)=>{return cal_0.val.pickYear(...args)});const CALL_2=__xsdv__(pickYear_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":81\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+85).use(self).fillWidth(true).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+87).use(self).icon(\"core-calendar\").use(self).fillHeight(true).use(self).flat(true).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":93\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const toToday_1=__xsdv__(cal_0.val.toToday,v=>{cal_0.val.toToday=v},(...args)=>{return cal_0.val.toToday(...args)});const CALL_2=__xsdv__(toToday_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":94\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+98).use(self).icon(\"core-arrow_up\").use(self).fillHeight(true).use(self).flat(true).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":104\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const toPreviousMonth_1=__xsdv__(cal_0.val.toPreviousMonth,v=>{cal_0.val.toPreviousMonth=v},(...args)=>{return cal_0.val.toPreviousMonth(...args)});const CALL_2=__xsdv__(toPreviousMonth_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":105\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+109).use(self).icon(\"core-arrow_down\").use(self).fillHeight(true).use(self).flat(true).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":115\";const cal_0=__xsdv__(__rslv__(\"cal\"),()=>{});const toNextMonth_1=__xsdv__(cal_0.val.toNextMonth,v=>{cal_0.val.toNextMonth=v},(...args)=>{return cal_0.val.toNextMonth(...args)});const CALL_2=__xsdv__(toNextMonth_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":116\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Calendar\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Calendar\").objectLocation(__filename+\":\"+121).use(self).id(\"cal\",__namespace).use(self).property(\"isToday\",(year,month,day)=>{const now=new Date;return(()=>{mid.dbgctx=__filename+\":127\";const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getFullYear_1=__xsdv__(now_0.val.getFullYear,v=>{now_0.val.getFullYear=v},(...args)=>{return now_0.val.getFullYear(...args)});const CALL_2=__xsdv__(getFullYear_1.val(),()=>{});return CALL_2})().val===(()=>{const year_0=__xsdv__(year,v=>{year=v},(...args)=>{return year(...args)});return year_0})().val&&(()=>{mid.dbgctx=__filename+\":128\";const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getMonth_1=__xsdv__(now_0.val.getMonth,v=>{now_0.val.getMonth=v},(...args)=>{return now_0.val.getMonth(...args)});const CALL_2=__xsdv__(getMonth_1.val(),()=>{});return CALL_2})().val===(()=>{const month_0=__xsdv__(month,v=>{month=v},(...args)=>{return month(...args)});return month_0})().val&&(()=>{mid.dbgctx=__filename+\":129\";const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getDate_1=__xsdv__(now_0.val.getDate,v=>{now_0.val.getDate=v},(...args)=>{return now_0.val.getDate(...args)});const CALL_2=__xsdv__(getDate_1.val(),()=>{});return CALL_2})().val===(()=>{const day_0=__xsdv__(day,v=>{day=v},(...args)=>{return day(...args)});return day_0})().val}).use(self).fillWidth(true).use(self).fillHeight(true).use(self).dayDelegate(()=>{return{create:function(__pRslv__){const __namespace=\"tmp.4605\";return function(){const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+135).use(self).id(\"dayButton\",__namespace).use(self).labelProfile((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+138).use(self).property(\"horizontalAlignment\",\"right\").use(self).property(\"fontSize\",high.binding([high.chainRef(root,[\"theme\",\"fontSizeSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":140\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 140] theme.fontSizeSmall\\r\")).use(self).property(\"bold\",high.binding([high.chainRef(root,[\"dayButton\",\"modelData\",\"value\",\"year\"],__rslv__),high.chainRef(root,[\"dayButton\",\"modelData\",\"value\",\"month\"],__rslv__),high.chainRef(root,[\"dayButton\",\"modelData\",\"value\",\"day\"],__rslv__),high.chainRef(root,[\"cal\",\"isToday\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});const CALL_1=__xsdv__(alias3_0.val((()=>{mid.dbgctx=__filename+\":141\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val,(()=>{mid.dbgctx=__filename+\":142\";const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val,(()=>{mid.dbgctx=__filename+\":143\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 141] cal.isToday(dayButton.modelData.value.year,\\r\\n                                                   dayButton.modelData.value.month,\\r\\n                                                   dayButton.modelData.value.day)\\r\")).flushPending();return self})(__rslv__)).use(self).visible(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"day\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":146\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==0},__filename+\"[l. 146] modelData.value.day !== 0\\r\")).use(self).opacity(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"month\"],__rslv__),high.chainRef(root,[\"cal\",\"date\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":147\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const ACCESS_1=__xsdv__(alias1_0.val[1],v=>{alias1_0.val[1]=v},(...args)=>{return alias1_0.val[1](...args)});return ACCESS_1})().val?1:0.4},__filename+\"[l. 147] modelData.value.month === cal.date[1] ? 1.0 : 0.4\\r\")).use(self).flat(true).use(self).text(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"day\"],__rslv__)],alias0=>{return\"\"+(()=>{mid.dbgctx=__filename+\":150\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 150] \\\"\\\" + modelData.value.day\\r\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":154\";const dateButton_0=__xsdv__(__rslv__(\"dateButton\"),()=>{});const date_1=__xsdv__(dateButton_0.val.date,v=>{dateButton_0.val.date=v},(...args)=>{return dateButton_0.val.date(...args)});return date_1})().val=[(()=>{const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const year_2=__xsdv__(value_1.val.year,v=>{value_1.val.year=v},(...args)=>{return value_1.val.year(...args)});return year_2})().val,(()=>{mid.dbgctx=__filename+\":155\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const month_2=__xsdv__(value_1.val.month,v=>{value_1.val.month=v},(...args)=>{return value_1.val.month(...args)});return month_2})().val,(()=>{mid.dbgctx=__filename+\":156\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const day_2=__xsdv__(value_1.val.day,v=>{value_1.val.day=v},(...args)=>{return value_1.val.day(...args)});return day_2})().val];(()=>{mid.dbgctx=__filename+\":157\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});const parent_1=__xsdv__(thisMenu_0.val.parent,v=>{thisMenu_0.val.parent=v},(...args)=>{return thisMenu_0.val.parent(...args)});return parent_1})().val=null;(()=>{mid.dbgctx=__filename+\":158\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return self}}(__rslv__)}.create(__rslv__)}).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return self}}(__rslv__)}.create(__rslv__)}).use(self).property(\"date\",(()=>{const d=new Date;return[(()=>{mid.dbgctx=__filename+\":168\";const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getFullYear_1=__xsdv__(d_0.val.getFullYear,v=>{d_0.val.getFullYear=v},(...args)=>{return d_0.val.getFullYear(...args)});const CALL_2=__xsdv__(getFullYear_1.val(),()=>{});return CALL_2})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getMonth_1=__xsdv__(d_0.val.getMonth,v=>{d_0.val.getMonth=v},(...args)=>{return d_0.val.getMonth(...args)});const CALL_2=__xsdv__(getMonth_1.val(),()=>{});return CALL_2})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getDate_1=__xsdv__(d_0.val.getDate,v=>{d_0.val.getDate=v},(...args)=>{return d_0.val.getDate(...args)});const CALL_2=__xsdv__(getDate_1.val(),()=>{});return CALL_2})().val]})()).use(self).property(\"formatDate\",(y,m,d)=>{const n=new Date((()=>{mid.dbgctx=__filename+\":173\";const y_0=__xsdv__(y,v=>{y=v},(...args)=>{return y(...args)});return y_0})().val,(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});return d_0})().val);return(()=>{mid.dbgctx=__filename+\":174\";const n_0=__xsdv__(n,v=>{n=v},(...args)=>{return n(...args)});const toLocaleDateString_1=__xsdv__(n_0.val.toLocaleDateString,v=>{n_0.val.toLocaleDateString=v},(...args)=>{return n_0.val.toLocaleDateString(...args)});const CALL_2=__xsdv__(toLocaleDateString_1.val(),()=>{});return CALL_2})().val}).use(self).icon(\"core-calendar\").use(self).text(high.binding([high.chainRef(root,[\"date\"],__rslv__),high.chainRef(root,[\"formatDate\"],__rslv__)],(alias0,alias1)=>{return(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const CALL_1=__xsdv__(alias1_0.val(...(()=>{mid.dbgctx=__filename+\":178\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 178] formatDate(...date)\\r\")).use(self).onClick(ev=>{const m=(()=>{mid.dbgctx=__filename+\":182\";const menuT_0=__xsdv__(__rslv__(\"menuT\"),()=>{});const CALL_1=__xsdv__(menuT_0.val(),()=>{});return CALL_1})().val;(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});const setDate_1=__xsdv__(m_0.val.setDate,v=>{m_0.val.setDate=v},(...args)=>{return m_0.val.setDate(...args)});const CALL_2=__xsdv__(setDate_1.val((()=>{mid.dbgctx=__filename+\":183\";const date_0=__xsdv__(__rslv__(\"date\"),()=>{});return date_0})().val),()=>{});return CALL_2})().val;(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});const popup_1=__xsdv__(m_0.val.popup,v=>{m_0.val.popup=v},(...args)=>{return m_0.val.popup(...args)});const CALL_2=__xsdv__(popup_1.val((()=>{mid.dbgctx=__filename+\":184\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":185\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Dialog.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Dialog={create:__pRslv__=>{const root=elementLookup(\"Overlay\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Overlay\").objectLocation(__filename+\":\"+38).use(self).id(\"dialog\",__namespace).use(self).defaultContainer(\"contentArea\").use(self).property(\"buttonsAdd\",function(child){self.find(\"buttonBox\",__namespace).add(child);return self}).use(self).property(\"shortcutReceiver\",(()=>{mid.dbgctx=__filename+\":44\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val).use(self).property(\"title\",\"\").use(self).property(\"close\",()=>{(()=>{mid.dbgctx=__filename+\":57\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});return parent_0})().val=null}).use(self).dim(true).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+62).use(self).id(\"win\",__namespace).use(self).property(\"offset\",1).use(self).position(\"free\").use(self).x(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"bbox\",\"width\"],__rslv__)],(alias0,alias1)=>{return((()=>{mid.dbgctx=__filename+\":68\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)/2},__filename+\"[l. 68] (parent.bbox.width - bbox.width) / 2\")).use(self).y(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"height\"],__rslv__),high.chainRef(root,[\"bbox\",\"height\"],__rslv__),high.chainRef(root,[\"offset\"],__rslv__),high.chainRef(root,[\"theme\",\"itemHeightLarge\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return((()=>{mid.dbgctx=__filename+\":69\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)/2-(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val*(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val},__filename+\"[l. 69] (parent.bbox.height - bbox.height) / 2 - (offset * theme.itemHeightLarge)\")).use(self).offsetTransition((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+71).use(self).duration(500).use(self).easing(\"InOutQuad\").flushPending();return self})(__rslv__)).use(self).borderWidth(2).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":74\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 74] theme.borderColor\")).use(self).borderRadius(3).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":77\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 77] theme.primaryBackgroundColor\")).use(self).opacity(high.binding([high.chainRef(root,[\"titlebar\",\"pressed\"],__rslv__),high.chainRef(root,[\"offset\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":78\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?0.4:1*(1-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)},__filename+\"[l. 78] titlebar.pressed ? 0.4 : 1 * (1.0 - offset)\")).use(self).onInitialization(()=>{(()=>{mid.dbgctx=__filename+\":82\";const offset_0=__xsdv__(__rslv__(\"offset\"),()=>{});return offset_0})().val=0}).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":87\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+91).use(self).id(\"titlebar\",__namespace).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":95\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 95] theme.itemHeightMedium\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":96\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 96] theme.highlightBackgroundColor\")).use(self).layout(\"center\").use(self).onMouseDown(ev=>{(()=>{mid.dbgctx=__filename+\":101\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onMouseUp(ev=>{(()=>{mid.dbgctx=__filename+\":106\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+109).use(self).position(\"free\").use(self).y(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"height\"],__rslv__),high.chainRef(root,[\"bbox\",\"height\"],__rslv__)],(alias0,alias1)=>{return((()=>{mid.dbgctx=__filename+\":111\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)/2},__filename+\"[l. 111] (parent.bbox.height - bbox.height) / 2\")).use(self).marginLeft(8).use(self).marginRight(8).use(self).fillWidth(true).use(self).bold(true).use(self).overflowBehavior(\"ellipsis\").use(self).literal(true).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":118\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 118] theme.highlightColor\")).use(self).text(high.binding([high.chainRef(root,[\"dialog\",\"title\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":119\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 119] dialog.title\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+125).use(self).id(\"contentArea\",__namespace).use(self).fillWidth(true).use(self).fillHeight(true).use(self).marginTop(high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":130\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 130] theme.paddingLarge\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":131\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 131] theme.paddingLarge\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":132\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 132] theme.paddingLarge\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":133\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 133] theme.paddingLarge\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":134\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 134] theme.primaryBackgroundColor\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+138).use(self).origin(\"bottom-left\").use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":141\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 141] theme.itemHeightMedium + theme.paddingSmall\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"secondaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":142\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 142] theme.secondaryBackgroundColor\")).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+144).use(self).id(\"buttonBox\",__namespace).use(self).fillWidth(true).use(self).fillHeight(true).use(self).marginTop(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":149\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/2},__filename+\"[l. 149] theme.paddingSmall / 2\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":150\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 150] theme.paddingSmall\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":151\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 151] theme.paddingSmall\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":152\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/2},__filename+\"[l. 152] theme.paddingSmall / 2\")).use(self).layout(\"center-row\").use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+155).use(self).fillWidth(true).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Document.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Document={create:__pRslv__=>{const root=elementLookup(\"mid.Document\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"mid.Document\").objectLocation(__filename+\":\"+57).use(self).property(\"documentRoot\",(()=>{mid.dbgctx=__filename+\":60\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val).use(self).property(\"shortcutReceiver\",(()=>{mid.dbgctx=__filename+\":61\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val).use(self).property(\"theme\",(__pRslv__=>{const self=elementLookup(\"Theme\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Theme\").objectLocation(__filename+\":\"+63).flushPending();return self})(__rslv__)).use(self).property(\"showMessageDialog\",(title,icon,message,buttons)=>{const dlg=(()=>{mid.dbgctx=__filename+\":86\";const _messageDialogT_0=__xsdv__(__rslv__(\"_messageDialogT\"),()=>{});const CALL_1=__xsdv__(_messageDialogT_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":87\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const title_1=__xsdv__(dlg_0.val.title,v=>{dlg_0.val.title=v},(...args)=>{return dlg_0.val.title(...args)});return title_1})().val=(()=>{const title_0=__xsdv__(title,v=>{title=v},(...args)=>{return title(...args)});return title_0})().val;(()=>{mid.dbgctx=__filename+\":88\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const icon_1=__xsdv__(dlg_0.val.icon,v=>{dlg_0.val.icon=v},(...args)=>{return dlg_0.val.icon(...args)});return icon_1})().val=(()=>{const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val;(()=>{mid.dbgctx=__filename+\":89\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const message_1=__xsdv__(dlg_0.val.message,v=>{dlg_0.val.message=v},(...args)=>{return dlg_0.val.message(...args)});return message_1})().val=(()=>{const message_0=__xsdv__(message,v=>{message=v},(...args)=>{return message(...args)});return message_0})().val;(()=>{mid.dbgctx=__filename+\":90\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const buttons_1=__xsdv__(dlg_0.val.buttons,v=>{dlg_0.val.buttons=v},(...args)=>{return dlg_0.val.buttons(...args)});return buttons_1})().val=(()=>{const buttons_0=__xsdv__(buttons,v=>{buttons=v},(...args)=>{return buttons(...args)});return buttons_0})().val;(()=>{mid.dbgctx=__filename+\":91\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const show_1=__xsdv__(dlg_0.val.show,v=>{dlg_0.val.show=v},(...args)=>{return dlg_0.val.show(...args)});const CALL_2=__xsdv__(show_1.val(),()=>{});return CALL_2})().val;return(()=>{mid.dbgctx=__filename+\":92\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});return dlg_0})().val}).use(self).property(\"showInfoDialog\",(title,message,callback)=>{return(()=>{mid.dbgctx=__filename+\":111\";const showMessageDialog_0=__xsdv__(__rslv__(\"showMessageDialog\"),()=>{});const CALL_1=__xsdv__(showMessageDialog_0.val((()=>{mid.dbgctx=__filename+\":109\";const title_0=__xsdv__(title,v=>{title=v},(...args)=>{return title(...args)});return title_0})().val,\"core-info\",(()=>{const message_0=__xsdv__(message,v=>{message=v},(...args)=>{return message(...args)});return message_0})().val,[{label:\"Ok\",callback:(()=>{mid.dbgctx=__filename+\":110\";const callback_0=__xsdv__(callback,v=>{callback=v},(...args)=>{return callback(...args)});return callback_0})().val}]),()=>{});return CALL_1})().val}).use(self).property(\"showWarningDialog\",(title,message,callback)=>{return(()=>{mid.dbgctx=__filename+\":130\";const showMessageDialog_0=__xsdv__(__rslv__(\"showMessageDialog\"),()=>{});const CALL_1=__xsdv__(showMessageDialog_0.val((()=>{mid.dbgctx=__filename+\":128\";const title_0=__xsdv__(title,v=>{title=v},(...args)=>{return title(...args)});return title_0})().val,\"core-warning\",(()=>{const message_0=__xsdv__(message,v=>{message=v},(...args)=>{return message(...args)});return message_0})().val,[{label:\"Ok\",callback:(()=>{mid.dbgctx=__filename+\":129\";const callback_0=__xsdv__(callback,v=>{callback=v},(...args)=>{return callback(...args)});return callback_0})().val}]),()=>{});return CALL_1})().val}).use(self).property(\"showErrorDialog\",(title,message,callback)=>{return(()=>{mid.dbgctx=__filename+\":149\";const showMessageDialog_0=__xsdv__(__rslv__(\"showMessageDialog\"),()=>{});const CALL_1=__xsdv__(showMessageDialog_0.val((()=>{mid.dbgctx=__filename+\":147\";const title_0=__xsdv__(title,v=>{title=v},(...args)=>{return title(...args)});return title_0})().val,\"core-notification\",(()=>{const message_0=__xsdv__(message,v=>{message=v},(...args)=>{return message(...args)});return message_0})().val,[{label:\"Ok\",callback:(()=>{mid.dbgctx=__filename+\":148\";const callback_0=__xsdv__(callback,v=>{callback=v},(...args)=>{return callback(...args)});return callback_0})().val}]),()=>{});return CALL_1})().val}).use(self).property(\"showQuestionDialog\",(title,message,yesCallback,noCallback)=>{return(()=>{mid.dbgctx=__filename+\":170\";const showMessageDialog_0=__xsdv__(__rslv__(\"showMessageDialog\"),()=>{});const CALL_1=__xsdv__(showMessageDialog_0.val((()=>{mid.dbgctx=__filename+\":167\";const title_0=__xsdv__(title,v=>{title=v},(...args)=>{return title(...args)});return title_0})().val,\"core-question\",(()=>{const message_0=__xsdv__(message,v=>{message=v},(...args)=>{return message(...args)});return message_0})().val,[{label:\"Yes\",callback:(()=>{mid.dbgctx=__filename+\":168\";const yesCallback_0=__xsdv__(yesCallback,v=>{yesCallback=v},(...args)=>{return yesCallback(...args)});return yesCallback_0})().val},{label:\"No\",callback:(()=>{mid.dbgctx=__filename+\":169\";const noCallback_0=__xsdv__(noCallback,v=>{noCallback=v},(...args)=>{return noCallback(...args)});return noCallback_0})().val}]),()=>{});return CALL_1})().val}).use(self).property(\"showProgressDialog\",(title,message)=>{const dlg=(()=>{mid.dbgctx=__filename+\":190\";const _progressDialogT_0=__xsdv__(__rslv__(\"_progressDialogT\"),()=>{});const CALL_1=__xsdv__(_progressDialogT_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":191\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const title_1=__xsdv__(dlg_0.val.title,v=>{dlg_0.val.title=v},(...args)=>{return dlg_0.val.title(...args)});return title_1})().val=(()=>{const title_0=__xsdv__(title,v=>{title=v},(...args)=>{return title(...args)});return title_0})().val;(()=>{mid.dbgctx=__filename+\":192\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const message_1=__xsdv__(dlg_0.val.message,v=>{dlg_0.val.message=v},(...args)=>{return dlg_0.val.message(...args)});return message_1})().val=(()=>{const message_0=__xsdv__(message,v=>{message=v},(...args)=>{return message(...args)});return message_0})().val;(()=>{mid.dbgctx=__filename+\":193\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});const show_1=__xsdv__(dlg_0.val.show,v=>{dlg_0.val.show=v},(...args)=>{return dlg_0.val.show(...args)});const CALL_2=__xsdv__(show_1.val(),()=>{});return CALL_2})().val;return(()=>{mid.dbgctx=__filename+\":194\";const dlg_0=__xsdv__(dlg,v=>{dlg=v},(...args)=>{return dlg(...args)});return dlg_0})().val}).use(self).property(\"_messageDialogT\",()=>{return{create:function(__pRslv__){const __namespace=\"tmp.7392\";return function(){const root=elementLookup(\"Dialog\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Dialog\").objectLocation(__filename+\":\"+197).use(self).id(\"dialog\",__namespace).use(self).property(\"buttons\",[]).use(self).property(\"icon\",\"\").use(self).property(\"message\",\"\").use(self).call(\"buttonsAdd\",(__pRslv__=>{const self=elementLookup(\"Repeater\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Repeater\").objectLocation(__filename+\":\"+205).use(self).id(\"buttonsRepeater\",__namespace).use(self).model((__pRslv__=>{const self=elementLookup(\"ListModel\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListModel\").objectLocation(__filename+\":\"+208).use(self).data(high.binding([high.chainRef(root,[\"dialog\",\"buttons\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":208\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 208] dialog.buttons \")).flushPending();return self})(__rslv__)).use(self).delegate(()=>{return{create:function(__pRslv__){const __namespace=\"tmp.7658\";return function(){const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+210).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":211\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 211] theme.paddingSmall\")).use(self).icon(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"icon\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":212\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val||\"\"},__filename+\"[l. 212] modelData.value.icon || \\\"\\\"\")).use(self).text(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"label\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":213\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 213] modelData.value.label\")).use(self).onClick(()=>{const cb=(()=>{mid.dbgctx=__filename+\":216\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const callback_2=__xsdv__(value_1.val.callback,v=>{value_1.val.callback=v},(...args)=>{return value_1.val.callback(...args)});return callback_2})().val;(()=>{mid.dbgctx=__filename+\":217\";const dialog_0=__xsdv__(__rslv__(\"dialog\"),()=>{});const parent_1=__xsdv__(dialog_0.val.parent,v=>{dialog_0.val.parent=v},(...args)=>{return dialog_0.val.parent(...args)});return parent_1})().val=null;if((()=>{mid.dbgctx=__filename+\":218\";const cb_0=__xsdv__(cb,v=>{cb=v},(...args)=>{return cb(...args)});return cb_0})().val){(()=>{mid.dbgctx=__filename+\":220\";const cb_0=__xsdv__(cb,v=>{cb=v},(...args)=>{return cb(...args)});const CALL_1=__xsdv__(cb_0.val(),()=>{});return CALL_1})().val}}).use(self).crossConnect(()=>{return __rslv__(\"dialog\")},\"keyDown\")(ev=>{if((()=>{mid.dbgctx=__filename+\":226\";const buttonsRepeater_0=__xsdv__(__rslv__(\"buttonsRepeater\"),()=>{});const model_1=__xsdv__(buttonsRepeater_0.val.model,v=>{buttonsRepeater_0.val.model=v},(...args)=>{return buttonsRepeater_0.val.model(...args)});const size_2=__xsdv__(model_1.val.size,v=>{model_1.val.size=v},(...args)=>{return model_1.val.size(...args)});return size_2})().val===1&&((()=>{mid.dbgctx=__filename+\":227\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Escape\")){(()=>{const click_0=__xsdv__(__rslv__(\"click\"),()=>{});const CALL_1=__xsdv__(click_0.val((()=>{mid.dbgctx=__filename+\":229\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_1})().val}else if((()=>{mid.dbgctx=__filename+\":231\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const index_1=__xsdv__(modelData_0.val.index,v=>{modelData_0.val.index=v},(...args)=>{return modelData_0.val.index(...args)});return index_1})().val===0&&(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"){(()=>{const click_0=__xsdv__(__rslv__(\"click\"),()=>{});const CALL_1=__xsdv__(click_0.val((()=>{mid.dbgctx=__filename+\":233\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_1})().val}else if((()=>{mid.dbgctx=__filename+\":235\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const index_1=__xsdv__(modelData_0.val.index,v=>{modelData_0.val.index=v},(...args)=>{return modelData_0.val.index(...args)});return index_1})().val===1&&(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Escape\"){(()=>{const click_0=__xsdv__(__rslv__(\"click\"),()=>{});const CALL_1=__xsdv__(click_0.val((()=>{mid.dbgctx=__filename+\":237\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_1})().val}}).flushPending();return self}}(__rslv__)}.create(__rslv__)}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+243).use(self).layout(\"row\").use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+246).use(self).visible(high.binding([high.chainRef(root,[\"dialog\",\"icon\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":247\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"},__filename+\"[l. 247] dialog.icon !== \\\"\\\"\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":248\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 248] theme.paddingLarge\")).use(self).fontSize(high.binding([high.chainRef(root,[\"theme\",\"itemHeightLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":249\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 249] theme.itemHeightLarge\")).use(self).text(high.binding([high.chainRef(root,[\"visible\"],__rslv__),high.chainRef(root,[\"dialog\",\"icon\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":250\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?\"[icon:\"+(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val+\"]\":\"\"},__filename+\"[l. 250] visible ? \\\"[icon:\\\" + dialog.icon + \\\"]\\\" : \\\"\\\"\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+253).use(self).fillWidth(true).use(self).overflowBehavior(\"wrap\").use(self).text(high.binding([high.chainRef(root,[\"dialog\",\"message\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":256\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 256] dialog.message\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return self}}(__rslv__)}.create(__rslv__)}).use(self).property(\"_progressDialogT\",()=>{return{create:function(__pRslv__){const __namespace=\"tmp.9177\";return function(){const root=elementLookup(\"Dialog\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Dialog\").objectLocation(__filename+\":\"+261).use(self).id(\"dialog\",__namespace).use(self).property(\"message\",\"\").use(self).property(\"progress\",0).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+267).use(self).width(400).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+270).use(self).fillWidth(true).use(self).overflowBehavior(\"wrap\").use(self).text(high.binding([high.chainRef(root,[\"message\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":273\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 273] message\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+276).use(self).marginTop(high.binding([high.chainRef(root,[\"theme\",\"paddingMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":277\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 277] theme.paddingMedium\")).use(self).marginRight(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"dialog\",\"progress\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":278\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*(1-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)},__filename+\"[l. 278] parent.bbox.width * (1.0 - dialog.progress)\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"theme\",\"paddingMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":279\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 279] theme.paddingMedium\")).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":281\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 281] theme.paddingSmall\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":282\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 282] theme.primaryColor\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return self}}(__rslv__)}.create(__rslv__)}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/FocusIndicator.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.FocusIndicator={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+39).use(self).id(\"indicator\",__namespace).use(self).position(\"free\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).enabled(false).use(self).color(\"transparent\").use(self).borderWidth(0).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":48\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 48] theme.borderColor\\r\")).use(self).borderStyle(\"dotted\").use(self).crossConnect(()=>{return __rslv__(\"documentRoot\")},\"keyDown\")(ev=>{if((()=>{mid.dbgctx=__filename+\":53\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Tab\"){(()=>{mid.dbgctx=__filename+\":55\";const borderWidth_0=__xsdv__(__rslv__(\"borderWidth\"),()=>{});return borderWidth_0})().val=3;(()=>{mid.dbgctx=__filename+\":56\";const timer_0=__xsdv__(__rslv__(\"timer\"),()=>{});const start_1=__xsdv__(timer_0.val.start,v=>{timer_0.val.start=v},(...args)=>{return timer_0.val.start(...args)});const CALL_2=__xsdv__(start_1.val(),()=>{});return CALL_2})().val}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Timer\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Timer\").objectLocation(__filename+\":\"+60).use(self).id(\"timer\",__namespace).use(self).interval(1000).use(self).repeat(false).use(self).onTimeout(()=>{(()=>{mid.dbgctx=__filename+\":68\";const indicator_0=__xsdv__(__rslv__(\"indicator\"),()=>{});const borderWidth_1=__xsdv__(indicator_0.val.borderWidth,v=>{indicator_0.val.borderWidth=v},(...args)=>{return indicator_0.val.borderWidth(...args)});return borderWidth_1})().val=0}).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/FSIcon.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1293,mid,high)=>{const modules={mod1293:mod1293,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.FSIcon={create:__pRslv__=>{const root=elementLookup(\"Label\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+25).use(self).property(\"mimeType\",\"application/octet-stream\").use(self).text(high.binding([high.chainRef(root,[\"mimeType\"],__rslv__)],alias0=>{return(()=>{let icon=\"core-file-empty\";switch((()=>{mid.dbgctx=__filename+\":31\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val){case\"application/x-folder\":return\"[icon:core-folder]\";break;case\"application/java-archive\":case\"application/x-gzip\":case\"application/zip\":(()=>{mid.dbgctx=__filename+\":39\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val=\"core-file-zip\";break;case\"application/pdf\":(()=>{mid.dbgctx=__filename+\":42\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val=\"core-file-pdf\";break;case\"application/vnd.oasis.opendocument.text\":(()=>{mid.dbgctx=__filename+\":45\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val=\"core-file-openoffice\";break;case\"audio/flac\":case\"audio/mp3\":case\"audio/ogg\":(()=>{mid.dbgctx=__filename+\":50\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val=\"core-file-music\";break;case\"image/gif\":case\"image/jpeg\":case\"image/png\":case\"image/svg+xml\":(()=>{mid.dbgctx=__filename+\":56\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val=\"core-file-image\";break;case\"text/plain\":case\"text/rtf\":(()=>{mid.dbgctx=__filename+\":60\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val=\"core-file-text\";break;case\"video/mp4\":case\"video/mpeg\":case\"video/webm\":case\"video/x-flv\":case\"video/x-msvideo\":(()=>{mid.dbgctx=__filename+\":67\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val=\"core-file-play\";break;}return\"[icon:\"+(()=>{mid.dbgctx=__filename+\":70\";const icon_0=__xsdv__(icon,v=>{icon=v},(...args)=>{return icon(...args)});return icon_0})().val+\"]\"})()},__filename+\"[l. 28] (() =>\\n    {\\n        let icon = \\\"core-file-empty\\\";\\n        switch (mimeType)\\n        {\\n        case \\\"application/x-folder\\\":\\n            return \\\"[icon:core-folder]\\\";\\n            break;\\n        case \\\"application/java-archive\\\":\\n        case \\\"application/x-gzip\\\":\\n        case \\\"application/zip\\\":\\n            icon = \\\"core-file-zip\\\";\\n            break;\\n        case \\\"application/pdf\\\":\\n            icon = \\\"core-file-pdf\\\";\\n            break;\\n        case \\\"application/vnd.oasis.opendocument.text\\\":\\n            icon = \\\"core-file-openoffice\\\";\\n            break;\\n        case \\\"audio/flac\\\":\\n        case \\\"audio/mp3\\\":\\n        case \\\"audio/ogg\\\":\\n            icon = \\\"core-file-music\\\";\\n            break;\\n        case \\\"image/gif\\\":\\n        case \\\"image/jpeg\\\":\\n        case \\\"image/png\\\":\\n        case \\\"image/svg+xml\\\":\\n            icon = \\\"core-file-image\\\";\\n            break;\\n        case \\\"text/plain\\\":\\n        case \\\"text/rtf\\\":\\n            icon = \\\"core-file-text\\\";\\n            break;\\n        case \\\"video/mp4\\\":\\n        case \\\"video/mpeg\\\":\\n        case \\\"video/webm\\\":\\n        case \\\"video/x-flv\\\":\\n        case \\\"video/x-msvideo\\\":\\n            icon = \\\"core-file-play\\\";\\n            break;\\n        }\\n        return \\\"[icon:\\\" + icon + \\\"]\\\";\\n    })()\")).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/FSTreeNode.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.FSTreeNode={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+32).use(self).id(\"node\",__namespace).use(self).property(\"target\",null).use(self).property(\"fs\",null).use(self).property(\"name\",\"\").use(self).property(\"path\",\"\").use(self).property(\"collapsed\",true).use(self).property(\"indentation\",0).use(self).property(\"targetPath\",high.binding([high.chainRef(root,[\"target\"],__rslv__),high.chainRef(root,[\"target\",\"path\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":44\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:\"\"},__filename+\"[l. 44] target ? target.path : \\\"\\\"\")).use(self).fillWidth(true).use(self).onTargetPathChanged(()=>{if((()=>{mid.dbgctx=__filename+\":50\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});return target_0})().val&&(()=>{mid.dbgctx=__filename+\":51\";const path_0=__xsdv__(__rslv__(\"path\"),()=>{});return path_0})().val!==\"\"&&(()=>{mid.dbgctx=__filename+\":52\";const targetPath_0=__xsdv__(__rslv__(\"targetPath\"),()=>{});const length_1=__xsdv__(targetPath_0.val.length,v=>{targetPath_0.val.length=v},(...args)=>{return targetPath_0.val.length(...args)});return length_1})().val>(()=>{const path_0=__xsdv__(__rslv__(\"path\"),()=>{});const length_1=__xsdv__(path_0.val.length,v=>{path_0.val.length=v},(...args)=>{return path_0.val.length(...args)});return length_1})().val&&(()=>{const targetPath_0=__xsdv__(__rslv__(\"targetPath\"),()=>{});const startsWith_1=__xsdv__(targetPath_0.val.startsWith,v=>{targetPath_0.val.startsWith=v},(...args)=>{return targetPath_0.val.startsWith(...args)});const CALL_2=__xsdv__(startsWith_1.val((()=>{mid.dbgctx=__filename+\":53\";const path_0=__xsdv__(__rslv__(\"path\"),()=>{});return path_0})().val),()=>{});return CALL_2})().val){(()=>{mid.dbgctx=__filename+\":55\";const collapsed_0=__xsdv__(__rslv__(\"collapsed\"),()=>{});return collapsed_0})().val=false}}).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+59).use(self).property(\"hovered\",high.binding([high.chainRef(root,[\"node\",\"path\"],__rslv__),high.chainRef(root,[\"target\",\"path\"],__rslv__),high.chainRef(root,[\"containsMouse\"],__rslv__),high.chainRef(root,[\"documentRoot\",\"inputDevice\"],__rslv__),high.chainRef(root,[\"pressed\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4)=>{return(()=>{mid.dbgctx=__filename+\":60\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val&&(()=>{mid.dbgctx=__filename+\":61\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val&&(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val!==\"touch\"&&!(()=>{mid.dbgctx=__filename+\":62\";const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val},__filename+\"[l. 60] node.path !== target.path &&\\n                          (containsMouse && documentRoot.inputDevice !== \\\"touch\\\") &&\\n                          ! pressed\")).use(self).property(\"highlighted\",high.binding([high.chainRef(root,[\"node\",\"path\"],__rslv__),high.chainRef(root,[\"target\",\"path\"],__rslv__),high.chainRef(root,[\"pressed\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":63\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val||(()=>{mid.dbgctx=__filename+\":64\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 63] node.path === target.path ||\\n                              pressed\")).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":67\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 67] theme.itemHeightSmall\")).use(self).color(high.binding([high.chainRef(root,[\"hovered\"],__rslv__),high.chainRef(root,[\"theme\",\"hoverBackgroundColor\"],__rslv__),high.chainRef(root,[\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":69\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{mid.dbgctx=__filename+\":70\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:\"transparent\"},__filename+\"[l. 69] hovered ? theme.hoverBackgroundColor\\n                       : highlighted ? theme.highlightBackgroundColor\\n                                     : \\\"transparent\\\"\")).use(self).layout(\"center-row\").use(self).onClick(()=>{if((()=>{mid.dbgctx=__filename+\":77\";const node_0=__xsdv__(__rslv__(\"node\"),()=>{});const target_1=__xsdv__(node_0.val.target,v=>{node_0.val.target=v},(...args)=>{return node_0.val.target(...args)});return target_1})().val){(()=>{mid.dbgctx=__filename+\":79\";const node_0=__xsdv__(__rslv__(\"node\"),()=>{});const target_1=__xsdv__(node_0.val.target,v=>{node_0.val.target=v},(...args)=>{return node_0.val.target(...args)});const path_2=__xsdv__(target_1.val.path,v=>{target_1.val.path=v},(...args)=>{return target_1.val.path(...args)});return path_2})().val=(()=>{const node_0=__xsdv__(__rslv__(\"node\"),()=>{});const path_1=__xsdv__(node_0.val.path,v=>{node_0.val.path=v},(...args)=>{return node_0.val.path(...args)});return path_1})().val}}).use(self).onDoubleClick(()=>{(()=>{mid.dbgctx=__filename+\":85\";const node_0=__xsdv__(__rslv__(\"node\"),()=>{});const collapsed_1=__xsdv__(node_0.val.collapsed,v=>{node_0.val.collapsed=v},(...args)=>{return node_0.val.collapsed(...args)});return collapsed_1})().val=!(()=>{const node_0=__xsdv__(__rslv__(\"node\"),()=>{});const collapsed_1=__xsdv__(node_0.val.collapsed,v=>{node_0.val.collapsed=v},(...args)=>{return node_0.val.collapsed(...args)});return collapsed_1})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+88).use(self).marginLeft(high.binding([high.chainRef(root,[\"node\",\"indentation\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":89\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 89] node.indentation * theme.paddingLarge\")).use(self).flat(true).use(self).icon(high.binding([high.chainRef(root,[\"node\",\"collapsed\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":91\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?\"core-arrow_right\":\"core-arrow_down\"},__filename+\"[l. 91] node.collapsed ? \\\"core-arrow_right\\\"\\n                                 : \\\"core-arrow_down\\\"\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":96\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;(()=>{mid.dbgctx=__filename+\":97\";const node_0=__xsdv__(__rslv__(\"node\"),()=>{});const collapsed_1=__xsdv__(node_0.val.collapsed,v=>{node_0.val.collapsed=v},(...args)=>{return node_0.val.collapsed(...args)});return collapsed_1})().val=!(()=>{const node_0=__xsdv__(__rslv__(\"node\"),()=>{});const collapsed_1=__xsdv__(node_0.val.collapsed,v=>{node_0.val.collapsed=v},(...args)=>{return node_0.val.collapsed(...args)});return collapsed_1})().val}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+101).use(self).color(high.binding([high.chainRef(root,[\"parent\",\"highlighted\"],__rslv__),high.chainRef(root,[\"parent\",\"hovered\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":102\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val||(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val},__filename+\"[l. 102] parent.highlighted || parent.hovered ? theme.highlightColor : theme.primaryColor\")).use(self).text(high.binding([high.chainRef(root,[\"node\",\"path\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":103\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"/\"?\"[icon:core-drive]\":\"[icon:core-folder]\"},__filename+\"[l. 103] node.path === \\\"/\\\" ? \\\"[icon:core-drive]\\\"\\n                                    : \\\"[icon:core-folder]\\\"\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+107).use(self).fillWidth(true).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":109\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 109] theme.paddingSmall\")).use(self).bold(high.binding([high.chainRef(root,[\"node\",\"target\"],__rslv__),high.chainRef(root,[\"node\",\"target\",\"path\"],__rslv__),high.chainRef(root,[\"node\",\"path\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":110\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val===(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 110] node.target && node.target.path === node.path\")).use(self).literal(true).use(self).color(high.binding([high.chainRef(root,[\"parent\",\"highlighted\"],__rslv__),high.chainRef(root,[\"parent\",\"hovered\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":112\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val||(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val},__filename+\"[l. 112] parent.highlighted || parent.hovered ? theme.highlightColor : theme.primaryColor\")).use(self).text(high.binding([high.chainRef(root,[\"node\",\"name\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":113\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 113] node.name\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Repeater\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Repeater\").objectLocation(__filename+\":\"+117).use(self).id(\"repeater\",__namespace).use(self).model((__pRslv__=>{const self=elementLookup(\"FSModel\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FSModel\").objectLocation(__filename+\":\"+120).use(self).fs(high.binding([high.chainRef(root,[\"node\",\"collapsed\"],__rslv__),high.chainRef(root,[\"node\",\"fs\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":121\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?null:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 121] node.collapsed ? null : node.fs\")).use(self).path(high.binding([high.chainRef(root,[\"node\",\"path\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":122\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 122] node.path\")).use(self).withFiles(false).use(self).onFsChanged(()=>{console.log(\"fs: \"+(()=>{mid.dbgctx=__filename+\":127\";const fs_0=__xsdv__(__rslv__(\"fs\"),()=>{});return fs_0})().val)}).flushPending();return self})(__rslv__)).use(self).delegate(()=>{return{create:function(__pRslv__){const __namespace=\"tmp.3957\";return function(){const root=elementLookup(\"FSTreeNode\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FSTreeNode\").objectLocation(__filename+\":\"+131).use(self).target(high.binding([high.chainRef(root,[\"node\",\"target\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":132\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 132] node.target\")).use(self).fs(high.binding([high.chainRef(root,[\"node\",\"fs\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":133\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 133] node.fs\")).use(self).name(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"name\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":134\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 134] modelData.value.name\")).use(self).path(high.binding([high.chainRef(root,[\"modelData\",\"value\",\"path\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":135\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 135] modelData.value.path\")).use(self).indentation(high.binding([high.chainRef(root,[\"node\",\"indentation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":136\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+1},__filename+\"[l. 136] node.indentation + 1\")).flushPending();return self}}(__rslv__)}.create(__rslv__)}).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/FSView.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.FSView={create:__pRslv__=>{const root=elementLookup(\"ListView\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListView\").objectLocation(__filename+\":\"+25).use(self).id(\"fsview\",__namespace).use(self).property(\"iconScale\",1).use(self).property(\"displayMode\",0).use(self).property(\"currentIndex\",-1).use(self).event(\"fileOpen\").use(self).cellWidth(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__),high.chainRef(root,[\"fsview\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"theme\",\"itemWidthLarge\"],__rslv__),high.chainRef(root,[\"iconScale\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":35\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val-1:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val*(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val},__filename+\"[l. 35] fsview.displayMode === 0 ? fsview.bbox.width - 1 : theme.itemWidthLarge * iconScale\")).use(self).cellHeight(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__),high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__),high.chainRef(root,[\"cellWidth\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":36\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 36] fsview.displayMode === 0 ? theme.itemHeightMedium : cellWidth\")).use(self).delegate(()=>{return{create:function(__pRslv__){const __namespace=\"tmp.1659\";return function(){const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+38).use(self).id(\"fileItem\",__namespace).use(self).property(\"selected\",high.binding([high.chainRef(root,[\"modelData\",\"index\"],__rslv__),high.chainRef(root,[\"fsview\",\"currentIndex\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":41\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 41] modelData.index === fsview.currentIndex\")).use(self).property(\"hovered\",high.binding([high.chainRef(root,[\"containsMouse\"],__rslv__),high.chainRef(root,[\"selected\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":42\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&!(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 42] containsMouse && ! selected\")).use(self).property(\"highlighted\",high.binding([high.chainRef(root,[\"selected\"],__rslv__),high.chainRef(root,[\"hovered\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":43\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val||(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 43] selected || hovered\")).use(self).width(high.binding([high.chainRef(root,[\"fsview\",\"cellWidth\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":45\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 45] fsview.cellWidth\")).use(self).height(high.binding([high.chainRef(root,[\"fsview\",\"cellHeight\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 46] fsview.cellHeight\")).use(self).color(high.binding([high.chainRef(root,[\"hovered\"],__rslv__),high.chainRef(root,[\"theme\",\"hoverBackgroundColor\"],__rslv__),high.chainRef(root,[\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":48\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{mid.dbgctx=__filename+\":49\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:\"transparent\"},__filename+\"[l. 48] hovered ? theme.hoverBackgroundColor\\n                       : highlighted ? theme.highlightBackgroundColor\\n                                     : \\\"transparent\\\"\")).use(self).layout(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":52\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"center-row\":\"center-column\"},__filename+\"[l. 52] fsview.displayMode === 0 ? \\\"center-row\\\" : \\\"center-column\\\"\")).use(self).onClick(()=>{(()=>{mid.dbgctx=__filename+\":56\";const fsview_0=__xsdv__(__rslv__(\"fsview\"),()=>{});const currentIndex_1=__xsdv__(fsview_0.val.currentIndex,v=>{fsview_0.val.currentIndex=v},(...args)=>{return fsview_0.val.currentIndex(...args)});return currentIndex_1})().val=(()=>{const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const index_1=__xsdv__(modelData_0.val.index,v=>{modelData_0.val.index=v},(...args)=>{return modelData_0.val.index(...args)});return index_1})().val;console.log(\"current index: \"+(()=>{mid.dbgctx=__filename+\":57\";const fsview_0=__xsdv__(__rslv__(\"fsview\"),()=>{});const currentIndex_1=__xsdv__(fsview_0.val.currentIndex,v=>{fsview_0.val.currentIndex=v},(...args)=>{return fsview_0.val.currentIndex(...args)});return currentIndex_1})().val)}).use(self).onDoubleClick(()=>{if((()=>{mid.dbgctx=__filename+\":62\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const type_2=__xsdv__(value_1.val.type,v=>{value_1.val.type=v},(...args)=>{return value_1.val.type(...args)});return type_2})().val===\"d\"){(()=>{mid.dbgctx=__filename+\":64\";const fsview_0=__xsdv__(__rslv__(\"fsview\"),()=>{});const model_1=__xsdv__(fsview_0.val.model,v=>{fsview_0.val.model=v},(...args)=>{return fsview_0.val.model(...args)});const path_2=__xsdv__(model_1.val.path,v=>{model_1.val.path=v},(...args)=>{return model_1.val.path(...args)});return path_2})().val=(()=>{const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});const path_2=__xsdv__(value_1.val.path,v=>{value_1.val.path=v},(...args)=>{return value_1.val.path(...args)});return path_2})().val}else{(()=>{const fsview_0=__xsdv__(__rslv__(\"fsview\"),()=>{});const fileOpen_1=__xsdv__(fsview_0.val.fileOpen,v=>{fsview_0.val.fileOpen=v},(...args)=>{return fsview_0.val.fileOpen(...args)});const CALL_2=__xsdv__(fileOpen_1.val((()=>{mid.dbgctx=__filename+\":68\";const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const value_1=__xsdv__(modelData_0.val.value,v=>{modelData_0.val.value=v},(...args)=>{return modelData_0.val.value(...args)});return value_1})().val),()=>{});return CALL_2})().val}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+72).use(self).width(high.binding([high.chainRef(root,[\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":73\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 73] bbox.height\")).use(self).fillWidth(high.binding([high.chainRef(root,[\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":74\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?false:true},__filename+\"[l. 74] displayMode === 0 ? false : true\")).use(self).fillHeight(true).use(self).marginTop(high.binding([high.chainRef(root,[\"displayMode\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":76\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?0:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 76] displayMode === 0 ? 0 : theme.paddingSmall\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"displayMode\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":77\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?0:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 77] displayMode === 0 ? 0 : theme.paddingSmall\")).use(self).marginRight(high.binding([high.chainRef(root,[\"displayMode\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":78\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?0:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 78] displayMode === 0 ? 0 : theme.paddingSmall\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"displayMode\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__),high.chainRef(root,[\"nameLabel\",\"bbox\",\"height\"],__rslv__),high.chainRef(root,[\"sizeLabel\",\"bbox\",\"height\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":79\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?0:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val+(()=>{mid.dbgctx=__filename+\":80\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val+(()=>{mid.dbgctx=__filename+\":81\";const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val},__filename+\"[l. 79] displayMode === 0 ? 0 : theme.paddingSmall +\\n                                                  nameLabel.bbox.height +\\n                                                  sizeLabel.bbox.height\")).use(self).layout(\"center\").use(self).add((__pRslv__=>{const self=elementLookup(\"Image\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Image\").objectLocation(__filename+\":\"+84).use(self).id(\"thumbnail\",__namespace).use(self).property(\"path\",high.binding([high.chainRef(root,[\"fileItem\",\"modelData\",\"value\",\"path\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":87\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 87] fileItem.modelData.value.path\")).use(self).property(\"file\",null).use(self).visible(high.binding([high.chainRef(root,[\"status\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":90\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"success\"},__filename+\"[l. 90] status === \\\"success\\\"\")).use(self).fillWidth(true).use(self).fillHeight(true).use(self).fitMode(high.binding([high.chainRef(root,[\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":93\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"cover\":\"contain\"},__filename+\"[l. 93] displayMode === 0 ? \\\"cover\\\" : \\\"contain\\\"\")).use(self).source(high.binding([high.chainRef(root,[\"file\"],__rslv__),high.chainRef(root,[\"blobUrl\"],__rslv__)],(alias0,alias1)=>{return!!(()=>{mid.dbgctx=__filename+\":95\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const CALL_1=__xsdv__(alias1_0.val((()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val),()=>{});return CALL_1})().val:\"\"},__filename+\"[l. 95] !! file ? blobUrl(file) : \\\"\\\"\")).use(self).onPathChanged(()=>{if((()=>{mid.dbgctx=__filename+\":99\";const path_0=__xsdv__(__rslv__(\"path\"),()=>{});const toLowerCase_1=__xsdv__(path_0.val.toLowerCase,v=>{path_0.val.toLowerCase=v},(...args)=>{return path_0.val.toLowerCase(...args)});const CALL_2=__xsdv__(toLowerCase_1.val(),()=>{});const endsWith_3=__xsdv__(CALL_2.val.endsWith,v=>{CALL_2.val.endsWith=v},(...args)=>{return CALL_2.val.endsWith(...args)});const CALL_4=__xsdv__(endsWith_3.val(\".jpg\"),()=>{});return CALL_4})().val||(()=>{mid.dbgctx=__filename+\":100\";const path_0=__xsdv__(__rslv__(\"path\"),()=>{});const toLowerCase_1=__xsdv__(path_0.val.toLowerCase,v=>{path_0.val.toLowerCase=v},(...args)=>{return path_0.val.toLowerCase(...args)});const CALL_2=__xsdv__(toLowerCase_1.val(),()=>{});const endsWith_3=__xsdv__(CALL_2.val.endsWith,v=>{CALL_2.val.endsWith=v},(...args)=>{return CALL_2.val.endsWith(...args)});const CALL_4=__xsdv__(endsWith_3.val(\".jpeg\"),()=>{});return CALL_4})().val||(()=>{mid.dbgctx=__filename+\":101\";const path_0=__xsdv__(__rslv__(\"path\"),()=>{});const toLowerCase_1=__xsdv__(path_0.val.toLowerCase,v=>{path_0.val.toLowerCase=v},(...args)=>{return path_0.val.toLowerCase(...args)});const CALL_2=__xsdv__(toLowerCase_1.val(),()=>{});const endsWith_3=__xsdv__(CALL_2.val.endsWith,v=>{CALL_2.val.endsWith=v},(...args)=>{return CALL_2.val.endsWith(...args)});const CALL_4=__xsdv__(endsWith_3.val(\".png\"),()=>{});return CALL_4})().val){(()=>{const fsview_0=__xsdv__(__rslv__(\"fsview\"),()=>{});const model_1=__xsdv__(fsview_0.val.model,v=>{fsview_0.val.model=v},(...args)=>{return fsview_0.val.model(...args)});const fs_2=__xsdv__(model_1.val.fs,v=>{model_1.val.fs=v},(...args)=>{return model_1.val.fs(...args)});const read_3=__xsdv__(fs_2.val.read,v=>{fs_2.val.read=v},(...args)=>{return fs_2.val.read(...args)});const CALL_4=__xsdv__(read_3.val((()=>{mid.dbgctx=__filename+\":103\";const path_0=__xsdv__(__rslv__(\"path\"),()=>{});return path_0})().val),()=>{});const then_5=__xsdv__(CALL_4.val.then,v=>{CALL_4.val.then=v},(...args)=>{return CALL_4.val.then(...args)});const CALL_6=__xsdv__(then_5.val((()=>{mid.dbgctx=__filename+\":107\";const safeCallback_0=__xsdv__(__rslv__(\"safeCallback\"),()=>{});const CALL_1=__xsdv__(safeCallback_0.val(blob=>{(()=>{mid.dbgctx=__filename+\":106\";const file_0=__xsdv__(__rslv__(\"file\"),()=>{});return file_0})().val=(()=>{const blob_0=__xsdv__(blob,v=>{blob=v},(...args)=>{return blob(...args)});return blob_0})().val}),()=>{});return CALL_1})().val),()=>{});const catch_7=__xsdv__(CALL_6.val.catch,v=>{CALL_6.val.catch=v},(...args)=>{return CALL_6.val.catch(...args)});const CALL_8=__xsdv__(catch_7.val((()=>{mid.dbgctx=__filename+\":111\";const safeCallback_0=__xsdv__(__rslv__(\"safeCallback\"),()=>{});const CALL_1=__xsdv__(safeCallback_0.val(()=>{(()=>{mid.dbgctx=__filename+\":110\";const file_0=__xsdv__(__rslv__(\"file\"),()=>{});return file_0})().val=null}),()=>{});return CALL_1})().val),()=>{});return CALL_8})().val}else{(()=>{mid.dbgctx=__filename+\":115\";const file_0=__xsdv__(__rslv__(\"file\"),()=>{});return file_0})().val=null}}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"FSIcon\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FSIcon\").objectLocation(__filename+\":\"+120).use(self).id(\"icon\",__namespace).use(self).visible(high.binding([high.chainRef(root,[\"thumbnail\",\"visible\"],__rslv__)],alias0=>{return!(()=>{mid.dbgctx=__filename+\":123\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 123] ! thumbnail.visible\")).use(self).fillWidth(true).use(self).fontSize(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":125\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*0.6},__filename+\"[l. 125] parent.bbox.height * 0.6\")).use(self).horizontalAlignment(\"center\").use(self).color(high.binding([high.chainRef(root,[\"parent\",\"parent\",\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":127\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 127] parent.parent.highlighted ? theme.highlightColor : theme.primaryColor\")).use(self).mimeType(high.binding([high.chainRef(root,[\"fileItem\",\"modelData\",\"value\",\"mimetype\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":128\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 128] fileItem.modelData.value.mimetype\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+132).use(self).id(\"nameLabel\",__namespace).use(self).position(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":135\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"inline\":\"free\"},__filename+\"[l. 135] fsview.displayMode === 0 ? \\\"inline\\\" : \\\"free\\\"\")).use(self).origin(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":136\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"top-left\":\"bottom-left\"},__filename+\"[l. 136] fsview.displayMode === 0 ? \\\"top-left\\\" : \\\"bottom-left\\\"\")).use(self).fillWidth(true).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":138\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 138] theme.paddingSmall\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":139\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 139] theme.paddingSmall\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__),high.chainRef(root,[\"sizeLabel\",\"bbox\",\"height\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":140\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?0:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 140] fsview.displayMode === 0 ? 0 : sizeLabel.bbox.height\")).use(self).horizontalAlignment(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":141\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"left\":\"center\"},__filename+\"[l. 141] fsview.displayMode === 0 ? \\\"left\\\" : \\\"center\\\"\")).use(self).overflowBehavior(\"ellipsis\").use(self).literal(true).use(self).color(high.binding([high.chainRef(root,[\"parent\",\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":144\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 144] parent.highlighted ? theme.highlightColor : theme.primaryColor\")).use(self).text(high.binding([high.chainRef(root,[\"fileItem\",\"modelData\",\"value\",\"name\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":145\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 145] fileItem.modelData.value.name\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+148).use(self).id(\"sizeLabel\",__namespace).use(self).position(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":151\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"inline\":\"free\"},__filename+\"[l. 151] fsview.displayMode === 0 ? \\\"inline\\\" : \\\"free\\\"\")).use(self).origin(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":152\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"top-left\":\"bottom-left\"},__filename+\"[l. 152] fsview.displayMode === 0 ? \\\"top-left\\\" : \\\"bottom-left\\\"\")).use(self).fillWidth(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":153\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===1},__filename+\"[l. 153] fsview.displayMode === 1\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":154\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 154] theme.paddingSmall\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":155\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 155] theme.paddingSmall\")).use(self).horizontalAlignment(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":156\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?\"left\":\"center\"},__filename+\"[l. 156] fsview.displayMode === 0 ? \\\"left\\\" : \\\"center\\\"\")).use(self).fontSize(high.binding([high.chainRef(root,[\"fsview\",\"displayMode\"],__rslv__),high.chainRef(root,[\"theme\",\"fontSizeMedium\"],__rslv__),high.chainRef(root,[\"theme\",\"fontSizeSmall\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":157\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===0?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 157] fsview.displayMode === 0 ? theme.fontSizeMedium : theme.fontSizeSmall\")).use(self).color(high.binding([high.chainRef(root,[\"parent\",\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"secondaryColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":158\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 158] parent.highlighted ? theme.highlightColor : theme.secondaryColor\")).use(self).text(high.binding([high.chainRef(root,[\"fileItem\",\"modelData\",\"value\",\"size\"],__rslv__)],alias0=>{return Math.ceil((()=>{mid.dbgctx=__filename+\":159\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/1024)+\" KB\"},__filename+\"[l. 159] Math.ceil(fileItem.modelData.value.size / 1024) + \\\" KB\\\"\")).flushPending();return self})(__rslv__)).flushPending();return self}}(__rslv__)}.create(__rslv__)}).use(self).onCurrentIndexChanged(()=>{(()=>{const positionViewAt_0=__xsdv__(__rslv__(\"positionViewAt\"),()=>{});const CALL_1=__xsdv__(positionViewAt_0.val((()=>{mid.dbgctx=__filename+\":166\";const currentIndex_0=__xsdv__(__rslv__(\"currentIndex\"),()=>{});return currentIndex_0})().val),()=>{});return CALL_1})().val}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Label.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Label={create:__pRslv__=>{const root=elementLookup(\"Label\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+31).use(self).color(high.binding([high.chainRef(root,[\"ancestorsEnabled\"],__rslv__),high.chainRef(root,[\"enabled\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__),high.chainRef(root,[\"theme\",\"disabledColor\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":32\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val},__filename+\"[l. 32] ancestorsEnabled && enabled ? theme.primaryColor : theme.disabledColor\")).use(self).fontSize(high.binding([high.chainRef(root,[\"theme\",\"fontSizeMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":33\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 33] theme.fontSizeMedium\")).use(self).fontFamily(\"sans-serif\").flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Loader.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/fengshui\",\"shellfish/mid\",\"shellfish/high\"],(fengshui,mid,high)=>{const modules={fengshui:fengshui,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Loader={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+39).use(self).property(\"source\",\"\").use(self).property(\"sourceTemplate\",null).use(self).property(\"item\",null).use(self).property(\"loading\",false).use(self).property(\"load\",()=>{if((()=>{mid.dbgctx=__filename+\":47\";const item_0=__xsdv__(__rslv__(\"item\"),()=>{});return item_0})().val){(()=>{mid.dbgctx=__filename+\":49\";const item_0=__xsdv__(__rslv__(\"item\"),()=>{});const parent_1=__xsdv__(item_0.val.parent,v=>{item_0.val.parent=v},(...args)=>{return item_0.val.parent(...args)});return parent_1})().val=null;(()=>{mid.dbgctx=__filename+\":50\";const item_0=__xsdv__(__rslv__(\"item\"),()=>{});return item_0})().val=null}if((()=>{mid.dbgctx=__filename+\":53\";const source_0=__xsdv__(__rslv__(\"source\"),()=>{});return source_0})().val!==\"\"){(()=>{mid.dbgctx=__filename+\":55\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=true;(()=>{mid.dbgctx=__filename+\":61\";const fengshui_0=__xsdv__(fengshui,v=>{fengshui=v},(...args)=>{return fengshui(...args)});const load_1=__xsdv__(fengshui_0.val.load,v=>{fengshui_0.val.load=v},(...args)=>{return fengshui_0.val.load(...args)});const CALL_2=__xsdv__(load_1.val((()=>{mid.dbgctx=__filename+\":56\";const source_0=__xsdv__(__rslv__(\"source\"),()=>{});return source_0})().val,null,__rslv__,root=>{(()=>{mid.dbgctx=__filename+\":58\";const item_0=__xsdv__(__rslv__(\"item\"),()=>{});return item_0})().val=(()=>{const root_0=__xsdv__(root,v=>{root=v},(...args)=>{return root(...args)});return root_0})().val;(()=>{const add_0=__xsdv__(__rslv__(\"add\"),()=>{});const CALL_1=__xsdv__(add_0.val((()=>{mid.dbgctx=__filename+\":59\";const item_0=__xsdv__(__rslv__(\"item\"),()=>{});return item_0})().val),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":60\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=false}),()=>{});return CALL_2})().val}else if((()=>{mid.dbgctx=__filename+\":63\";const sourceTemplate_0=__xsdv__(__rslv__(\"sourceTemplate\"),()=>{});return sourceTemplate_0})().val){(()=>{mid.dbgctx=__filename+\":65\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=true;(()=>{mid.dbgctx=__filename+\":66\";const item_0=__xsdv__(__rslv__(\"item\"),()=>{});return item_0})().val=(()=>{const sourceTemplate_0=__xsdv__(__rslv__(\"sourceTemplate\"),()=>{});const CALL_1=__xsdv__(sourceTemplate_0.val(),()=>{});return CALL_1})().val;(()=>{const add_0=__xsdv__(__rslv__(\"add\"),()=>{});const CALL_1=__xsdv__(add_0.val((()=>{mid.dbgctx=__filename+\":67\";const item_0=__xsdv__(__rslv__(\"item\"),()=>{});return item_0})().val),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":68\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=false}}).use(self).onSourceChanged(function(){(()=>{mid.dbgctx=__filename+\":72\";const loadTimer_0=__xsdv__(__rslv__(\"loadTimer\"),()=>{});const start_1=__xsdv__(loadTimer_0.val.start,v=>{loadTimer_0.val.start=v},(...args)=>{return loadTimer_0.val.start(...args)});const CALL_2=__xsdv__(start_1.val(),()=>{});return CALL_2})().val}).use(self).onSourceTemplateChanged(function(){(()=>{mid.dbgctx=__filename+\":73\";const loadTimer_0=__xsdv__(__rslv__(\"loadTimer\"),()=>{});const start_1=__xsdv__(loadTimer_0.val.start,v=>{loadTimer_0.val.start=v},(...args)=>{return loadTimer_0.val.start(...args)});const CALL_2=__xsdv__(start_1.val(),()=>{});return CALL_2})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"Timer\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Timer\").objectLocation(__filename+\":\"+75).use(self).id(\"loadTimer\",__namespace).use(self).interval(0).use(self).repeat(false).use(self).onTimeout(()=>{(()=>{mid.dbgctx=__filename+\":82\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});const load_1=__xsdv__(parent_0.val.load,v=>{parent_0.val.load=v},(...args)=>{return parent_0.val.load(...args)});const CALL_2=__xsdv__(load_1.val(),()=>{});return CALL_2})().val}).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Menu.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/low\",\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(low,mod1332,mid,high)=>{const modules={low:low,mod1332:mod1332,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Menu={create:__pRslv__=>{const root=elementLookup(\"Overlay\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Overlay\").objectLocation(__filename+\":\"+38).use(self).id(\"menu\",__namespace).use(self).defaultContainer(\"menuBoxContent\").use(self).property(\"thisMenu\",(()=>{mid.dbgctx=__filename+\":43\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val).use(self).property(\"menuOpened\",high.binding([high.chainRef(root,[\"visible\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":44\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 44] visible\")).use(self).property(\"menuRuler\",(__pRslv__=>{const self=elementLookup(\"Ruler\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Ruler\").objectLocation(__filename+\":\"+45).flushPending();return self})(__rslv__)).use(self).property(\"popup\",(parent,options)=>{(()=>{mid.dbgctx=__filename+\":63\";const options_0=__xsdv__(options,v=>{options=v},(...args)=>{return options(...args)});return options_0})().val=(()=>{const options_0=__xsdv__(options,v=>{options=v},(...args)=>{return options(...args)});return options_0})().val||{};const parentBbox=(()=>{mid.dbgctx=__filename+\":65\";const parent_0=__xsdv__(parent,v=>{parent=v},(...args)=>{return parent(...args)});const bbox_1=__xsdv__(parent_0.val.bbox,v=>{parent_0.val.bbox=v},(...args)=>{return parent_0.val.bbox(...args)});return bbox_1})().val;if((()=>{mid.dbgctx=__filename+\":66\";const options_0=__xsdv__(options,v=>{options=v},(...args)=>{return options(...args)});const horizontal_1=__xsdv__(options_0.val.horizontal,v=>{options_0.val.horizontal=v},(...args)=>{return options_0.val.horizontal(...args)});return horizontal_1})().val){(()=>{mid.dbgctx=__filename+\":68\";const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const anchorX_1=__xsdv__(menuBox_0.val.anchorX,v=>{menuBox_0.val.anchorX=v},(...args)=>{return menuBox_0.val.anchorX(...args)});return anchorX_1})().val=(()=>{const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const x_1=__xsdv__(parentBbox_0.val.x,v=>{parentBbox_0.val.x=v},(...args)=>{return parentBbox_0.val.x(...args)});return x_1})().val+(()=>{const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const width_1=__xsdv__(parentBbox_0.val.width,v=>{parentBbox_0.val.width=v},(...args)=>{return parentBbox_0.val.width(...args)});return width_1})().val;(()=>{mid.dbgctx=__filename+\":69\";const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const anchorY_1=__xsdv__(menuBox_0.val.anchorY,v=>{menuBox_0.val.anchorY=v},(...args)=>{return menuBox_0.val.anchorY(...args)});return anchorY_1})().val=(()=>{const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const y_1=__xsdv__(parentBbox_0.val.y,v=>{parentBbox_0.val.y=v},(...args)=>{return parentBbox_0.val.y(...args)});return y_1})().val;(()=>{mid.dbgctx=__filename+\":70\";const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const anchorHeight_1=__xsdv__(menuBox_0.val.anchorHeight,v=>{menuBox_0.val.anchorHeight=v},(...args)=>{return menuBox_0.val.anchorHeight(...args)});return anchorHeight_1})().val=0}else{(()=>{mid.dbgctx=__filename+\":74\";const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const anchorX_1=__xsdv__(menuBox_0.val.anchorX,v=>{menuBox_0.val.anchorX=v},(...args)=>{return menuBox_0.val.anchorX(...args)});return anchorX_1})().val=(()=>{const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const x_1=__xsdv__(parentBbox_0.val.x,v=>{parentBbox_0.val.x=v},(...args)=>{return parentBbox_0.val.x(...args)});return x_1})().val;(()=>{mid.dbgctx=__filename+\":75\";const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const anchorY_1=__xsdv__(menuBox_0.val.anchorY,v=>{menuBox_0.val.anchorY=v},(...args)=>{return menuBox_0.val.anchorY(...args)});return anchorY_1})().val=(()=>{const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const y_1=__xsdv__(parentBbox_0.val.y,v=>{parentBbox_0.val.y=v},(...args)=>{return parentBbox_0.val.y(...args)});return y_1})().val+(()=>{const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const height_1=__xsdv__(parentBbox_0.val.height,v=>{parentBbox_0.val.height=v},(...args)=>{return parentBbox_0.val.height(...args)});return height_1})().val*0.96;(()=>{mid.dbgctx=__filename+\":76\";const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const anchorHeight_1=__xsdv__(menuBox_0.val.anchorHeight,v=>{menuBox_0.val.anchorHeight=v},(...args)=>{return menuBox_0.val.anchorHeight(...args)});return anchorHeight_1})().val=(()=>{const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const height_1=__xsdv__(parentBbox_0.val.height,v=>{parentBbox_0.val.height=v},(...args)=>{return parentBbox_0.val.height(...args)});return height_1})().val*0.96}(()=>{mid.dbgctx=__filename+\":83\";const menuRuler_0=__xsdv__(__rslv__(\"menuRuler\"),()=>{});const request_1=__xsdv__(menuRuler_0.val.request,v=>{menuRuler_0.val.request=v},(...args)=>{return menuRuler_0.val.request(...args)});const CALL_2=__xsdv__(request_1.val({x:0,y:0,width:(()=>{mid.dbgctx=__filename+\":81\";const parentBbox_0=__xsdv__(parentBbox,v=>{parentBbox=v},(...args)=>{return parentBbox(...args)});const width_1=__xsdv__(parentBbox_0.val.width,v=>{parentBbox_0.val.width=v},(...args)=>{return parentBbox_0.val.width(...args)});return width_1})().val-2*1,height:0}),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":85\";const show_0=__xsdv__(__rslv__(\"show\"),()=>{});const CALL_1=__xsdv__(show_0.val(),()=>{});return CALL_1})().val;if((()=>{mid.dbgctx=__filename+\":87\";const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const children_1=__xsdv__(menuBox_0.val.children,v=>{menuBox_0.val.children=v},(...args)=>{return menuBox_0.val.children(...args)});const CALL_2=__xsdv__(children_1.val(),()=>{});const length_3=__xsdv__(CALL_2.val.length,v=>{CALL_2.val.length=v},(...args)=>{return CALL_2.val.length(...args)});return length_3})().val>0){const handle=(()=>{const low_0=__xsdv__(low,v=>{low=v},(...args)=>{return low(...args)});const addFrameHandler_1=__xsdv__(low_0.val.addFrameHandler,v=>{low_0.val.addFrameHandler=v},(...args)=>{return low_0.val.addFrameHandler(...args)});const CALL_2=__xsdv__(addFrameHandler_1.val(()=>{(()=>{mid.dbgctx=__filename+\":91\";const handle_0=__xsdv__(handle,v=>{handle=v},(...args)=>{return handle(...args)});const cancel_1=__xsdv__(handle_0.val.cancel,v=>{handle_0.val.cancel=v},(...args)=>{return handle_0.val.cancel(...args)});const CALL_2=__xsdv__(cancel_1.val(),()=>{});return CALL_2})().val;const cs=(()=>{const menuBox_0=__xsdv__(__rslv__(\"menuBox\"),()=>{});const children_1=__xsdv__(menuBox_0.val.children,v=>{menuBox_0.val.children=v},(...args)=>{return menuBox_0.val.children(...args)});const CALL_2=__xsdv__(children_1.val(),()=>{});const filter_3=__xsdv__(CALL_2.val.filter,v=>{CALL_2.val.filter=v},(...args)=>{return CALL_2.val.filter(...args)});const CALL_4=__xsdv__(filter_3.val(c=>{return(()=>{mid.dbgctx=__filename+\":92\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const canFocus_1=__xsdv__(c_0.val.canFocus,v=>{c_0.val.canFocus=v},(...args)=>{return c_0.val.canFocus(...args)});return canFocus_1})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const enabled_1=__xsdv__(c_0.val.enabled,v=>{c_0.val.enabled=v},(...args)=>{return c_0.val.enabled(...args)});return enabled_1})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const visible_1=__xsdv__(c_0.val.visible,v=>{c_0.val.visible=v},(...args)=>{return c_0.val.visible(...args)});return visible_1})().val}),()=>{});return CALL_4})().val;if((()=>{mid.dbgctx=__filename+\":93\";const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const length_1=__xsdv__(cs_0.val.length,v=>{cs_0.val.length=v},(...args)=>{return cs_0.val.length(...args)});return length_1})().val>0){(()=>{mid.dbgctx=__filename+\":95\";const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const ACCESS_1=__xsdv__(cs_0.val[0],v=>{cs_0.val[0]=v},(...args)=>{return cs_0.val[0](...args)});const focus_2=__xsdv__(ACCESS_1.val.focus,v=>{ACCESS_1.val.focus=v},(...args)=>{return ACCESS_1.val.focus(...args)});return focus_2})().val=true}},(()=>{mid.dbgctx=__filename+\":97\";const objectType_0=__xsdv__(__rslv__(\"objectType\"),()=>{});return objectType_0})().val+\"@\"+(()=>{const objectLocation_0=__xsdv__(__rslv__(\"objectLocation\"),()=>{});return objectLocation_0})().val),()=>{});return CALL_2})().val}}).use(self).event(\"cascadingClose\").use(self).visible(false).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":110\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;(()=>{mid.dbgctx=__filename+\":111\";const cascadingClose_0=__xsdv__(__rslv__(\"cascadingClose\"),()=>{});const CALL_1=__xsdv__(cascadingClose_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":112\";const visible_0=__xsdv__(__rslv__(\"visible\"),()=>{});return visible_0})().val=false}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+116).use(self).position(\"global\").use(self).x(high.binding([high.chainRef(root,[\"menuBox\",\"bbox\",\"x\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":118\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+2},__filename+\"[l. 118] menuBox.bbox.x + 2\")).use(self).y(high.binding([high.chainRef(root,[\"menuBox\",\"bbox\",\"y\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":119\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+2},__filename+\"[l. 119] menuBox.bbox.y + 2\")).use(self).width(high.binding([high.chainRef(root,[\"menuBox\",\"bbox\",\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":120\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 120] menuBox.bbox.width\")).use(self).height(high.binding([high.chainRef(root,[\"menuBox\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":121\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 121] menuBox.bbox.height\")).use(self).color(\"black\").use(self).opacity(0.2).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+126).use(self).id(\"menuBox\",__namespace).use(self).property(\"anchorX\",0).use(self).property(\"anchorY\",0).use(self).property(\"anchorHeight\",0).use(self).property(\"spaceAbove\",high.binding([high.chainRef(root,[\"anchorY\"],__rslv__),high.chainRef(root,[\"anchorHeight\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":133\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 133] anchorY - anchorHeight\")).use(self).property(\"spaceBelow\",high.binding([high.chainRef(root,[\"menu\",\"bbox\",\"height\"],__rslv__),high.chainRef(root,[\"anchorY\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":134\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 134] menu.bbox.height - anchorY\")).use(self).property(\"showBelow\",high.binding([high.chainRef(root,[\"spaceBelow\"],__rslv__),high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__),high.chainRef(root,[\"spaceAbove\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":135\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val>5*(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?true:(()=>{mid.dbgctx=__filename+\":136\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val>(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 135] spaceBelow > 5 * theme.itemHeightMedium ? true\\n                                                                    : spaceBelow > spaceAbove\")).use(self).position(\"global\").use(self).overflowBehavior(\"scroll\").use(self).x(high.binding([high.chainRef(root,[\"anchorX\"],__rslv__),high.chainRef(root,[\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"menu\",\"bbox\",\"width\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":141\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val<(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val:(()=>{mid.dbgctx=__filename+\":142\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 141] anchorX + bbox.width < menu.bbox.width ? anchorX\\n                                                  : menu.bbox.width - bbox.width\")).use(self).y(high.binding([high.chainRef(root,[\"showBelow\"],__rslv__),high.chainRef(root,[\"anchorY\"],__rslv__),high.chainRef(root,[\"anchorHeight\"],__rslv__),high.chainRef(root,[\"height\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":143\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val-(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val-(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val},__filename+\"[l. 143] showBelow ? anchorY : anchorY - anchorHeight - height\")).use(self).height(high.binding([high.chainRef(root,[\"showBelow\"],__rslv__),high.chainRef(root,[\"spaceBelow\"],__rslv__),high.chainRef(root,[\"spaceAbove\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__),high.chainRef(root,[\"menuBoxContent\",\"bbox\",\"height\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4)=>{return Math.min(((()=>{mid.dbgctx=__filename+\":145\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val)-(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val,(()=>{const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val+2)},__filename+\"[l. 145] Math.min((showBelow ? spaceBelow : spaceAbove) - theme.paddingLarge, menuBoxContent.bbox.height + 2 /* borders */)\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":146\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 146] theme.primaryBackgroundColor\")).use(self).borderWidth(1).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":148\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 148] theme.borderColor\")).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+150).use(self).id(\"menuBoxContent\",__namespace).use(self).property(\"isMenu\",true).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":155\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":159\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;(()=>{mid.dbgctx=__filename+\":161\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});const cascadingClose_1=__xsdv__(menu_0.val.cascadingClose,v=>{menu_0.val.cascadingClose=v},(...args)=>{return menu_0.val.cascadingClose(...args)});const CALL_2=__xsdv__(cascadingClose_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":162\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});const visible_1=__xsdv__(menu_0.val.visible,v=>{menu_0.val.visible=v},(...args)=>{return menu_0.val.visible(...args)});return visible_1})().val=false}).use(self).onKeyDown(ev=>{console.log(\"menu key down \"+(()=>{mid.dbgctx=__filename+\":167\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val);if((()=>{mid.dbgctx=__filename+\":169\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Escape\"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\" \"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"){(()=>{mid.dbgctx=__filename+\":171\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;(()=>{mid.dbgctx=__filename+\":173\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});const cascadingClose_1=__xsdv__(menu_0.val.cascadingClose,v=>{menu_0.val.cascadingClose=v},(...args)=>{return menu_0.val.cascadingClose(...args)});const CALL_2=__xsdv__(cascadingClose_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":174\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});const visible_1=__xsdv__(menu_0.val.visible,v=>{menu_0.val.visible=v},(...args)=>{return menu_0.val.visible(...args)});return visible_1})().val=false;return}let current=-1;const cs=(()=>{const children_0=__xsdv__(__rslv__(\"children\"),()=>{});const CALL_1=__xsdv__(children_0.val(),()=>{});const filter_2=__xsdv__(CALL_1.val.filter,v=>{CALL_1.val.filter=v},(...args)=>{return CALL_1.val.filter(...args)});const CALL_3=__xsdv__(filter_2.val(c=>{return(()=>{mid.dbgctx=__filename+\":179\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const isMenuItem_1=__xsdv__(c_0.val.isMenuItem,v=>{c_0.val.isMenuItem=v},(...args)=>{return c_0.val.isMenuItem(...args)});return isMenuItem_1})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const enabled_1=__xsdv__(c_0.val.enabled,v=>{c_0.val.enabled=v},(...args)=>{return c_0.val.enabled(...args)});return enabled_1})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const visible_1=__xsdv__(c_0.val.visible,v=>{c_0.val.visible=v},(...args)=>{return c_0.val.visible(...args)});return visible_1})().val}),()=>{});return CALL_3})().val;for(let i=0;(()=>{mid.dbgctx=__filename+\":180\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val<(()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const length_1=__xsdv__(cs_0.val.length,v=>{cs_0.val.length=v},(...args)=>{return cs_0.val.length(...args)});return length_1})().val;++(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val){if((()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const ACCESS_1=__xsdv__(cs_0.val[(()=>{mid.dbgctx=__filename+\":182\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val],v=>{cs_0.val[(()=>{mid.dbgctx=__filename+\":182\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val]=v},(...args)=>{return cs_0.val[(()=>{mid.dbgctx=__filename+\":182\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val](...args)});const selected_2=__xsdv__(ACCESS_1.val.selected,v=>{ACCESS_1.val.selected=v},(...args)=>{return ACCESS_1.val.selected(...args)});return selected_2})().val){(()=>{mid.dbgctx=__filename+\":184\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val=(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val;break}}console.log(\"current \"+(()=>{mid.dbgctx=__filename+\":189\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val+\" of \"+(()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const length_1=__xsdv__(cs_0.val.length,v=>{cs_0.val.length=v},(...args)=>{return cs_0.val.length(...args)});return length_1})().val);if((()=>{mid.dbgctx=__filename+\":191\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowUp\"){if((()=>{mid.dbgctx=__filename+\":193\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val!==-1){(()=>{mid.dbgctx=__filename+\":195\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val=((()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const length_1=__xsdv__(cs_0.val.length,v=>{cs_0.val.length=v},(...args)=>{return cs_0.val.length(...args)});return length_1})().val+(()=>{const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val-1)%(()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const length_1=__xsdv__(cs_0.val.length,v=>{cs_0.val.length=v},(...args)=>{return cs_0.val.length(...args)});return length_1})().val}else{(()=>{mid.dbgctx=__filename+\":199\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val=(()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const length_1=__xsdv__(cs_0.val.length,v=>{cs_0.val.length=v},(...args)=>{return cs_0.val.length(...args)});return length_1})().val-1}(()=>{mid.dbgctx=__filename+\":201\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":203\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowDown\"){if((()=>{mid.dbgctx=__filename+\":205\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val!==-1){(()=>{mid.dbgctx=__filename+\":207\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val=((()=>{const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val+1)%(()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const length_1=__xsdv__(cs_0.val.length,v=>{cs_0.val.length=v},(...args)=>{return cs_0.val.length(...args)});return length_1})().val}else{(()=>{mid.dbgctx=__filename+\":211\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val=0}(()=>{mid.dbgctx=__filename+\":213\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}if((()=>{mid.dbgctx=__filename+\":215\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val!==-1){(()=>{const cs_0=__xsdv__(cs,v=>{cs=v},(...args)=>{return cs(...args)});const ACCESS_1=__xsdv__(cs_0.val[(()=>{mid.dbgctx=__filename+\":217\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val],v=>{cs_0.val[(()=>{mid.dbgctx=__filename+\":217\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val]=v},(...args)=>{return cs_0.val[(()=>{mid.dbgctx=__filename+\":217\";const current_0=__xsdv__(current,v=>{current=v},(...args)=>{return current(...args)});return current_0})().val](...args)});const selectItem_2=__xsdv__(ACCESS_1.val.selectItem,v=>{ACCESS_1.val.selectItem=v},(...args)=>{return ACCESS_1.val.selectItem(...args)});const CALL_3=__xsdv__(selectItem_2.val(false),()=>{});return CALL_3})().val}}).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+224).use(self).position(\"free\").use(self).x(high.binding([high.chainRef(root,[\"menuBox\",\"x\"],__rslv__),high.chainRef(root,[\"menuBox\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"width\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":226\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val-(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 226] menuBox.x + menuBox.bbox.width - width\")).use(self).y(high.binding([high.chainRef(root,[\"menuBox\",\"y\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":227\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 227] menuBox.y\")).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":228\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 228] theme.paddingSmall\")).use(self).height(high.binding([high.chainRef(root,[\"menuBox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":229\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 229] menuBox.height\")).use(self).add((__pRslv__=>{const self=elementLookup(\"ScrollIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ScrollIndicator\").objectLocation(__filename+\":\"+231).use(self).target(high.binding([high.chainRef(root,[\"menuBox\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":232\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 232] menuBox\")).use(self).width(high.binding([high.chainRef(root,[\"parent\",\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":233\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 233] parent.width\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/MenuItem.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.MenuItem={create:__pRslv__=>{const root=elementLookup(\"MenuItemBase\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MenuItemBase\").objectLocation(__filename+\":\"+38).use(self).id(\"item\",__namespace).use(self).property(\"icon\",\"\").use(self).property(\"text\",\"\").use(self).property(\"shortcut\",\"\").use(self).property(\"format\",t=>{const pos=(()=>{mid.dbgctx=__filename+\":47\";const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const indexOf_1=__xsdv__(t_0.val.indexOf,v=>{t_0.val.indexOf=v},(...args)=>{return t_0.val.indexOf(...args)});const CALL_2=__xsdv__(indexOf_1.val(\"&\"),()=>{});return CALL_2})().val;if((()=>{mid.dbgctx=__filename+\":48\";const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val===-1){return(()=>{mid.dbgctx=__filename+\":50\";const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});return t_0})().val}else{return(()=>{const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const substr_1=__xsdv__(t_0.val.substr,v=>{t_0.val.substr=v},(...args)=>{return t_0.val.substr(...args)});const CALL_2=__xsdv__(substr_1.val(0,(()=>{mid.dbgctx=__filename+\":54\";const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val),()=>{});return CALL_2})().val+\"_\"+(()=>{const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const ACCESS_1=__xsdv__(t_0.val[(()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+1],v=>{t_0.val[(()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+1]=v},(...args)=>{return t_0.val[(()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+1](...args)});return ACCESS_1})().val+\"_\"+(()=>{const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});const substr_1=__xsdv__(t_0.val.substr,v=>{t_0.val.substr=v},(...args)=>{return t_0.val.substr(...args)});const CALL_2=__xsdv__(substr_1.val((()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val+2),()=>{});return CALL_2})().val}}).use(self).crossConnect(()=>{return __rslv__(\"shortcutReceiver\")},\"keyDown\")(ev=>{if((()=>{mid.dbgctx=__filename+\":60\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const altKey_1=__xsdv__(ev_0.val.altKey,v=>{ev_0.val.altKey=v},(...args)=>{return ev_0.val.altKey(...args)});return altKey_1})().val){const idx=(()=>{mid.dbgctx=__filename+\":62\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});const indexOf_1=__xsdv__(text_0.val.indexOf,v=>{text_0.val.indexOf=v},(...args)=>{return text_0.val.indexOf(...args)});const CALL_2=__xsdv__(indexOf_1.val(\"&\"),()=>{});return CALL_2})().val;if((()=>{mid.dbgctx=__filename+\":63\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val!==-1){const key=(()=>{const text_0=__xsdv__(__rslv__(\"text\"),()=>{});const ACCESS_1=__xsdv__(text_0.val[(()=>{mid.dbgctx=__filename+\":65\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val+1],v=>{text_0.val[(()=>{mid.dbgctx=__filename+\":65\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val+1]=v},(...args)=>{return text_0.val[(()=>{mid.dbgctx=__filename+\":65\";const idx_0=__xsdv__(idx,v=>{idx=v},(...args)=>{return idx(...args)});return idx_0})().val+1](...args)});const toLowerCase_2=__xsdv__(ACCESS_1.val.toLowerCase,v=>{ACCESS_1.val.toLowerCase=v},(...args)=>{return ACCESS_1.val.toLowerCase(...args)});const CALL_3=__xsdv__(toLowerCase_2.val(),()=>{});return CALL_3})().val;if((()=>{mid.dbgctx=__filename+\":66\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val){(()=>{const click_0=__xsdv__(__rslv__(\"click\"),()=>{});const CALL_1=__xsdv__(click_0.val((()=>{mid.dbgctx=__filename+\":68\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":69\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}}else if((()=>{mid.dbgctx=__filename+\":73\";const shortcut_0=__xsdv__(__rslv__(\"shortcut\"),()=>{});return shortcut_0})().val!==\"\"){const parts=(()=>{mid.dbgctx=__filename+\":93\";const shortcut_0=__xsdv__(__rslv__(\"shortcut\"),()=>{});const split_1=__xsdv__(shortcut_0.val.split,v=>{shortcut_0.val.split=v},(...args)=>{return shortcut_0.val.split(...args)});const CALL_2=__xsdv__(split_1.val(\"+\"),()=>{});const filter_3=__xsdv__(CALL_2.val.filter,v=>{CALL_2.val.filter=v},(...args)=>{return CALL_2.val.filter(...args)});const CALL_4=__xsdv__(filter_3.val(key=>{if((()=>{mid.dbgctx=__filename+\":77\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val===\"Ctrl\"){return!(()=>{mid.dbgctx=__filename+\":79\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const ctrlKey_1=__xsdv__(ev_0.val.ctrlKey,v=>{ev_0.val.ctrlKey=v},(...args)=>{return ev_0.val.ctrlKey(...args)});return ctrlKey_1})().val}else if((()=>{mid.dbgctx=__filename+\":81\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val===\"Alt\"){return!(()=>{mid.dbgctx=__filename+\":83\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const altKey_1=__xsdv__(ev_0.val.altKey,v=>{ev_0.val.altKey=v},(...args)=>{return ev_0.val.altKey(...args)});return altKey_1})().val}else if((()=>{mid.dbgctx=__filename+\":85\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val===\"Shift\"){return!(()=>{mid.dbgctx=__filename+\":87\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const shiftKey_1=__xsdv__(ev_0.val.shiftKey,v=>{ev_0.val.shiftKey=v},(...args)=>{return ev_0.val.shiftKey(...args)});return shiftKey_1})().val}else{return(()=>{mid.dbgctx=__filename+\":91\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val!==(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});const toLowerCase_1=__xsdv__(key_0.val.toLowerCase,v=>{key_0.val.toLowerCase=v},(...args)=>{return key_0.val.toLowerCase(...args)});const CALL_2=__xsdv__(toLowerCase_1.val(),()=>{});return CALL_2})().val}}),()=>{});return CALL_4})().val;if((()=>{mid.dbgctx=__filename+\":94\";const parts_0=__xsdv__(parts,v=>{parts=v},(...args)=>{return parts(...args)});const length_1=__xsdv__(parts_0.val.length,v=>{parts_0.val.length=v},(...args)=>{return parts_0.val.length(...args)});return length_1})().val===0){(()=>{const click_0=__xsdv__(__rslv__(\"click\"),()=>{});const CALL_1=__xsdv__(click_0.val((()=>{mid.dbgctx=__filename+\":96\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":97\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+102).use(self).fillWidth(true).use(self).fillHeight(true).use(self).layout(\"center-row\").use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+107).use(self).id(\"iconLabel\",__namespace).use(self).visible(high.binding([high.chainRef(root,[\"item\",\"icon\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":110\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"},__filename+\"[l. 110] item.icon !== \\\"\\\"\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":111\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 111] theme.paddingSmall\")).use(self).width(high.binding([high.chainRef(root,[\"label\",\"bbox\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":112\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 112] label.bbox.height\")).use(self).height(high.binding([high.chainRef(root,[\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":113\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 113] width\")).use(self).color(high.binding([high.chainRef(root,[\"label\",\"color\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":114\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 114] label.color\")).use(self).text(high.binding([high.chainRef(root,[\"visible\"],__rslv__),high.chainRef(root,[\"item\",\"icon\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":115\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?\"[icon:\"+(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val+\"]\":\"\"},__filename+\"[l. 115] visible ? \\\"[icon:\\\" + item.icon + \\\"]\\\" : \\\"\\\"\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+118).use(self).id(\"label\",__namespace).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":121\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 121] theme.paddingSmall\")).use(self).color(high.binding([high.chainRef(root,[\"ancestorsEnabled\"],__rslv__),high.chainRef(root,[\"item\",\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__),high.chainRef(root,[\"theme\",\"disabledColor\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4)=>{return(()=>{mid.dbgctx=__filename+\":122\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:(()=>{mid.dbgctx=__filename+\":123\";const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val},__filename+\"[l. 122] ancestorsEnabled ? (item.highlighted ? theme.highlightColor : theme.primaryColor)\\n                                    : theme.disabledColor\")).use(self).text(high.binding([high.chainRef(root,[\"item\",\"text\"],__rslv__),high.chainRef(root,[\"item\",\"format\"],__rslv__)],(alias0,alias1)=>{return(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const CALL_1=__xsdv__(alias1_0.val((()=>{mid.dbgctx=__filename+\":124\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 124] item.format(item.text)\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+127).use(self).fillWidth(true).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+129).use(self).id(\"shortcutLabel\",__namespace).use(self).visible(high.binding([high.chainRef(root,[\"item\",\"shortcut\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":132\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val!==\"\"},__filename+\"[l. 132] item.shortcut !== \\\"\\\"\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":133\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 133] theme.paddingLarge\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"secondaryColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":134\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 134] theme.secondaryColor\")).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":135\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 135] theme.borderRadius\")).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+137).use(self).marginTop(2).use(self).marginLeft(2).use(self).marginRight(2).use(self).marginBottom(2).use(self).fontSize(high.binding([high.chainRef(root,[\"theme\",\"fontSizeSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":142\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 142] theme.fontSizeSmall\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":143\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 143] theme.primaryBackgroundColor\")).use(self).text(high.binding([high.chainRef(root,[\"item\",\"shortcut\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":144\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 144] item.shortcut\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+148).use(self).id(\"arrowLabel\",__namespace).use(self).visible(high.binding([high.chainRef(root,[\"item\",\"menu\"],__rslv__),high.chainRef(root,[\"thisMenu\"],__rslv__)],(alias0,alias1)=>{return!!(()=>{mid.dbgctx=__filename+\":151\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&!!(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 151] !! item.menu && !! thisMenu\")).use(self).marginLeft(2).use(self).marginRight(2).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"paddingMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":154\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 154] theme.paddingMedium\")).use(self).fontSize(high.binding([high.chainRef(root,[\"theme\",\"fontSizeSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":155\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 155] theme.fontSizeSmall\")).use(self).color(high.binding([high.chainRef(root,[\"label\",\"color\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":156\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 156] label.color\")).use(self).text(\"[icon:core-arrow_right]\").flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+160).use(self).visible(high.binding([high.chainRef(root,[\"item\",\"menu\"],__rslv__),high.chainRef(root,[\"thisMenu\"],__rslv__)],(alias0,alias1)=>{return!(()=>{mid.dbgctx=__filename+\":161\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&!!(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 161] ! item.menu && !! thisMenu\")).use(self).marginLeft(2).use(self).marginRight(2).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"paddingMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":164\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 164] theme.paddingMedium\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+168).use(self).ruler(high.binding([high.chainRef(root,[\"thisMenu\"],__rslv__),high.chainRef(root,[\"thisMenu\",\"menuRuler\"],__rslv__)],(alias0,alias1)=>{return!!(()=>{mid.dbgctx=__filename+\":169\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:null},__filename+\"[l. 169] !! thisMenu ? thisMenu.menuRuler : null\")).use(self).width(high.binding([high.chainRef(root,[\"iconLabel\",\"visible\"],__rslv__),high.chainRef(root,[\"iconLabel\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__),high.chainRef(root,[\"label\",\"visible\"],__rslv__),high.chainRef(root,[\"label\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"shortcutLabel\",\"visible\"],__rslv__),high.chainRef(root,[\"shortcutLabel\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__),high.chainRef(root,[\"thisMenu\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingMedium\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4,alias5,alias6,alias7,alias8,alias9)=>{return((()=>{mid.dbgctx=__filename+\":170\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val+(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:0)+((()=>{mid.dbgctx=__filename+\":171\";const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val?(()=>{const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val+(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:0)+((()=>{mid.dbgctx=__filename+\":172\";const alias5_0=__xsdv__(alias5,v=>{alias5=v},(...args)=>{return alias5(...args)});return alias5_0})().val?(()=>{const alias6_0=__xsdv__(alias6,v=>{alias6=v},(...args)=>{return alias6(...args)});return alias6_0})().val+(()=>{const alias7_0=__xsdv__(alias7,v=>{alias7=v},(...args)=>{return alias7(...args)});return alias7_0})().val:0)+(!!(()=>{mid.dbgctx=__filename+\":173\";const alias8_0=__xsdv__(alias8,v=>{alias8=v},(...args)=>{return alias8(...args)});return alias8_0})().val?(()=>{const alias9_0=__xsdv__(alias9,v=>{alias9=v},(...args)=>{return alias9(...args)});return alias9_0})().val+4:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val)},__filename+\"[l. 170] (iconLabel.visible ? iconLabel.bbox.width + theme.paddingSmall : 0) +\\n               (label.visible ? label.bbox.width + theme.paddingSmall : 0) +\\n               (shortcutLabel.visible ? shortcutLabel.bbox.width + theme.paddingLarge : 0) +\\n               (!! thisMenu ? theme.paddingMedium + 4 : theme.paddingSmall)\")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/MenuItemBase.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.MenuItemBase={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+39).use(self).id(\"item\",__namespace).use(self).property(\"isMenuItem\",true).use(self).property(\"selected\",false).use(self).property(\"highlighted\",false).use(self).property(\"menu\",null).use(self).property(\"menuOpened\",false).use(self).property(\"_menu\",null).use(self).property(\"_createMenu\",()=>{if(!(()=>{mid.dbgctx=__filename+\":54\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});return menu_0})().val){return}(()=>{mid.dbgctx=__filename+\":59\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});return _menu_0})().val=(()=>{const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});const CALL_1=__xsdv__(menu_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":62\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const get_1=__xsdv__(_menu_0.val.get,v=>{_menu_0.val.get=v},(...args)=>{return _menu_0.val.get(...args)});const CALL_2=__xsdv__(get_1.val(),()=>{});const onVisibleChanged_3=__xsdv__(CALL_2.val.onVisibleChanged,v=>{CALL_2.val.onVisibleChanged=v},(...args)=>{return CALL_2.val.onVisibleChanged(...args)});return onVisibleChanged_3})().val=()=>{if(!(()=>{mid.dbgctx=__filename+\":64\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const visible_1=__xsdv__(_menu_0.val.visible,v=>{_menu_0.val.visible=v},(...args)=>{return _menu_0.val.visible(...args)});return visible_1})().val){(()=>{mid.dbgctx=__filename+\":66\";const menuOpened_0=__xsdv__(__rslv__(\"menuOpened\"),()=>{});return menuOpened_0})().val=false;if((()=>{mid.dbgctx=__filename+\":67\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){(()=>{mid.dbgctx=__filename+\":69\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val=true}}};(()=>{mid.dbgctx=__filename+\":74\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const get_1=__xsdv__(_menu_0.val.get,v=>{_menu_0.val.get=v},(...args)=>{return _menu_0.val.get(...args)});const CALL_2=__xsdv__(get_1.val(),()=>{});const onPointerMove_3=__xsdv__(CALL_2.val.onPointerMove,v=>{CALL_2.val.onPointerMove=v},(...args)=>{return CALL_2.val.onPointerMove(...args)});return onPointerMove_3})().val=ev=>{let onItem=false;(()=>{mid.dbgctx=__filename+\":92\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});const children_1=__xsdv__(parent_0.val.children,v=>{parent_0.val.children=v},(...args)=>{return parent_0.val.children(...args)});const CALL_2=__xsdv__(children_1.val(),()=>{});const filter_3=__xsdv__(CALL_2.val.filter,v=>{CALL_2.val.filter=v},(...args)=>{return CALL_2.val.filter(...args)});const CALL_4=__xsdv__(filter_3.val(c=>{return(()=>{mid.dbgctx=__filename+\":79\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const enabled_1=__xsdv__(c_0.val.enabled,v=>{c_0.val.enabled=v},(...args)=>{return c_0.val.enabled(...args)});return enabled_1})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const visible_1=__xsdv__(c_0.val.visible,v=>{c_0.val.visible=v},(...args)=>{return c_0.val.visible(...args)});return visible_1})().val}),()=>{});const forEach_5=__xsdv__(CALL_4.val.forEach,v=>{CALL_4.val.forEach=v},(...args)=>{return CALL_4.val.forEach(...args)});const CALL_6=__xsdv__(forEach_5.val(child=>{const cBox=(()=>{mid.dbgctx=__filename+\":82\";const child_0=__xsdv__(child,v=>{child=v},(...args)=>{return child(...args)});const bbox_1=__xsdv__(child_0.val.bbox,v=>{child_0.val.bbox=v},(...args)=>{return child_0.val.bbox(...args)});return bbox_1})().val;if((()=>{mid.dbgctx=__filename+\":83\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const x_1=__xsdv__(ev_0.val.x,v=>{ev_0.val.x=v},(...args)=>{return ev_0.val.x(...args)});return x_1})().val>=(()=>{const cBox_0=__xsdv__(cBox,v=>{cBox=v},(...args)=>{return cBox(...args)});const x_1=__xsdv__(cBox_0.val.x,v=>{cBox_0.val.x=v},(...args)=>{return cBox_0.val.x(...args)});return x_1})().val&&(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const x_1=__xsdv__(ev_0.val.x,v=>{ev_0.val.x=v},(...args)=>{return ev_0.val.x(...args)});return x_1})().val<(()=>{const cBox_0=__xsdv__(cBox,v=>{cBox=v},(...args)=>{return cBox(...args)});const x_1=__xsdv__(cBox_0.val.x,v=>{cBox_0.val.x=v},(...args)=>{return cBox_0.val.x(...args)});return x_1})().val+(()=>{const cBox_0=__xsdv__(cBox,v=>{cBox=v},(...args)=>{return cBox(...args)});const width_1=__xsdv__(cBox_0.val.width,v=>{cBox_0.val.width=v},(...args)=>{return cBox_0.val.width(...args)});return width_1})().val&&(()=>{mid.dbgctx=__filename+\":84\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const y_1=__xsdv__(ev_0.val.y,v=>{ev_0.val.y=v},(...args)=>{return ev_0.val.y(...args)});return y_1})().val>=(()=>{const cBox_0=__xsdv__(cBox,v=>{cBox=v},(...args)=>{return cBox(...args)});const y_1=__xsdv__(cBox_0.val.y,v=>{cBox_0.val.y=v},(...args)=>{return cBox_0.val.y(...args)});return y_1})().val&&(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const y_1=__xsdv__(ev_0.val.y,v=>{ev_0.val.y=v},(...args)=>{return ev_0.val.y(...args)});return y_1})().val<(()=>{const cBox_0=__xsdv__(cBox,v=>{cBox=v},(...args)=>{return cBox(...args)});const y_1=__xsdv__(cBox_0.val.y,v=>{cBox_0.val.y=v},(...args)=>{return cBox_0.val.y(...args)});return y_1})().val+(()=>{const cBox_0=__xsdv__(cBox,v=>{cBox=v},(...args)=>{return cBox(...args)});const height_1=__xsdv__(cBox_0.val.height,v=>{cBox_0.val.height=v},(...args)=>{return cBox_0.val.height(...args)});return height_1})().val){if((()=>{mid.dbgctx=__filename+\":86\";const child_0=__xsdv__(child,v=>{child=v},(...args)=>{return child(...args)});return child_0})().val!==(()=>{const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val){(()=>{mid.dbgctx=__filename+\":88\";const child_0=__xsdv__(child,v=>{child=v},(...args)=>{return child(...args)});const selectItem_1=__xsdv__(child_0.val.selectItem,v=>{child_0.val.selectItem=v},(...args)=>{return child_0.val.selectItem(...args)});const CALL_2=__xsdv__(selectItem_1.val(true),()=>{});return CALL_2})().val}(()=>{mid.dbgctx=__filename+\":90\";const onItem_0=__xsdv__(onItem,v=>{onItem=v},(...args)=>{return onItem(...args)});return onItem_0})().val=true}}),()=>{});return CALL_6})().val;if(!(()=>{mid.dbgctx=__filename+\":94\";const onItem_0=__xsdv__(onItem,v=>{onItem=v},(...args)=>{return onItem(...args)});return onItem_0})().val&&!!(()=>{const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){(()=>{const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});const pointerMove_1=__xsdv__(thisMenu_0.val.pointerMove,v=>{thisMenu_0.val.pointerMove=v},(...args)=>{return thisMenu_0.val.pointerMove(...args)});const CALL_2=__xsdv__(pointerMove_1.val((()=>{mid.dbgctx=__filename+\":96\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_2})().val}};(()=>{mid.dbgctx=__filename+\":100\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const get_1=__xsdv__(_menu_0.val.get,v=>{_menu_0.val.get=v},(...args)=>{return _menu_0.val.get(...args)});const CALL_2=__xsdv__(get_1.val(),()=>{});const onKeyDown_3=__xsdv__(CALL_2.val.onKeyDown,v=>{CALL_2.val.onKeyDown=v},(...args)=>{return CALL_2.val.onKeyDown(...args)});return onKeyDown_3})().val=ev=>{if((()=>{mid.dbgctx=__filename+\":102\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){if((()=>{mid.dbgctx=__filename+\":104\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowLeft\"){(()=>{mid.dbgctx=__filename+\":107\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const visible_1=__xsdv__(_menu_0.val.visible,v=>{_menu_0.val.visible=v},(...args)=>{return _menu_0.val.visible(...args)});return visible_1})().val=false;(()=>{mid.dbgctx=__filename+\":108\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}else{if((()=>{mid.dbgctx=__filename+\":113\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowLeft\"){(()=>{mid.dbgctx=__filename+\":119\";const toSibling_0=__xsdv__(__rslv__(\"toSibling\"),()=>{});const CALL_1=__xsdv__(toSibling_0.val(-1,sibling=>{(()=>{mid.dbgctx=__filename+\":118\";const sibling_0=__xsdv__(sibling,v=>{sibling=v},(...args)=>{return sibling(...args)});const selectItem_1=__xsdv__(sibling_0.val.selectItem,v=>{sibling_0.val.selectItem=v},(...args)=>{return sibling_0.val.selectItem(...args)});const CALL_2=__xsdv__(selectItem_1.val(true),()=>{});return CALL_2})().val}),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":120\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":122\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowRight\"){(()=>{mid.dbgctx=__filename+\":128\";const toSibling_0=__xsdv__(__rslv__(\"toSibling\"),()=>{});const CALL_1=__xsdv__(toSibling_0.val(1,sibling=>{(()=>{mid.dbgctx=__filename+\":127\";const sibling_0=__xsdv__(sibling,v=>{sibling=v},(...args)=>{return sibling(...args)});const selectItem_1=__xsdv__(sibling_0.val.selectItem,v=>{sibling_0.val.selectItem=v},(...args)=>{return sibling_0.val.selectItem(...args)});const CALL_2=__xsdv__(selectItem_1.val(true),()=>{});return CALL_2})().val}),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":129\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}};(()=>{mid.dbgctx=__filename+\":134\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const get_1=__xsdv__(_menu_0.val.get,v=>{_menu_0.val.get=v},(...args)=>{return _menu_0.val.get(...args)});const CALL_2=__xsdv__(get_1.val(),()=>{});const onCascadingClose_3=__xsdv__(CALL_2.val.onCascadingClose,v=>{CALL_2.val.onCascadingClose=v},(...args)=>{return CALL_2.val.onCascadingClose(...args)});return onCascadingClose_3})().val=()=>{if((()=>{mid.dbgctx=__filename+\":136\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){(()=>{mid.dbgctx=__filename+\":138\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});const visible_1=__xsdv__(thisMenu_0.val.visible,v=>{thisMenu_0.val.visible=v},(...args)=>{return thisMenu_0.val.visible(...args)});return visible_1})().val=false;(()=>{mid.dbgctx=__filename+\":139\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});const cascadingClose_1=__xsdv__(thisMenu_0.val.cascadingClose,v=>{thisMenu_0.val.cascadingClose=v},(...args)=>{return thisMenu_0.val.cascadingClose(...args)});const CALL_2=__xsdv__(cascadingClose_1.val(),()=>{});return CALL_2})().val}}}).use(self).property(\"showMenu\",()=>{(()=>{mid.dbgctx=__filename+\":153\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val=false;if(!(()=>{mid.dbgctx=__filename+\":155\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});return menu_0})().val){return}if(!(()=>{mid.dbgctx=__filename+\":160\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});return _menu_0})().val){(()=>{mid.dbgctx=__filename+\":162\";const _createMenu_0=__xsdv__(__rslv__(\"_createMenu\"),()=>{});const CALL_1=__xsdv__(_createMenu_0.val(),()=>{});return CALL_1})().val}if(!!(()=>{mid.dbgctx=__filename+\":165\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){(()=>{const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const popup_1=__xsdv__(_menu_0.val.popup,v=>{_menu_0.val.popup=v},(...args)=>{return _menu_0.val.popup(...args)});const CALL_2=__xsdv__(popup_1.val((()=>{mid.dbgctx=__filename+\":167\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val,{horizontal:true}),()=>{});return CALL_2})().val}else{(()=>{const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const popup_1=__xsdv__(_menu_0.val.popup,v=>{_menu_0.val.popup=v},(...args)=>{return _menu_0.val.popup(...args)});const CALL_2=__xsdv__(popup_1.val((()=>{mid.dbgctx=__filename+\":171\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val,{horizontal:false}),()=>{});return CALL_2})().val}(()=>{mid.dbgctx=__filename+\":174\";const menuOpened_0=__xsdv__(__rslv__(\"menuOpened\"),()=>{});return menuOpened_0})().val=true}).use(self).property(\"closeMenu\",()=>{(()=>{mid.dbgctx=__filename+\":186\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const visible_1=__xsdv__(_menu_0.val.visible,v=>{_menu_0.val.visible=v},(...args)=>{return _menu_0.val.visible(...args)});return visible_1})().val=false}).use(self).property(\"unselectSiblings\",()=>{(()=>{mid.dbgctx=__filename+\":208\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});const children_1=__xsdv__(parent_0.val.children,v=>{parent_0.val.children=v},(...args)=>{return parent_0.val.children(...args)});const CALL_2=__xsdv__(children_1.val(),()=>{});const filter_3=__xsdv__(CALL_2.val.filter,v=>{CALL_2.val.filter=v},(...args)=>{return CALL_2.val.filter(...args)});const CALL_4=__xsdv__(filter_3.val(c=>{return(()=>{mid.dbgctx=__filename+\":200\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});return c_0})().val!==(()=>{const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const isMenuItem_1=__xsdv__(c_0.val.isMenuItem,v=>{c_0.val.isMenuItem=v},(...args)=>{return c_0.val.isMenuItem(...args)});return isMenuItem_1})().val}),()=>{});const forEach_5=__xsdv__(CALL_4.val.forEach,v=>{CALL_4.val.forEach=v},(...args)=>{return CALL_4.val.forEach(...args)});const CALL_6=__xsdv__(forEach_5.val(c=>{(()=>{mid.dbgctx=__filename+\":203\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const selected_1=__xsdv__(c_0.val.selected,v=>{c_0.val.selected=v},(...args)=>{return c_0.val.selected(...args)});return selected_1})().val=false;if((()=>{mid.dbgctx=__filename+\":204\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const menuOpened_1=__xsdv__(c_0.val.menuOpened,v=>{c_0.val.menuOpened=v},(...args)=>{return c_0.val.menuOpened(...args)});return menuOpened_1})().val){(()=>{mid.dbgctx=__filename+\":206\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const closeMenu_1=__xsdv__(c_0.val.closeMenu,v=>{c_0.val.closeMenu=v},(...args)=>{return c_0.val.closeMenu(...args)});const CALL_2=__xsdv__(closeMenu_1.val(),()=>{});return CALL_2})().val}}),()=>{});return CALL_6})().val}).use(self).property(\"selectItem\",activate=>{(()=>{mid.dbgctx=__filename+\":222\";const unselectSiblings_0=__xsdv__(__rslv__(\"unselectSiblings\"),()=>{});const CALL_1=__xsdv__(unselectSiblings_0.val(),()=>{});return CALL_1})().val;if((()=>{mid.dbgctx=__filename+\":224\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});return menu_0})().val&&(()=>{const activate_0=__xsdv__(activate,v=>{activate=v},(...args)=>{return activate(...args)});return activate_0})().val){if(!(()=>{mid.dbgctx=__filename+\":226\";const menuOpened_0=__xsdv__(__rslv__(\"menuOpened\"),()=>{});return menuOpened_0})().val){(()=>{mid.dbgctx=__filename+\":228\";const showMenu_0=__xsdv__(__rslv__(\"showMenu\"),()=>{});const CALL_1=__xsdv__(showMenu_0.val(),()=>{});return CALL_1})().val}}else{(()=>{mid.dbgctx=__filename+\":233\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val=true}}).use(self).property(\"hasSiblingMenuOpen\",()=>{return(()=>{mid.dbgctx=__filename+\":250\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});const children_1=__xsdv__(parent_0.val.children,v=>{parent_0.val.children=v},(...args)=>{return parent_0.val.children(...args)});const CALL_2=__xsdv__(children_1.val(),()=>{});const filter_3=__xsdv__(CALL_2.val.filter,v=>{CALL_2.val.filter=v},(...args)=>{return CALL_2.val.filter(...args)});const CALL_4=__xsdv__(filter_3.val(c=>{return(()=>{mid.dbgctx=__filename+\":249\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});return c_0})().val!==(()=>{const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const menuOpened_1=__xsdv__(c_0.val.menuOpened,v=>{c_0.val.menuOpened=v},(...args)=>{return c_0.val.menuOpened(...args)});return menuOpened_1})().val}),()=>{});const length_5=__xsdv__(CALL_4.val.length,v=>{CALL_4.val.length=v},(...args)=>{return CALL_4.val.length(...args)});return length_5})().val>0}).use(self).property(\"toSibling\",(direction,f)=>{const siblings=(()=>{const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});const children_1=__xsdv__(parent_0.val.children,v=>{parent_0.val.children=v},(...args)=>{return parent_0.val.children(...args)});const CALL_2=__xsdv__(children_1.val(),()=>{});const filter_3=__xsdv__(CALL_2.val.filter,v=>{CALL_2.val.filter=v},(...args)=>{return CALL_2.val.filter(...args)});const CALL_4=__xsdv__(filter_3.val(c=>{return(()=>{mid.dbgctx=__filename+\":265\";const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const isMenuItem_1=__xsdv__(c_0.val.isMenuItem,v=>{c_0.val.isMenuItem=v},(...args)=>{return c_0.val.isMenuItem(...args)});return isMenuItem_1})().val&&(()=>{const c_0=__xsdv__(c,v=>{c=v},(...args)=>{return c(...args)});const enabled_1=__xsdv__(c_0.val.enabled,v=>{c_0.val.enabled=v},(...args)=>{return c_0.val.enabled(...args)});return enabled_1})().val}),()=>{});return CALL_4})().val;let selfPos=-1;for(let i=0;(()=>{mid.dbgctx=__filename+\":267\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val<(()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val;++(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val){if((()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const ACCESS_1=__xsdv__(siblings_0.val[(()=>{mid.dbgctx=__filename+\":269\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val],v=>{siblings_0.val[(()=>{mid.dbgctx=__filename+\":269\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val]=v},(...args)=>{return siblings_0.val[(()=>{mid.dbgctx=__filename+\":269\";const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val](...args)});return ACCESS_1})().val===(()=>{const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val){(()=>{mid.dbgctx=__filename+\":271\";const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val=(()=>{const i_0=__xsdv__(i,v=>{i=v},(...args)=>{return i(...args)});return i_0})().val;break}}if((()=>{mid.dbgctx=__filename+\":276\";const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val!==-1){if((()=>{mid.dbgctx=__filename+\":278\";const direction_0=__xsdv__(direction,v=>{direction=v},(...args)=>{return direction(...args)});return direction_0})().val===-1){(()=>{const f_0=__xsdv__(f,v=>{f=v},(...args)=>{return f(...args)});const CALL_1=__xsdv__(f_0.val((()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const ACCESS_1=__xsdv__(siblings_0.val[((()=>{mid.dbgctx=__filename+\":280\";const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val+(()=>{const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val-1)%(()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val],v=>{siblings_0.val[((()=>{mid.dbgctx=__filename+\":280\";const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val+(()=>{const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val-1)%(()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val]=v},(...args)=>{return siblings_0.val[((()=>{mid.dbgctx=__filename+\":280\";const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val+(()=>{const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val-1)%(()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val](...args)});return ACCESS_1})().val),()=>{});return CALL_1})().val}else if((()=>{mid.dbgctx=__filename+\":282\";const direction_0=__xsdv__(direction,v=>{direction=v},(...args)=>{return direction(...args)});return direction_0})().val===1){(()=>{const f_0=__xsdv__(f,v=>{f=v},(...args)=>{return f(...args)});const CALL_1=__xsdv__(f_0.val((()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const ACCESS_1=__xsdv__(siblings_0.val[((()=>{mid.dbgctx=__filename+\":284\";const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val+1)%(()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val],v=>{siblings_0.val[((()=>{mid.dbgctx=__filename+\":284\";const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val+1)%(()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val]=v},(...args)=>{return siblings_0.val[((()=>{mid.dbgctx=__filename+\":284\";const selfPos_0=__xsdv__(selfPos,v=>{selfPos=v},(...args)=>{return selfPos(...args)});return selfPos_0})().val+1)%(()=>{const siblings_0=__xsdv__(siblings,v=>{siblings=v},(...args)=>{return siblings(...args)});const length_1=__xsdv__(siblings_0.val.length,v=>{siblings_0.val.length=v},(...args)=>{return siblings_0.val.length(...args)});return length_1})().val](...args)});return ACCESS_1})().val),()=>{});return CALL_1})().val}}}).use(self).onInitialization(()=>{if((()=>{mid.dbgctx=__filename+\":291\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});return menu_0})().val&&!(()=>{const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});return _menu_0})().val){(()=>{mid.dbgctx=__filename+\":293\";const _createMenu_0=__xsdv__(__rslv__(\"_createMenu\"),()=>{});const CALL_1=__xsdv__(_createMenu_0.val(),()=>{});return CALL_1})().val}}).use(self).onAncestorsVisibleChanged(()=>{if(!(()=>{mid.dbgctx=__filename+\":299\";const ancestorsVisible_0=__xsdv__(__rslv__(\"ancestorsVisible\"),()=>{});return ancestorsVisible_0})().val){if((()=>{mid.dbgctx=__filename+\":301\";const menuOpened_0=__xsdv__(__rslv__(\"menuOpened\"),()=>{});return menuOpened_0})().val){(()=>{mid.dbgctx=__filename+\":303\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const visible_1=__xsdv__(_menu_0.val.visible,v=>{_menu_0.val.visible=v},(...args)=>{return _menu_0.val.visible(...args)});return visible_1})().val=false}(()=>{mid.dbgctx=__filename+\":305\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val=false}}).use(self).onSelectedChanged(()=>{if((()=>{mid.dbgctx=__filename+\":311\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val){(()=>{mid.dbgctx=__filename+\":313\";const focus_0=__xsdv__(__rslv__(\"focus\"),()=>{});return focus_0})().val=true}}).use(self).onFocusChanged(()=>{if(!(()=>{mid.dbgctx=__filename+\":319\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){if((()=>{mid.dbgctx=__filename+\":321\";const focus_0=__xsdv__(__rslv__(\"focus\"),()=>{});return focus_0})().val){(()=>{mid.dbgctx=__filename+\":323\";const selectItem_0=__xsdv__(__rslv__(\"selectItem\"),()=>{});const CALL_1=__xsdv__(selectItem_0.val(false),()=>{});return CALL_1})().val}else{(()=>{mid.dbgctx=__filename+\":327\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val=false}}}).use(self).onContainsMouseChanged(()=>{if((()=>{mid.dbgctx=__filename+\":334\";const containsMouse_0=__xsdv__(__rslv__(\"containsMouse\"),()=>{});return containsMouse_0})().val){if((()=>{mid.dbgctx=__filename+\":336\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){(()=>{mid.dbgctx=__filename+\":338\";const selectItem_0=__xsdv__(__rslv__(\"selectItem\"),()=>{});const CALL_1=__xsdv__(selectItem_0.val(true),()=>{});return CALL_1})().val}else{if((()=>{mid.dbgctx=__filename+\":342\";const hasSiblingMenuOpen_0=__xsdv__(__rslv__(\"hasSiblingMenuOpen\"),()=>{});const CALL_1=__xsdv__(hasSiblingMenuOpen_0.val(),()=>{});return CALL_1})().val){(()=>{mid.dbgctx=__filename+\":344\";const selectItem_0=__xsdv__(__rslv__(\"selectItem\"),()=>{});const CALL_1=__xsdv__(selectItem_0.val(true),()=>{});return CALL_1})().val}else{(()=>{mid.dbgctx=__filename+\":348\";const selectItem_0=__xsdv__(__rslv__(\"selectItem\"),()=>{});const CALL_1=__xsdv__(selectItem_0.val(false),()=>{});return CALL_1})().val}}}else{(()=>{mid.dbgctx=__filename+\":354\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val=false}}).use(self).onClick(ev=>{if((()=>{mid.dbgctx=__filename+\":360\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){if((()=>{mid.dbgctx=__filename+\":362\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});return menu_0})().val){(()=>{mid.dbgctx=__filename+\":364\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}else{if((()=>{mid.dbgctx=__filename+\":369\";const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});return menu_0})().val&&!(()=>{const menuOpened_0=__xsdv__(__rslv__(\"menuOpened\"),()=>{});return menuOpened_0})().val){(()=>{mid.dbgctx=__filename+\":371\";const showMenu_0=__xsdv__(__rslv__(\"showMenu\"),()=>{});const CALL_1=__xsdv__(showMenu_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":372\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":374\";const menuOpened_0=__xsdv__(__rslv__(\"menuOpened\"),()=>{});return menuOpened_0})().val){(()=>{mid.dbgctx=__filename+\":376\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const visible_1=__xsdv__(_menu_0.val.visible,v=>{_menu_0.val.visible=v},(...args)=>{return _menu_0.val.visible(...args)});return visible_1})().val=false;(()=>{mid.dbgctx=__filename+\":377\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}}).use(self).onKeyDown(ev=>{if((()=>{mid.dbgctx=__filename+\":384\";const thisMenu_0=__xsdv__(__rslv__(\"thisMenu\"),()=>{});return thisMenu_0})().val){if((()=>{mid.dbgctx=__filename+\":386\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val&&(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowRight\"&&(()=>{const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});return menu_0})().val){(()=>{mid.dbgctx=__filename+\":389\";const showMenu_0=__xsdv__(__rslv__(\"showMenu\"),()=>{});const CALL_1=__xsdv__(showMenu_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":390\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":392\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\" \"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"){if((()=>{mid.dbgctx=__filename+\":394\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val){(()=>{const item_0=__xsdv__(__rslv__(\"item\"),()=>{});const click_1=__xsdv__(item_0.val.click,v=>{item_0.val.click=v},(...args)=>{return item_0.val.click(...args)});const CALL_2=__xsdv__(click_1.val((()=>{mid.dbgctx=__filename+\":396\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_2})().val}else{(()=>{mid.dbgctx=__filename+\":400\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}}else{if((()=>{mid.dbgctx=__filename+\":408\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\" \"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowDown\"){if((()=>{mid.dbgctx=__filename+\":410\";const selected_0=__xsdv__(__rslv__(\"selected\"),()=>{});return selected_0})().val){(()=>{const item_0=__xsdv__(__rslv__(\"item\"),()=>{});const click_1=__xsdv__(item_0.val.click,v=>{item_0.val.click=v},(...args)=>{return item_0.val.click(...args)});const CALL_2=__xsdv__(click_1.val((()=>{mid.dbgctx=__filename+\":412\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});return ev_0})().val),()=>{});return CALL_2})().val}(()=>{mid.dbgctx=__filename+\":414\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}}).use(self).canFocus(high.binding([high.chainRef(root,[\"thisMenu\"],__rslv__)],alias0=>{return!!(()=>{mid.dbgctx=__filename+\":420\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 420] !! thisMenu\")).use(self).width(high.binding([high.chainRef(root,[\"thisMenu\"],__rslv__),high.chainRef(root,[\"thisMenu\",\"menuRuler\",\"max\",\"width\"],__rslv__)],(alias0,alias1)=>{return!!(()=>{mid.dbgctx=__filename+\":422\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:-1},__filename+\"[l. 422] !! thisMenu ? thisMenu.menuRuler.max.width : -1\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":423\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 423] theme.itemHeightMedium\")).use(self).highlighted(high.binding([high.chainRef(root,[\"selected\"],__rslv__),high.chainRef(root,[\"menuOpened\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":425\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val||(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 425] selected || menuOpened\")).use(self).color(high.binding([high.chainRef(root,[\"highlighted\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":427\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:\"transparent\"},__filename+\"[l. 427] highlighted ? theme.highlightBackgroundColor\\n                       : \\\"transparent\\\"\")).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/MenuSeparator.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.MenuSeparator={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+31).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":32\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 32] theme.paddingMedium\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":33\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 33] theme.paddingMedium\")).use(self).fillWidth(true).use(self).height(1).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":36\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 36] theme.borderColor\")).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Overlay.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Overlay={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+34).use(self).id(\"popup\",__namespace).use(self).property(\"dim\",false).use(self).property(\"_opacity\",0).use(self).property(\"show\",()=>{(()=>{mid.dbgctx=__filename+\":49\";const visible_0=__xsdv__(__rslv__(\"visible\"),()=>{});return visible_0})().val=true}).use(self).position(\"global\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).trapFocus(true).use(self).visible(false).use(self).color(high.binding([high.chainRef(root,[\"popup\",\"_opacity\"],__rslv__),high.chainRef(root,[\"rgba\"],__rslv__)],(alias0,alias1)=>{return(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const CALL_1=__xsdv__(alias1_0.val(0,0,0,(()=>{mid.dbgctx=__filename+\":58\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 58] rgba(0, 0, 0, popup._opacity)\")).use(self)._opacityTransition((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+60).use(self).duration(500).use(self).easing(\"InOutQuad\").flushPending();return self})(__rslv__)).use(self).onVisibleChanged(()=>{if((()=>{mid.dbgctx=__filename+\":64\";const visible_0=__xsdv__(__rslv__(\"visible\"),()=>{});return visible_0})().val){(()=>{const documentRoot_0=__xsdv__(__rslv__(\"documentRoot\"),()=>{});const add_1=__xsdv__(documentRoot_0.val.add,v=>{documentRoot_0.val.add=v},(...args)=>{return documentRoot_0.val.add(...args)});const CALL_2=__xsdv__(add_1.val((()=>{mid.dbgctx=__filename+\":66\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val),()=>{});return CALL_2})().val}else{(()=>{mid.dbgctx=__filename+\":70\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});const parent_1=__xsdv__(self_0.val.parent,v=>{self_0.val.parent=v},(...args)=>{return self_0.val.parent(...args)});return parent_1})().val=null}}).use(self).onDimChanged(()=>{if((()=>{mid.dbgctx=__filename+\":76\";const dim_0=__xsdv__(__rslv__(\"dim\"),()=>{});return dim_0})().val){(()=>{mid.dbgctx=__filename+\":78\";const _opacity_0=__xsdv__(__rslv__(\"_opacity\"),()=>{});return _opacity_0})().val=0.6}}).use(self).onContextMenu(ev=>{(()=>{mid.dbgctx=__filename+\":82\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Page.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Page={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+47).use(self).id(\"page\",__namespace).use(self).defaultContainer(\"contentArea\").use(self).property(\"headerAdd\",function(child){self.find(\"headerArea\",__namespace).add(child);return self}).use(self).property(\"thisPage\",(()=>{mid.dbgctx=__filename+\":53\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val).use(self).property(\"shortcutReceiver\",(()=>{mid.dbgctx=__filename+\":54\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val).use(self).property(\"scrollable\",true).use(self).property(\"pageStack\",null).use(self).property(\"currentPage\",false).use(self).property(\"contentTemplate\",null).use(self).property(\"loading\",false).use(self).property(\"frozen\",high.binding([high.chainRef(root,[\"openingPercentage\"],__rslv__),high.chainRef(root,[\"currentPage\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":61\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val<1||!(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 61] openingPercentage < 1 || ! currentPage\")).use(self).property(\"openingPercentage\",0).use(self).property(\"show\",immediate=>{if((()=>{mid.dbgctx=__filename+\":75\";const contentTemplate_0=__xsdv__(__rslv__(\"contentTemplate\"),()=>{});return contentTemplate_0})().val){(()=>{mid.dbgctx=__filename+\":77\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=true}(()=>{mid.dbgctx=__filename+\":80\";const openingPercentage_0=__xsdv__(__rslv__(\"openingPercentage\"),()=>{});return openingPercentage_0})().val=1}).use(self).property(\"close\",callback=>{(()=>{mid.dbgctx=__filename+\":94\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const closeCallback_1=__xsdv__(priv_0.val.closeCallback,v=>{priv_0.val.closeCallback=v},(...args)=>{return priv_0.val.closeCallback(...args)});return closeCallback_1})().val=(()=>{const callback_0=__xsdv__(callback,v=>{callback=v},(...args)=>{return callback(...args)});return callback_0})().val;(()=>{mid.dbgctx=__filename+\":95\";const openingPercentage_0=__xsdv__(__rslv__(\"openingPercentage\"),()=>{});return openingPercentage_0})().val=0}).use(self).property(\"loadContent\",()=>{const item=(()=>{mid.dbgctx=__filename+\":100\";const contentTemplate_0=__xsdv__(__rslv__(\"contentTemplate\"),()=>{});const CALL_1=__xsdv__(contentTemplate_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":101\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=false;(()=>{const contentArea_0=__xsdv__(__rslv__(\"contentArea\"),()=>{});const add_1=__xsdv__(contentArea_0.val.add,v=>{contentArea_0.val.add=v},(...args)=>{return contentArea_0.val.add(...args)});const CALL_2=__xsdv__(add_1.val((()=>{mid.dbgctx=__filename+\":102\";const item_0=__xsdv__(item,v=>{item=v},(...args)=>{return item(...args)});return item_0})().val),()=>{});return CALL_2})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+105).use(self).id(\"priv\",__namespace).use(self).property(\"frozenInternal\",false).use(self).property(\"closeCallback\",null).flushPending();return self})(__rslv__)).use(self).position(high.binding([high.chainRef(root,[\"priv\",\"frozenInternal\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":112\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?\"global\":\"inline\"},__filename+\"[l. 112] priv.frozenInternal ? \\\"global\\\" : \\\"inline\\\"\")).use(self).width(high.binding([high.chainRef(root,[\"documentRoot\",\"windowWidth\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":114\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 114] documentRoot.windowWidth\")).use(self).height(high.binding([high.chainRef(root,[\"priv\",\"frozenInternal\"],__rslv__),high.chainRef(root,[\"documentRoot\",\"windowHeight\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":115\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:-1},__filename+\"[l. 115] priv.frozenInternal ? documentRoot.windowHeight : -1\")).use(self).minHeight(high.binding([high.chainRef(root,[\"documentRoot\",\"windowHeight\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":116\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 116] documentRoot.windowHeight\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"openingPercentage\"],__rslv__),high.chainRef(root,[\"width\"],__rslv__)],(alias0,alias1)=>{return(1-(()=>{mid.dbgctx=__filename+\":118\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val)*(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 118] (1 - openingPercentage) * width\")).use(self).openingPercentageTransition((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+120).use(self).duration(700).use(self).easing(\"InOutQuad\").flushPending();return self})(__rslv__)).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":122\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 122] theme.primaryBackgroundColor\")).use(self).enabled(high.binding([high.chainRef(root,[\"frozen\"],__rslv__)],alias0=>{return!(()=>{mid.dbgctx=__filename+\":124\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 124] ! frozen\")).use(self).trapFocus(true).use(self).style(high.binding([high.chainRef(root,[\"openingPercentage\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":128\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val<1?[\"sh-no-scrollbars\",\"sh-dropshadow\"]:[\"sh-no-scrollbars\"]},__filename+\"[l. 128] openingPercentage < 1 ? [\\\"sh-no-scrollbars\\\", \\\"sh-dropshadow\\\"]\\n                                 : [\\\"sh-no-scrollbars\\\"]\")).use(self).onOpeningPercentageChanged(()=>{if((()=>{mid.dbgctx=__filename+\":134\";const openingPercentage_0=__xsdv__(__rslv__(\"openingPercentage\"),()=>{});return openingPercentage_0})().val===0){if((()=>{mid.dbgctx=__filename+\":137\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const closeCallback_1=__xsdv__(priv_0.val.closeCallback,v=>{priv_0.val.closeCallback=v},(...args)=>{return priv_0.val.closeCallback(...args)});return closeCallback_1})().val){(()=>{mid.dbgctx=__filename+\":139\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const closeCallback_1=__xsdv__(priv_0.val.closeCallback,v=>{priv_0.val.closeCallback=v},(...args)=>{return priv_0.val.closeCallback(...args)});const CALL_2=__xsdv__(closeCallback_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":140\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const closeCallback_1=__xsdv__(priv_0.val.closeCallback,v=>{priv_0.val.closeCallback=v},(...args)=>{return priv_0.val.closeCallback(...args)});return closeCallback_1})().val=null}}else if((()=>{mid.dbgctx=__filename+\":143\";const openingPercentage_0=__xsdv__(__rslv__(\"openingPercentage\"),()=>{});return openingPercentage_0})().val===1){if((()=>{mid.dbgctx=__filename+\":146\";const contentTemplate_0=__xsdv__(__rslv__(\"contentTemplate\"),()=>{});return contentTemplate_0})().val&&(()=>{const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val){(()=>{mid.dbgctx=__filename+\":148\";const loadContentTimer_0=__xsdv__(__rslv__(\"loadContentTimer\"),()=>{});const start_1=__xsdv__(loadContentTimer_0.val.start,v=>{loadContentTimer_0.val.start=v},(...args)=>{return loadContentTimer_0.val.start(...args)});const CALL_2=__xsdv__(start_1.val(),()=>{});return CALL_2})().val}}}).use(self).onFrozenChanged(()=>{if((()=>{mid.dbgctx=__filename+\":155\";const frozen_0=__xsdv__(__rslv__(\"frozen\"),()=>{});return frozen_0})().val){const scrollTop=(()=>{mid.dbgctx=__filename+\":157\";const documentRoot_0=__xsdv__(__rslv__(\"documentRoot\"),()=>{});const contentY_1=__xsdv__(documentRoot_0.val.contentY,v=>{documentRoot_0.val.contentY=v},(...args)=>{return documentRoot_0.val.contentY(...args)});return contentY_1})().val;(()=>{mid.dbgctx=__filename+\":158\";const documentRoot_0=__xsdv__(__rslv__(\"documentRoot\"),()=>{});const contentY_1=__xsdv__(documentRoot_0.val.contentY,v=>{documentRoot_0.val.contentY=v},(...args)=>{return documentRoot_0.val.contentY(...args)});return contentY_1})().val=0;(()=>{mid.dbgctx=__filename+\":159\";const contentArea_0=__xsdv__(__rslv__(\"contentArea\"),()=>{});const minHeight_1=__xsdv__(contentArea_0.val.minHeight,v=>{contentArea_0.val.minHeight=v},(...args)=>{return contentArea_0.val.minHeight(...args)});return minHeight_1})().val=(()=>{const contentArea_0=__xsdv__(__rslv__(\"contentArea\"),()=>{});const contentHeight_1=__xsdv__(contentArea_0.val.contentHeight,v=>{contentArea_0.val.contentHeight=v},(...args)=>{return contentArea_0.val.contentHeight(...args)});return contentHeight_1})().val;(()=>{mid.dbgctx=__filename+\":160\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const frozenInternal_1=__xsdv__(priv_0.val.frozenInternal,v=>{priv_0.val.frozenInternal=v},(...args)=>{return priv_0.val.frozenInternal(...args)});return frozenInternal_1})().val=true;(()=>{mid.dbgctx=__filename+\":161\";const page_0=__xsdv__(__rslv__(\"page\"),()=>{});const contentY_1=__xsdv__(page_0.val.contentY,v=>{page_0.val.contentY=v},(...args)=>{return page_0.val.contentY(...args)});return contentY_1})().val=(()=>{const scrollTop_0=__xsdv__(scrollTop,v=>{scrollTop=v},(...args)=>{return scrollTop(...args)});return scrollTop_0})().val}else{const scrollTop=(()=>{mid.dbgctx=__filename+\":165\";const page_0=__xsdv__(__rslv__(\"page\"),()=>{});const contentY_1=__xsdv__(page_0.val.contentY,v=>{page_0.val.contentY=v},(...args)=>{return page_0.val.contentY(...args)});return contentY_1})().val;(()=>{mid.dbgctx=__filename+\":166\";const page_0=__xsdv__(__rslv__(\"page\"),()=>{});const contentY_1=__xsdv__(page_0.val.contentY,v=>{page_0.val.contentY=v},(...args)=>{return page_0.val.contentY(...args)});return contentY_1})().val=0;(()=>{mid.dbgctx=__filename+\":167\";const contentArea_0=__xsdv__(__rslv__(\"contentArea\"),()=>{});const minHeight_1=__xsdv__(contentArea_0.val.minHeight,v=>{contentArea_0.val.minHeight=v},(...args)=>{return contentArea_0.val.minHeight(...args)});return minHeight_1})().val=0;(()=>{mid.dbgctx=__filename+\":168\";const contentArea_0=__xsdv__(__rslv__(\"contentArea\"),()=>{});const contentY_1=__xsdv__(contentArea_0.val.contentY,v=>{contentArea_0.val.contentY=v},(...args)=>{return contentArea_0.val.contentY(...args)});return contentY_1})().val=0;(()=>{mid.dbgctx=__filename+\":169\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const frozenInternal_1=__xsdv__(priv_0.val.frozenInternal,v=>{priv_0.val.frozenInternal=v},(...args)=>{return priv_0.val.frozenInternal(...args)});return frozenInternal_1})().val=false;(()=>{mid.dbgctx=__filename+\":170\";const documentRoot_0=__xsdv__(__rslv__(\"documentRoot\"),()=>{});const contentY_1=__xsdv__(documentRoot_0.val.contentY,v=>{documentRoot_0.val.contentY=v},(...args)=>{return documentRoot_0.val.contentY(...args)});return contentY_1})().val=(()=>{const scrollTop_0=__xsdv__(scrollTop,v=>{scrollTop=v},(...args)=>{return scrollTop(...args)});return scrollTop_0})().val}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+174).use(self).id(\"contentArea\",__namespace).use(self).width(high.binding([high.chainRef(root,[\"parent\",\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":177\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 177] parent.width\")).use(self).height(high.binding([high.chainRef(root,[\"page\",\"scrollable\"],__rslv__),high.chainRef(root,[\"documentRoot\",\"windowHeight\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":178\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?-1:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 178] page.scrollable ? -1 : documentRoot.windowHeight\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+181).use(self).id(\"headerArea\",__namespace).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Timer\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Timer\").objectLocation(__filename+\":\"+185).use(self).id(\"loadContentTimer\",__namespace).use(self).interval(0).use(self).repeat(false).use(self).onTimeout(()=>{(()=>{mid.dbgctx=__filename+\":193\";const page_0=__xsdv__(__rslv__(\"page\"),()=>{});const loadContent_1=__xsdv__(page_0.val.loadContent,v=>{page_0.val.loadContent=v},(...args)=>{return page_0.val.loadContent(...args)});const CALL_2=__xsdv__(loadContent_1.val(),()=>{});return CALL_2})().val}).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/PageHeader.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1293,mid,high)=>{const modules={mod1293:mod1293,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.PageHeader={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+25).use(self).id(\"header\",__namespace).use(self).property(\"firstAdd\",function(child){self.find(\"firstBox\",__namespace).add(child);return self}).use(self).property(\"secondAdd\",function(child){self.find(\"secondBox\",__namespace).add(child);return self}).use(self).property(\"title\",\"\").use(self).property(\"subtitle\",\"\").use(self).property(\"active\",true).use(self).position(\"global\").use(self).y(high.binding([high.chainRef(root,[\"active\"],__rslv__),high.chainRef(root,[\"height\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":37\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?0:-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 37] active ? 0 : -height\")).use(self).yTransition((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+38).use(self).duration(700).use(self).easing(\"InOutQuad\").flushPending();return self})(__rslv__)).use(self).width(high.binding([high.chainRef(root,[\"documentRoot\",\"windowWidth\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":40\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 40] documentRoot.windowWidth\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":41\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 41] theme.itemHeightLarge\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\",\"alpha\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":43\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(0.8),()=>{});return CALL_1})().val},__filename+\"[l. 43] theme.primaryBackgroundColor.alpha(0.8)\")).use(self).style(\"sh-dropshadow\").use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+48).use(self).id(\"firstBox\",__namespace).use(self).position(\"free\").use(self).height(high.binding([high.chainRef(root,[\"header\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":52\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 52] header.height\")).use(self).layout(\"center-row\").flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+57).use(self).property(\"margin\",high.binding([high.chainRef(root,[\"firstBox\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"secondBox\",\"bbox\",\"width\"],__rslv__)],(alias0,alias1)=>{return Math.max((()=>{mid.dbgctx=__filename+\":58\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val,(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)},__filename+\"[l. 58] Math.max(firstBox.bbox.width, secondBox.bbox.width)\")).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"header\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":61\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 61] header.height\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"margin\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":62\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 62] margin\")).use(self).marginRight(high.binding([high.chainRef(root,[\"margin\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":63\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 63] margin\")).use(self).layout(\"center-column\").use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+67).use(self).text(high.binding([high.chainRef(root,[\"header\",\"title\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":68\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 68] header.title\")).use(self).bold(true).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+72).use(self).fontSize(high.binding([high.chainRef(root,[\"theme\",\"fontSizeSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":73\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 73] theme.fontSizeSmall\")).use(self).text(high.binding([high.chainRef(root,[\"header\",\"subtitle\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":74\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 74] header.subtitle\")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+78).use(self).id(\"secondBox\",__namespace).use(self).position(\"free\").use(self).origin(\"top-right\").use(self).height(high.binding([high.chainRef(root,[\"header\",\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":83\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 83] header.height\")).use(self).layout(\"center-row\").flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/PageStack.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/fengshui\",\"shellfish/mid\",\"shellfish/high\"],(fengshui,mid,high)=>{const modules={fengshui:fengshui,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.PageStack={create:__pRslv__=>{const root=elementLookup(\"Object\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+39).use(self).id(\"pageStack\",__namespace).use(self).property(\"initialPage\",\"\").use(self).property(\"loading\",true).use(self).property(\"pages\",[]).use(self).property(\"pushPage\",(target,props)=>{if(typeof(()=>{mid.dbgctx=__filename+\":64\";const target_0=__xsdv__(target,v=>{target=v},(...args)=>{return target(...args)});return target_0})().val===\"function\"){const page=(()=>{mid.dbgctx=__filename+\":66\";const target_0=__xsdv__(target,v=>{target=v},(...args)=>{return target(...args)});const CALL_1=__xsdv__(target_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":67\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=false;if((()=>{mid.dbgctx=__filename+\":68\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val>0){(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const ACCESS_1=__xsdv__(pages_0.val[(()=>{mid.dbgctx=__filename+\":70\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1],v=>{pages_0.val[(()=>{mid.dbgctx=__filename+\":70\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1]=v},(...args)=>{return pages_0.val[(()=>{mid.dbgctx=__filename+\":70\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1](...args)});const frozen_2=__xsdv__(ACCESS_1.val.frozen,v=>{ACCESS_1.val.frozen=v},(...args)=>{return ACCESS_1.val.frozen(...args)});return frozen_2})().val=true;(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const ACCESS_1=__xsdv__(pages_0.val[(()=>{mid.dbgctx=__filename+\":71\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1],v=>{pages_0.val[(()=>{mid.dbgctx=__filename+\":71\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1]=v},(...args)=>{return pages_0.val[(()=>{mid.dbgctx=__filename+\":71\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1](...args)});const currentPage_2=__xsdv__(ACCESS_1.val.currentPage,v=>{ACCESS_1.val.currentPage=v},(...args)=>{return ACCESS_1.val.currentPage(...args)});return currentPage_2})().val=false}(()=>{mid.dbgctx=__filename+\":73\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const pageStack_1=__xsdv__(page_0.val.pageStack,v=>{page_0.val.pageStack=v},(...args)=>{return page_0.val.pageStack(...args)});return pageStack_1})().val=(()=>{const pageStack_0=__xsdv__(__rslv__(\"pageStack\"),()=>{});return pageStack_0})().val;if((()=>{mid.dbgctx=__filename+\":75\";const props_0=__xsdv__(props,v=>{props=v},(...args)=>{return props(...args)});return props_0})().val){for(let key in(()=>{mid.dbgctx=__filename+\":77\";const props_0=__xsdv__(props,v=>{props=v},(...args)=>{return props(...args)});return props_0})().val){(()=>{const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const ACCESS_1=__xsdv__(page_0.val[(()=>{mid.dbgctx=__filename+\":79\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val],v=>{page_0.val[(()=>{mid.dbgctx=__filename+\":79\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val]=v},(...args)=>{return page_0.val[(()=>{mid.dbgctx=__filename+\":79\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val](...args)});return ACCESS_1})().val=(()=>{const props_0=__xsdv__(props,v=>{props=v},(...args)=>{return props(...args)});const ACCESS_1=__xsdv__(props_0.val[(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val],v=>{props_0.val[(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val]=v},(...args)=>{return props_0.val[(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val](...args)});return ACCESS_1})().val}}(()=>{const documentRoot_0=__xsdv__(__rslv__(\"documentRoot\"),()=>{});const add_1=__xsdv__(documentRoot_0.val.add,v=>{documentRoot_0.val.add=v},(...args)=>{return documentRoot_0.val.add(...args)});const CALL_2=__xsdv__(add_1.val((()=>{mid.dbgctx=__filename+\":83\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});return page_0})().val),()=>{});return CALL_2})().val;(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const push_1=__xsdv__(pages_0.val.push,v=>{pages_0.val.push=v},(...args)=>{return pages_0.val.push(...args)});const CALL_2=__xsdv__(push_1.val((()=>{mid.dbgctx=__filename+\":84\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});return page_0})().val),()=>{});return CALL_2})().val;(()=>{const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const show_1=__xsdv__(page_0.val.show,v=>{page_0.val.show=v},(...args)=>{return page_0.val.show(...args)});const CALL_2=__xsdv__(show_1.val((()=>{mid.dbgctx=__filename+\":85\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val===1),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":86\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const currentPage_1=__xsdv__(page_0.val.currentPage,v=>{page_0.val.currentPage=v},(...args)=>{return page_0.val.currentPage(...args)});return currentPage_1})().val=true;(()=>{mid.dbgctx=__filename+\":87\";const pagesChanged_0=__xsdv__(__rslv__(\"pagesChanged\"),()=>{});const CALL_1=__xsdv__(pagesChanged_0.val(),()=>{});return CALL_1})().val;return}const url=(()=>{mid.dbgctx=__filename+\":91\";const target_0=__xsdv__(target,v=>{target=v},(...args)=>{return target(...args)});return target_0})().val;(()=>{mid.dbgctx=__filename+\":92\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=true;(()=>{mid.dbgctx=__filename+\":116\";const fengshui_0=__xsdv__(fengshui,v=>{fengshui=v},(...args)=>{return fengshui(...args)});const load_1=__xsdv__(fengshui_0.val.load,v=>{fengshui_0.val.load=v},(...args)=>{return fengshui_0.val.load(...args)});const CALL_2=__xsdv__(load_1.val((()=>{mid.dbgctx=__filename+\":93\";const url_0=__xsdv__(url,v=>{url=v},(...args)=>{return url(...args)});return url_0})().val,null,__rslv__,page=>{(()=>{mid.dbgctx=__filename+\":95\";const loading_0=__xsdv__(__rslv__(\"loading\"),()=>{});return loading_0})().val=false;if((()=>{mid.dbgctx=__filename+\":96\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val>0){(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const ACCESS_1=__xsdv__(pages_0.val[(()=>{mid.dbgctx=__filename+\":98\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1],v=>{pages_0.val[(()=>{mid.dbgctx=__filename+\":98\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1]=v},(...args)=>{return pages_0.val[(()=>{mid.dbgctx=__filename+\":98\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1](...args)});const frozen_2=__xsdv__(ACCESS_1.val.frozen,v=>{ACCESS_1.val.frozen=v},(...args)=>{return ACCESS_1.val.frozen(...args)});return frozen_2})().val=true;(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const ACCESS_1=__xsdv__(pages_0.val[(()=>{mid.dbgctx=__filename+\":99\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1],v=>{pages_0.val[(()=>{mid.dbgctx=__filename+\":99\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1]=v},(...args)=>{return pages_0.val[(()=>{mid.dbgctx=__filename+\":99\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1](...args)});const currentPage_2=__xsdv__(ACCESS_1.val.currentPage,v=>{ACCESS_1.val.currentPage=v},(...args)=>{return ACCESS_1.val.currentPage(...args)});return currentPage_2})().val=false}(()=>{mid.dbgctx=__filename+\":101\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const pageStack_1=__xsdv__(page_0.val.pageStack,v=>{page_0.val.pageStack=v},(...args)=>{return page_0.val.pageStack(...args)});return pageStack_1})().val=(()=>{const pageStack_0=__xsdv__(__rslv__(\"pageStack\"),()=>{});return pageStack_0})().val;if((()=>{mid.dbgctx=__filename+\":103\";const props_0=__xsdv__(props,v=>{props=v},(...args)=>{return props(...args)});return props_0})().val){for(let key in(()=>{mid.dbgctx=__filename+\":105\";const props_0=__xsdv__(props,v=>{props=v},(...args)=>{return props(...args)});return props_0})().val){(()=>{const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const ACCESS_1=__xsdv__(page_0.val[(()=>{mid.dbgctx=__filename+\":107\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val],v=>{page_0.val[(()=>{mid.dbgctx=__filename+\":107\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val]=v},(...args)=>{return page_0.val[(()=>{mid.dbgctx=__filename+\":107\";const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val](...args)});return ACCESS_1})().val=(()=>{const props_0=__xsdv__(props,v=>{props=v},(...args)=>{return props(...args)});const ACCESS_1=__xsdv__(props_0.val[(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val],v=>{props_0.val[(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val]=v},(...args)=>{return props_0.val[(()=>{const key_0=__xsdv__(key,v=>{key=v},(...args)=>{return key(...args)});return key_0})().val](...args)});return ACCESS_1})().val}}(()=>{const documentRoot_0=__xsdv__(__rslv__(\"documentRoot\"),()=>{});const add_1=__xsdv__(documentRoot_0.val.add,v=>{documentRoot_0.val.add=v},(...args)=>{return documentRoot_0.val.add(...args)});const CALL_2=__xsdv__(add_1.val((()=>{mid.dbgctx=__filename+\":111\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});return page_0})().val),()=>{});return CALL_2})().val;(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const push_1=__xsdv__(pages_0.val.push,v=>{pages_0.val.push=v},(...args)=>{return pages_0.val.push(...args)});const CALL_2=__xsdv__(push_1.val((()=>{mid.dbgctx=__filename+\":112\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});return page_0})().val),()=>{});return CALL_2})().val;(()=>{const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const show_1=__xsdv__(page_0.val.show,v=>{page_0.val.show=v},(...args)=>{return page_0.val.show(...args)});const CALL_2=__xsdv__(show_1.val((()=>{mid.dbgctx=__filename+\":113\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val===1),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":114\";const page_0=__xsdv__(page,v=>{page=v},(...args)=>{return page(...args)});const currentPage_1=__xsdv__(page_0.val.currentPage,v=>{page_0.val.currentPage=v},(...args)=>{return page_0.val.currentPage(...args)});return currentPage_1})().val=true;(()=>{mid.dbgctx=__filename+\":115\";const pagesChanged_0=__xsdv__(__rslv__(\"pagesChanged\"),()=>{});const CALL_1=__xsdv__(pagesChanged_0.val(),()=>{});return CALL_1})().val}),()=>{});return CALL_2})().val}).use(self).property(\"popPage\",()=>{if((()=>{mid.dbgctx=__filename+\":128\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val>1){const p=(()=>{mid.dbgctx=__filename+\":130\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const pop_1=__xsdv__(pages_0.val.pop,v=>{pages_0.val.pop=v},(...args)=>{return pages_0.val.pop(...args)});const CALL_2=__xsdv__(pop_1.val(),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":137\";const p_0=__xsdv__(p,v=>{p=v},(...args)=>{return p(...args)});const close_1=__xsdv__(p_0.val.close,v=>{p_0.val.close=v},(...args)=>{return p_0.val.close(...args)});const CALL_2=__xsdv__(close_1.val(function(){(()=>{mid.dbgctx=__filename+\":133\";const p_0=__xsdv__(p,v=>{p=v},(...args)=>{return p(...args)});const parent_1=__xsdv__(p_0.val.parent,v=>{p_0.val.parent=v},(...args)=>{return p_0.val.parent(...args)});return parent_1})().val=null;(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const ACCESS_1=__xsdv__(pages_0.val[(()=>{mid.dbgctx=__filename+\":134\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1],v=>{pages_0.val[(()=>{mid.dbgctx=__filename+\":134\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1]=v},(...args)=>{return pages_0.val[(()=>{mid.dbgctx=__filename+\":134\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1](...args)});const frozen_2=__xsdv__(ACCESS_1.val.frozen,v=>{ACCESS_1.val.frozen=v},(...args)=>{return ACCESS_1.val.frozen(...args)});return frozen_2})().val=false;(()=>{const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const ACCESS_1=__xsdv__(pages_0.val[(()=>{mid.dbgctx=__filename+\":135\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1],v=>{pages_0.val[(()=>{mid.dbgctx=__filename+\":135\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1]=v},(...args)=>{return pages_0.val[(()=>{mid.dbgctx=__filename+\":135\";const pages_0=__xsdv__(__rslv__(\"pages\"),()=>{});const length_1=__xsdv__(pages_0.val.length,v=>{pages_0.val.length=v},(...args)=>{return pages_0.val.length(...args)});return length_1})().val-1](...args)});const currentPage_2=__xsdv__(ACCESS_1.val.currentPage,v=>{ACCESS_1.val.currentPage=v},(...args)=>{return ACCESS_1.val.currentPage(...args)});return currentPage_2})().val=true}),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":138\";const pagesChanged_0=__xsdv__(__rslv__(\"pagesChanged\"),()=>{});const CALL_1=__xsdv__(pagesChanged_0.val(),()=>{});return CALL_1})().val}}).use(self).onInitialization(()=>{if((()=>{mid.dbgctx=__filename+\":144\";const initialPage_0=__xsdv__(__rslv__(\"initialPage\"),()=>{});return initialPage_0})().val!==\"\"){(()=>{const pushPage_0=__xsdv__(__rslv__(\"pushPage\"),()=>{});const CALL_1=__xsdv__(pushPage_0.val((()=>{mid.dbgctx=__filename+\":146\";const initialPage_0=__xsdv__(__rslv__(\"initialPage\"),()=>{});return initialPage_0})().val),()=>{});return CALL_1})().val}}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/PinchGesture.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.PinchGesture={create:__pRslv__=>{const root=elementLookup(\"Object\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+42).use(self).property(\"target\",high.binding([high.chainRef(root,[\"parent\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":43\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 43] parent\")).use(self).property(\"pinching\",false).use(self).property(\"x1\",0).use(self).property(\"y1\",0).use(self).property(\"x2\",0).use(self).property(\"y2\",0).use(self).property(\"distance\",0).use(self).property(\"previousDistance\",0).use(self).property(\"_touchPoints\",high.binding([high.chainRef(root,[\"target\",\"touchPoints\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":53\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 53] target.touchPoints\")).use(self).onInitialization(()=>{(()=>{mid.dbgctx=__filename+\":57\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});const onPointerMove_1=__xsdv__(target_0.val.onPointerMove,v=>{target_0.val.onPointerMove=v},(...args)=>{return target_0.val.onPointerMove(...args)});return onPointerMove_1})().val=ev=>{if((()=>{mid.dbgctx=__filename+\":59\";const _touchPoints_0=__xsdv__(__rslv__(\"_touchPoints\"),()=>{});return _touchPoints_0})().val===2){const tp1=(()=>{mid.dbgctx=__filename+\":61\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});const touchPoint_1=__xsdv__(target_0.val.touchPoint,v=>{target_0.val.touchPoint=v},(...args)=>{return target_0.val.touchPoint(...args)});const CALL_2=__xsdv__(touchPoint_1.val(0),()=>{});return CALL_2})().val;const tp2=(()=>{mid.dbgctx=__filename+\":62\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});const touchPoint_1=__xsdv__(target_0.val.touchPoint,v=>{target_0.val.touchPoint=v},(...args)=>{return target_0.val.touchPoint(...args)});const CALL_2=__xsdv__(touchPoint_1.val(1),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":63\";const x1_0=__xsdv__(__rslv__(\"x1\"),()=>{});return x1_0})().val=(()=>{const tp1_0=__xsdv__(tp1,v=>{tp1=v},(...args)=>{return tp1(...args)});const x_1=__xsdv__(tp1_0.val.x,v=>{tp1_0.val.x=v},(...args)=>{return tp1_0.val.x(...args)});return x_1})().val;(()=>{mid.dbgctx=__filename+\":64\";const y1_0=__xsdv__(__rslv__(\"y1\"),()=>{});return y1_0})().val=(()=>{const tp1_0=__xsdv__(tp1,v=>{tp1=v},(...args)=>{return tp1(...args)});const y_1=__xsdv__(tp1_0.val.y,v=>{tp1_0.val.y=v},(...args)=>{return tp1_0.val.y(...args)});return y_1})().val;(()=>{mid.dbgctx=__filename+\":65\";const x2_0=__xsdv__(__rslv__(\"x2\"),()=>{});return x2_0})().val=(()=>{const tp2_0=__xsdv__(tp2,v=>{tp2=v},(...args)=>{return tp2(...args)});const x_1=__xsdv__(tp2_0.val.x,v=>{tp2_0.val.x=v},(...args)=>{return tp2_0.val.x(...args)});return x_1})().val;(()=>{mid.dbgctx=__filename+\":66\";const y2_0=__xsdv__(__rslv__(\"y2\"),()=>{});return y2_0})().val=(()=>{const tp2_0=__xsdv__(tp2,v=>{tp2=v},(...args)=>{return tp2(...args)});const y_1=__xsdv__(tp2_0.val.y,v=>{tp2_0.val.y=v},(...args)=>{return tp2_0.val.y(...args)});return y_1})().val;const dx=(()=>{mid.dbgctx=__filename+\":67\";const x2_0=__xsdv__(__rslv__(\"x2\"),()=>{});return x2_0})().val-(()=>{const x1_0=__xsdv__(__rslv__(\"x1\"),()=>{});return x1_0})().val;const dy=(()=>{mid.dbgctx=__filename+\":68\";const y2_0=__xsdv__(__rslv__(\"y2\"),()=>{});return y2_0})().val-(()=>{const y1_0=__xsdv__(__rslv__(\"y1\"),()=>{});return y1_0})().val;(()=>{mid.dbgctx=__filename+\":69\";const distance_0=__xsdv__(__rslv__(\"distance\"),()=>{});return distance_0})().val=Math.sqrt((()=>{const dx_0=__xsdv__(dx,v=>{dx=v},(...args)=>{return dx(...args)});return dx_0})().val*(()=>{const dx_0=__xsdv__(dx,v=>{dx=v},(...args)=>{return dx(...args)});return dx_0})().val+(()=>{const dy_0=__xsdv__(dy,v=>{dy=v},(...args)=>{return dy(...args)});return dy_0})().val*(()=>{const dy_0=__xsdv__(dy,v=>{dy=v},(...args)=>{return dy(...args)});return dy_0})().val);(()=>{mid.dbgctx=__filename+\":70\";const previousDistance_0=__xsdv__(__rslv__(\"previousDistance\"),()=>{});return previousDistance_0})().val=(()=>{const distance_0=__xsdv__(__rslv__(\"distance\"),()=>{});return distance_0})().val}}}).use(self).on_touchPointsChanged(()=>{if((()=>{mid.dbgctx=__filename+\":77\";const _touchPoints_0=__xsdv__(__rslv__(\"_touchPoints\"),()=>{});return _touchPoints_0})().val===2){(()=>{mid.dbgctx=__filename+\":79\";const pinching_0=__xsdv__(__rslv__(\"pinching\"),()=>{});return pinching_0})().val=true}else{(()=>{mid.dbgctx=__filename+\":83\";const previousDistance_0=__xsdv__(__rslv__(\"previousDistance\"),()=>{});return previousDistance_0})().val=0}if((()=>{mid.dbgctx=__filename+\":86\";const _touchPoints_0=__xsdv__(__rslv__(\"_touchPoints\"),()=>{});return _touchPoints_0})().val===0){(()=>{mid.dbgctx=__filename+\":88\";const pinching_0=__xsdv__(__rslv__(\"pinching\"),()=>{});return pinching_0})().val=false}}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Placeholder.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Placeholder={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+36).use(self).property(\"text\",\"\").use(self).position(\"free\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).layout(\"center\").use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+44).use(self).width(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":45\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-2*(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 45] parent.bbox.width - 2 * theme.paddingLarge\")).use(self).overflowBehavior(\"wrap\").use(self).horizontalAlignment(\"center\").use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":48\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 48] theme.primaryColor\")).use(self).opacity(0.6).use(self).fontSize(high.binding([high.chainRef(root,[\"theme\",\"fontSizeLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":50\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 50] theme.fontSizeLarge\")).use(self).text(high.binding([high.chainRef(root,[\"parent\",\"text\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":51\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 51] parent.text\")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/ScrollIndicator.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.ScrollIndicator={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+40).use(self).id(\"box\",__namespace).use(self).property(\"target\",null).use(self).property(\"other\",null).use(self).property(\"orientation\",\"vertical\").use(self).property(\"size\",high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 46] theme.paddingLarge\")).use(self).position(\"free\").use(self).origin(high.binding([high.chainRef(root,[\"orientation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":49\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?\"top-right\":\"bottom-left\"},__filename+\"[l. 49] orientation === \\\"vertical\\\" ? \\\"top-right\\\"\\n                                       : \\\"bottom-left\\\"\")).use(self).visible(high.binding([high.chainRef(root,[\"handle\",\"sizePercents\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":52\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val<0.99},__filename+\"[l. 52] handle.sizePercents < 0.99\")).use(self).add((__pRslv__=>{const self=elementLookup(\"Object\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+54).use(self).id(\"priv\",__namespace).use(self).property(\"contentPos\",high.binding([high.chainRef(root,[\"box\",\"target\"],__rslv__),high.chainRef(root,[\"box\",\"orientation\"],__rslv__),high.chainRef(root,[\"box\",\"target\",\"contentY\"],__rslv__),high.chainRef(root,[\"box\",\"target\",\"contentX\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":57\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val===\"vertical\"?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{mid.dbgctx=__filename+\":58\";const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:0},__filename+\"[l. 57] box.target ? (box.orientation === \\\"vertical\\\" ? box.target.contentY\\n                                                                          : box.target.contentX)\\n                                        : 0\")).use(self).property(\"contentSize\",high.binding([high.chainRef(root,[\"box\",\"target\"],__rslv__),high.chainRef(root,[\"box\",\"orientation\"],__rslv__),high.chainRef(root,[\"box\",\"target\",\"contentHeight\"],__rslv__),high.chainRef(root,[\"box\",\"target\",\"contentWidth\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":60\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val===\"vertical\"?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{mid.dbgctx=__filename+\":61\";const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:1},__filename+\"[l. 60] box.target ? (box.orientation === \\\"vertical\\\" ? box.target.contentHeight\\n                                                                           : box.target.contentWidth)\\n                                         : 1\")).use(self).property(\"viewSize\",high.binding([high.chainRef(root,[\"box\",\"target\"],__rslv__),high.chainRef(root,[\"box\",\"orientation\"],__rslv__),high.chainRef(root,[\"box\",\"target\",\"bbox\",\"height\"],__rslv__),high.chainRef(root,[\"box\",\"target\",\"bbox\",\"width\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":63\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val===\"vertical\"?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val:(()=>{mid.dbgctx=__filename+\":64\";const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:1},__filename+\"[l. 63] box.target ? (box.orientation === \\\"vertical\\\" ? box.target.bbox.height\\n                                                                        : box.target.bbox.width)\\n                                      : 1\")).use(self).property(\"direction\",0).flushPending();return self})(__rslv__)).use(self).property(\"lineUp\",()=>{(()=>{const scrollTo_0=__xsdv__(__rslv__(\"scrollTo\"),()=>{});const CALL_1=__xsdv__(scrollTo_0.val((()=>{mid.dbgctx=__filename+\":73\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentPos_1=__xsdv__(priv_0.val.contentPos,v=>{priv_0.val.contentPos=v},(...args)=>{return priv_0.val.contentPos(...args)});return contentPos_1})().val-(()=>{const theme_0=__xsdv__(__rslv__(\"theme\"),()=>{});const itemHeightMedium_1=__xsdv__(theme_0.val.itemHeightMedium,v=>{theme_0.val.itemHeightMedium=v},(...args)=>{return theme_0.val.itemHeightMedium(...args)});return itemHeightMedium_1})().val),()=>{});return CALL_1})().val}).use(self).property(\"lineDown\",()=>{(()=>{const scrollTo_0=__xsdv__(__rslv__(\"scrollTo\"),()=>{});const CALL_1=__xsdv__(scrollTo_0.val((()=>{mid.dbgctx=__filename+\":78\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentPos_1=__xsdv__(priv_0.val.contentPos,v=>{priv_0.val.contentPos=v},(...args)=>{return priv_0.val.contentPos(...args)});return contentPos_1})().val+(()=>{const theme_0=__xsdv__(__rslv__(\"theme\"),()=>{});const itemHeightMedium_1=__xsdv__(theme_0.val.itemHeightMedium,v=>{theme_0.val.itemHeightMedium=v},(...args)=>{return theme_0.val.itemHeightMedium(...args)});return itemHeightMedium_1})().val),()=>{});return CALL_1})().val}).use(self).property(\"pageUp\",()=>{(()=>{const scrollTo_0=__xsdv__(__rslv__(\"scrollTo\"),()=>{});const CALL_1=__xsdv__(scrollTo_0.val((()=>{mid.dbgctx=__filename+\":83\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentPos_1=__xsdv__(priv_0.val.contentPos,v=>{priv_0.val.contentPos=v},(...args)=>{return priv_0.val.contentPos(...args)});return contentPos_1})().val-(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const viewSize_1=__xsdv__(priv_0.val.viewSize,v=>{priv_0.val.viewSize=v},(...args)=>{return priv_0.val.viewSize(...args)});return viewSize_1})().val),()=>{});return CALL_1})().val}).use(self).property(\"pageDown\",()=>{(()=>{const scrollTo_0=__xsdv__(__rslv__(\"scrollTo\"),()=>{});const CALL_1=__xsdv__(scrollTo_0.val((()=>{mid.dbgctx=__filename+\":88\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentPos_1=__xsdv__(priv_0.val.contentPos,v=>{priv_0.val.contentPos=v},(...args)=>{return priv_0.val.contentPos(...args)});return contentPos_1})().val+(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const viewSize_1=__xsdv__(priv_0.val.viewSize,v=>{priv_0.val.viewSize=v},(...args)=>{return priv_0.val.viewSize(...args)});return viewSize_1})().val),()=>{});return CALL_1})().val}).use(self).property(\"firstPage\",()=>{(()=>{mid.dbgctx=__filename+\":93\";const scrollTo_0=__xsdv__(__rslv__(\"scrollTo\"),()=>{});const CALL_1=__xsdv__(scrollTo_0.val(0),()=>{});return CALL_1})().val}).use(self).property(\"lastPage\",()=>{(()=>{const scrollTo_0=__xsdv__(__rslv__(\"scrollTo\"),()=>{});const CALL_1=__xsdv__(scrollTo_0.val((()=>{mid.dbgctx=__filename+\":98\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentSize_1=__xsdv__(priv_0.val.contentSize,v=>{priv_0.val.contentSize=v},(...args)=>{return priv_0.val.contentSize(...args)});return contentSize_1})().val-(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const viewSize_1=__xsdv__(priv_0.val.viewSize,v=>{priv_0.val.viewSize=v},(...args)=>{return priv_0.val.viewSize(...args)});return viewSize_1})().val),()=>{});return CALL_1})().val}).use(self).property(\"scrollTo\",pos=>{if(!(()=>{mid.dbgctx=__filename+\":103\";const scrollAnimation_0=__xsdv__(__rslv__(\"scrollAnimation\"),()=>{});const busy_1=__xsdv__(scrollAnimation_0.val.busy,v=>{scrollAnimation_0.val.busy=v},(...args)=>{return scrollAnimation_0.val.busy(...args)});return busy_1})().val){(()=>{mid.dbgctx=__filename+\":105\";const scrollAnimation_0=__xsdv__(__rslv__(\"scrollAnimation\"),()=>{});const from_1=__xsdv__(scrollAnimation_0.val.from,v=>{scrollAnimation_0.val.from=v},(...args)=>{return scrollAnimation_0.val.from(...args)});return from_1})().val=(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentPos_1=__xsdv__(priv_0.val.contentPos,v=>{priv_0.val.contentPos=v},(...args)=>{return priv_0.val.contentPos(...args)});return contentPos_1})().val;(()=>{mid.dbgctx=__filename+\":106\";const scrollAnimation_0=__xsdv__(__rslv__(\"scrollAnimation\"),()=>{});const to_1=__xsdv__(scrollAnimation_0.val.to,v=>{scrollAnimation_0.val.to=v},(...args)=>{return scrollAnimation_0.val.to(...args)});return to_1})().val=Math.max(0,Math.min((()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentSize_1=__xsdv__(priv_0.val.contentSize,v=>{priv_0.val.contentSize=v},(...args)=>{return priv_0.val.contentSize(...args)});return contentSize_1})().val-(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const viewSize_1=__xsdv__(priv_0.val.viewSize,v=>{priv_0.val.viewSize=v},(...args)=>{return priv_0.val.viewSize(...args)});return viewSize_1})().val,(()=>{const pos_0=__xsdv__(pos,v=>{pos=v},(...args)=>{return pos(...args)});return pos_0})().val));(()=>{mid.dbgctx=__filename+\":107\";const scrollAnimation_0=__xsdv__(__rslv__(\"scrollAnimation\"),()=>{});const start_1=__xsdv__(scrollAnimation_0.val.start,v=>{scrollAnimation_0.val.start=v},(...args)=>{return scrollAnimation_0.val.start(...args)});const CALL_2=__xsdv__(start_1.val(),()=>{});return CALL_2})().val}}).use(self).canFocus(true).use(self).fillWidth(high.binding([high.chainRef(root,[\"orientation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":113\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?false:true},__filename+\"[l. 113] orientation === \\\"vertical\\\" ? false : true\")).use(self).fillHeight(high.binding([high.chainRef(root,[\"orientation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":114\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?true:false},__filename+\"[l. 114] orientation === \\\"vertical\\\" ? true : false\")).use(self).marginRight(high.binding([high.chainRef(root,[\"orientation\"],__rslv__),high.chainRef(root,[\"other\"],__rslv__),high.chainRef(root,[\"other\",\"visible\"],__rslv__),high.chainRef(root,[\"other\",\"bbox\",\"width\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":116\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"horizontal\"&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val&&(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:0},__filename+\"[l. 116] orientation === \\\"horizontal\\\" && other && other.visible ? other.bbox.width : 0\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"orientation\"],__rslv__),high.chainRef(root,[\"other\"],__rslv__),high.chainRef(root,[\"other\",\"visible\"],__rslv__),high.chainRef(root,[\"other\",\"bbox\",\"height\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":117\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val&&(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:0},__filename+\"[l. 117] orientation === \\\"vertical\\\" && other && other.visible ? other.bbox.height : 0\")).use(self).width(high.binding([high.chainRef(root,[\"orientation\"],__rslv__),high.chainRef(root,[\"size\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":119\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:-1},__filename+\"[l. 119] orientation === \\\"vertical\\\" ? size : -1\")).use(self).height(high.binding([high.chainRef(root,[\"orientation\"],__rslv__),high.chainRef(root,[\"size\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":120\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?-1:(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 120] orientation === \\\"vertical\\\" ? -1 : size\")).use(self).color(high.binding([high.chainRef(root,[\"rgba\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":122\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(0,0,0,0.3),()=>{});return CALL_1})().val},__filename+\"[l. 122] rgba(0, 0, 0, 0.3)\")).use(self).onParentChanged(()=>{if((()=>{mid.dbgctx=__filename+\":126\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});return parent_0})().val){(()=>{mid.dbgctx=__filename+\":132\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});const get_1=__xsdv__(parent_0.val.get,v=>{parent_0.val.get=v},(...args)=>{return parent_0.val.get(...args)});const CALL_2=__xsdv__(get_1.val(),()=>{});const connect_3=__xsdv__(CALL_2.val.connect,v=>{CALL_2.val.connect=v},(...args)=>{return CALL_2.val.connect(...args)});const CALL_4=__xsdv__(connect_3.val(\"destruction\",(()=>{mid.dbgctx=__filename+\":128\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});const get_1=__xsdv__(self_0.val.get,v=>{self_0.val.get=v},(...args)=>{return self_0.val.get(...args)});const CALL_2=__xsdv__(get_1.val(),()=>{});return CALL_2})().val,()=>{(()=>{mid.dbgctx=__filename+\":131\";const other_0=__xsdv__(__rslv__(\"other\"),()=>{});return other_0})().val=null}),()=>{});return CALL_4})().val}}).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+136).use(self).id(\"handle\",__namespace).use(self).position(\"free\").use(self).property(\"sizePercents\",high.binding([high.chainRef(root,[\"priv\",\"viewSize\"],__rslv__),high.chainRef(root,[\"priv\",\"contentSize\"],__rslv__)],(alias0,alias1)=>{return Math.max(0,Math.min(1,(()=>{mid.dbgctx=__filename+\":141\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val))},__filename+\"[l. 141] Math.max(0, Math.min(1, priv.viewSize / priv.contentSize))\")).use(self).property(\"posPercents\",high.binding([high.chainRef(root,[\"priv\",\"contentSize\"],__rslv__),high.chainRef(root,[\"priv\",\"viewSize\"],__rslv__),high.chainRef(root,[\"priv\",\"contentPos\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":142\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val>(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val/((()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val):0},__filename+\"[l. 142] priv.contentSize > priv.viewSize ? priv.contentPos / (priv.contentSize - priv.viewSize)\\n                                                               : 0\")).use(self).x(high.binding([high.chainRef(root,[\"box\",\"orientation\"],__rslv__),high.chainRef(root,[\"posPercents\"],__rslv__),high.chainRef(root,[\"box\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"bbox\",\"width\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":145\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?0:(()=>{mid.dbgctx=__filename+\":146\";const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val*((()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val-(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val)},__filename+\"[l. 145] box.orientation === \\\"vertical\\\" ? 0\\n                                          : posPercents * (box.bbox.width - bbox.width)\")).use(self).y(high.binding([high.chainRef(root,[\"box\",\"orientation\"],__rslv__),high.chainRef(root,[\"posPercents\"],__rslv__),high.chainRef(root,[\"box\",\"bbox\",\"height\"],__rslv__),high.chainRef(root,[\"bbox\",\"height\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{mid.dbgctx=__filename+\":147\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val*((()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val-(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val):0},__filename+\"[l. 147] box.orientation === \\\"vertical\\\" ? posPercents * (box.bbox.height - bbox.height)\\n                                          : 0\")).use(self).width(high.binding([high.chainRef(root,[\"box\",\"orientation\"],__rslv__),high.chainRef(root,[\"sizePercents\"],__rslv__),high.chainRef(root,[\"box\",\"bbox\",\"width\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":149\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?0:Math.max(16,(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val*(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val)},__filename+\"[l. 149] box.orientation === \\\"vertical\\\" ? 0 : Math.max(16, sizePercents * box.bbox.width)\")).use(self).height(high.binding([high.chainRef(root,[\"box\",\"orientation\"],__rslv__),high.chainRef(root,[\"sizePercents\"],__rslv__),high.chainRef(root,[\"box\",\"bbox\",\"height\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":150\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?Math.max(16,(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val*(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val):0},__filename+\"[l. 150] box.orientation === \\\"vertical\\\" ? Math.max(16, sizePercents * box.bbox.height) : 0\")).use(self).fillWidth(high.binding([high.chainRef(root,[\"box\",\"orientation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":152\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?true:false},__filename+\"[l. 152] box.orientation === \\\"vertical\\\" ? true : false\")).use(self).fillHeight(high.binding([high.chainRef(root,[\"box\",\"orientation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":153\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val===\"vertical\"?false:true},__filename+\"[l. 153] box.orientation === \\\"vertical\\\" ? false : true\")).use(self).color(high.binding([high.chainRef(root,[\"pressed\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__),high.chainRef(root,[\"containsMouse\"],__rslv__),high.chainRef(root,[\"theme\",\"hoverBackgroundColor\"],__rslv__),high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4)=>{return(()=>{mid.dbgctx=__filename+\":155\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{mid.dbgctx=__filename+\":156\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:(()=>{mid.dbgctx=__filename+\":157\";const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val},__filename+\"[l. 155] pressed ? theme.highlightBackgroundColor\\n                       : containsMouse ? theme.hoverBackgroundColor\\n                                       : theme.primaryBackgroundColor\")).use(self).borderWidth(1).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":159\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 159] theme.borderColor\")).use(self).borderRadius(3).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":164\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;(()=>{mid.dbgctx=__filename+\":165\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const focus_1=__xsdv__(box_0.val.focus,v=>{box_0.val.focus=v},(...args)=>{return box_0.val.focus(...args)});return focus_1})().val=true}).use(self).onDrag(ev=>{(()=>{mid.dbgctx=__filename+\":170\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;if((()=>{mid.dbgctx=__filename+\":172\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const orientation_1=__xsdv__(box_0.val.orientation,v=>{box_0.val.orientation=v},(...args)=>{return box_0.val.orientation(...args)});return orientation_1})().val===\"vertical\"){const scale=(()=>{mid.dbgctx=__filename+\":174\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const bbox_1=__xsdv__(box_0.val.bbox,v=>{box_0.val.bbox=v},(...args)=>{return box_0.val.bbox(...args)});const height_2=__xsdv__(bbox_1.val.height,v=>{bbox_1.val.height=v},(...args)=>{return bbox_1.val.height(...args)});return height_2})().val/Math.max(1,(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentSize_1=__xsdv__(priv_0.val.contentSize,v=>{priv_0.val.contentSize=v},(...args)=>{return priv_0.val.contentSize(...args)});return contentSize_1})().val);(()=>{mid.dbgctx=__filename+\":175\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});const contentY_1=__xsdv__(target_0.val.contentY,v=>{target_0.val.contentY=v},(...args)=>{return target_0.val.contentY(...args)});return contentY_1})().val=(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentPos_1=__xsdv__(priv_0.val.contentPos,v=>{priv_0.val.contentPos=v},(...args)=>{return priv_0.val.contentPos(...args)});return contentPos_1})().val+(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaY_1=__xsdv__(ev_0.val.deltaY,v=>{ev_0.val.deltaY=v},(...args)=>{return ev_0.val.deltaY(...args)});return deltaY_1})().val/(()=>{const scale_0=__xsdv__(scale,v=>{scale=v},(...args)=>{return scale(...args)});return scale_0})().val}else{const scale=(()=>{mid.dbgctx=__filename+\":179\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const bbox_1=__xsdv__(box_0.val.bbox,v=>{box_0.val.bbox=v},(...args)=>{return box_0.val.bbox(...args)});const width_2=__xsdv__(bbox_1.val.width,v=>{bbox_1.val.width=v},(...args)=>{return bbox_1.val.width(...args)});return width_2})().val/Math.max(1,(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentSize_1=__xsdv__(priv_0.val.contentSize,v=>{priv_0.val.contentSize=v},(...args)=>{return priv_0.val.contentSize(...args)});return contentSize_1})().val);(()=>{mid.dbgctx=__filename+\":180\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});const contentX_1=__xsdv__(target_0.val.contentX,v=>{target_0.val.contentX=v},(...args)=>{return target_0.val.contentX(...args)});return contentX_1})().val=(()=>{const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const contentPos_1=__xsdv__(priv_0.val.contentPos,v=>{priv_0.val.contentPos=v},(...args)=>{return priv_0.val.contentPos(...args)});return contentPos_1})().val+(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaX_1=__xsdv__(ev_0.val.deltaX,v=>{ev_0.val.deltaX=v},(...args)=>{return ev_0.val.deltaX(...args)});return deltaX_1})().val/(()=>{const scale_0=__xsdv__(scale,v=>{scale=v},(...args)=>{return scale(...args)});return scale_0})().val}}).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+184).use(self).visible(high.binding([high.chainRef(root,[\"box\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":184\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 184] box.focus \")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).onPointerDown(ev=>{const x=(()=>{mid.dbgctx=__filename+\":189\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const x_1=__xsdv__(ev_0.val.x,v=>{ev_0.val.x=v},(...args)=>{return ev_0.val.x(...args)});return x_1})().val;const y=(()=>{mid.dbgctx=__filename+\":190\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const y_1=__xsdv__(ev_0.val.y,v=>{ev_0.val.y=v},(...args)=>{return ev_0.val.y(...args)});return y_1})().val;(()=>{mid.dbgctx=__filename+\":191\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;if((()=>{mid.dbgctx=__filename+\":193\";const orientation_0=__xsdv__(__rslv__(\"orientation\"),()=>{});return orientation_0})().val===\"vertical\"){if((()=>{mid.dbgctx=__filename+\":195\";const y_0=__xsdv__(y,v=>{y=v},(...args)=>{return y(...args)});return y_0})().val<(()=>{const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const y_1=__xsdv__(handle_0.val.y,v=>{handle_0.val.y=v},(...args)=>{return handle_0.val.y(...args)});return y_1})().val){(()=>{mid.dbgctx=__filename+\":197\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const direction_1=__xsdv__(priv_0.val.direction,v=>{priv_0.val.direction=v},(...args)=>{return priv_0.val.direction(...args)});return direction_1})().val=0}else if((()=>{mid.dbgctx=__filename+\":199\";const y_0=__xsdv__(y,v=>{y=v},(...args)=>{return y(...args)});return y_0})().val>(()=>{const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const y_1=__xsdv__(handle_0.val.y,v=>{handle_0.val.y=v},(...args)=>{return handle_0.val.y(...args)});return y_1})().val+(()=>{const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const height_1=__xsdv__(handle_0.val.height,v=>{handle_0.val.height=v},(...args)=>{return handle_0.val.height(...args)});return height_1})().val){(()=>{mid.dbgctx=__filename+\":201\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const direction_1=__xsdv__(priv_0.val.direction,v=>{priv_0.val.direction=v},(...args)=>{return priv_0.val.direction(...args)});return direction_1})().val=1}}else{if((()=>{mid.dbgctx=__filename+\":206\";const x_0=__xsdv__(x,v=>{x=v},(...args)=>{return x(...args)});return x_0})().val<(()=>{const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const x_1=__xsdv__(handle_0.val.x,v=>{handle_0.val.x=v},(...args)=>{return handle_0.val.x(...args)});return x_1})().val){(()=>{mid.dbgctx=__filename+\":208\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const direction_1=__xsdv__(priv_0.val.direction,v=>{priv_0.val.direction=v},(...args)=>{return priv_0.val.direction(...args)});return direction_1})().val=0}else if((()=>{mid.dbgctx=__filename+\":210\";const x_0=__xsdv__(x,v=>{x=v},(...args)=>{return x(...args)});return x_0})().val>(()=>{const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const x_1=__xsdv__(handle_0.val.x,v=>{handle_0.val.x=v},(...args)=>{return handle_0.val.x(...args)});return x_1})().val+(()=>{const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const width_1=__xsdv__(handle_0.val.width,v=>{handle_0.val.width=v},(...args)=>{return handle_0.val.width(...args)});return width_1})().val){(()=>{mid.dbgctx=__filename+\":212\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const direction_1=__xsdv__(priv_0.val.direction,v=>{priv_0.val.direction=v},(...args)=>{return priv_0.val.direction(...args)});return direction_1})().val=1}}if((()=>{mid.dbgctx=__filename+\":216\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const direction_1=__xsdv__(priv_0.val.direction,v=>{priv_0.val.direction=v},(...args)=>{return priv_0.val.direction(...args)});return direction_1})().val===0){(()=>{mid.dbgctx=__filename+\":218\";const pageUp_0=__xsdv__(__rslv__(\"pageUp\"),()=>{});const CALL_1=__xsdv__(pageUp_0.val(),()=>{});return CALL_1})().val}else{(()=>{mid.dbgctx=__filename+\":222\";const pageDown_0=__xsdv__(__rslv__(\"pageDown\"),()=>{});const CALL_1=__xsdv__(pageDown_0.val(),()=>{});return CALL_1})().val}(()=>{mid.dbgctx=__filename+\":225\";const focus_0=__xsdv__(__rslv__(\"focus\"),()=>{});return focus_0})().val=true}).use(self).onPointerUp(ev=>{(()=>{mid.dbgctx=__filename+\":230\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onPointerMove(ev=>{(()=>{mid.dbgctx=__filename+\":235\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onPointerOut(ev=>{(()=>{mid.dbgctx=__filename+\":240\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":245\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onKeyDown(ev=>{switch((()=>{mid.dbgctx=__filename+\":250\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val){case\"ArrowUp\":case\"ArrowLeft\":(()=>{mid.dbgctx=__filename+\":254\";const lineUp_0=__xsdv__(__rslv__(\"lineUp\"),()=>{});const CALL_1=__xsdv__(lineUp_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":255\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;break;case\"ArrowDown\":case\"ArrowRight\":(()=>{mid.dbgctx=__filename+\":259\";const lineDown_0=__xsdv__(__rslv__(\"lineDown\"),()=>{});const CALL_1=__xsdv__(lineDown_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":260\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;break;case\"PageUp\":(()=>{mid.dbgctx=__filename+\":263\";const pageUp_0=__xsdv__(__rslv__(\"pageUp\"),()=>{});const CALL_1=__xsdv__(pageUp_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":264\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;break;case\"PageDown\":(()=>{mid.dbgctx=__filename+\":267\";const pageDown_0=__xsdv__(__rslv__(\"pageDown\"),()=>{});const CALL_1=__xsdv__(pageDown_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":268\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;break;case\"Home\":(()=>{mid.dbgctx=__filename+\":271\";const firstPage_0=__xsdv__(__rslv__(\"firstPage\"),()=>{});const CALL_1=__xsdv__(firstPage_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":272\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;break;case\"End\":(()=>{mid.dbgctx=__filename+\":275\";const lastPage_0=__xsdv__(__rslv__(\"lastPage\"),()=>{});const CALL_1=__xsdv__(lastPage_0.val(),()=>{});return CALL_1})().val;(()=>{mid.dbgctx=__filename+\":276\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;break;}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Timer\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Timer\").objectLocation(__filename+\":\"+281).use(self).id(\"pullTimer\",__namespace).use(self).interval(500).use(self).repeat(true).use(self).running(high.binding([high.chainRef(root,[\"box\",\"pressed\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":286\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 286] box.pressed\")).use(self).onTimeout(()=>{if((()=>{mid.dbgctx=__filename+\":290\";const priv_0=__xsdv__(__rslv__(\"priv\"),()=>{});const direction_1=__xsdv__(priv_0.val.direction,v=>{priv_0.val.direction=v},(...args)=>{return priv_0.val.direction(...args)});return direction_1})().val===0){(()=>{mid.dbgctx=__filename+\":292\";const pageUp_0=__xsdv__(__rslv__(\"pageUp\"),()=>{});const CALL_1=__xsdv__(pageUp_0.val(),()=>{});return CALL_1})().val}else{(()=>{mid.dbgctx=__filename+\":296\";const pageDown_0=__xsdv__(__rslv__(\"pageDown\"),()=>{});const CALL_1=__xsdv__(pageDown_0.val(),()=>{});return CALL_1})().val}}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+301).use(self).id(\"scrollAnimation\",__namespace).use(self).duration(300).use(self).easing(\"InOutQuad\").use(self).onNext(value=>{if((()=>{mid.dbgctx=__filename+\":309\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const orientation_1=__xsdv__(box_0.val.orientation,v=>{box_0.val.orientation=v},(...args)=>{return box_0.val.orientation(...args)});return orientation_1})().val===\"vertical\"){(()=>{mid.dbgctx=__filename+\":311\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});const contentY_1=__xsdv__(target_0.val.contentY,v=>{target_0.val.contentY=v},(...args)=>{return target_0.val.contentY(...args)});return contentY_1})().val=(()=>{const value_0=__xsdv__(value,v=>{value=v},(...args)=>{return value(...args)});return value_0})().val}else{(()=>{mid.dbgctx=__filename+\":315\";const target_0=__xsdv__(__rslv__(\"target\"),()=>{});const contentX_1=__xsdv__(target_0.val.contentX,v=>{target_0.val.contentX=v},(...args)=>{return target_0.val.contentX(...args)});return contentX_1})().val=(()=>{const value_0=__xsdv__(value,v=>{value=v},(...args)=>{return value(...args)});return value_0})().val}}).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/SelectionBox.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.SelectionBox={create:__pRslv__=>{const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+41).use(self).id(\"box\",__namespace).use(self).property(\"model\",(__pRslv__=>{const self=elementLookup(\"ListModel\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ListModel\").objectLocation(__filename+\":\"+44).flushPending();return self})(__rslv__)).use(self).property(\"selection\",0).use(self).property(\"_menu\",null).use(self).property(\"_createMenu\",()=>{(()=>{mid.dbgctx=__filename+\":51\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});return _menu_0})().val=(()=>{const _menuT_0=__xsdv__(__rslv__(\"_menuT\"),()=>{});const CALL_1=__xsdv__(_menuT_0.val(),()=>{});return CALL_1})().val}).use(self).minWidth(high.binding([high.chainRef(root,[\"theme\",\"itemWidthLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":54\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 54] theme.itemWidthLarge\")).use(self).secondaryIcon(\"core-menu\").use(self).text(high.binding([high.chainRef(root,[\"model\",\"size\"],__rslv__),high.chainRef(root,[\"selection\"],__rslv__),high.chainRef(root,[\"model\",\"at\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":57\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val>(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});const CALL_1=__xsdv__(alias2_0.val((()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val),()=>{});return CALL_1})().val:\"?\"},__filename+\"[l. 57] model.size > selection ? model.at(selection) : \\\"?\\\"\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":61\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;if(!(()=>{mid.dbgctx=__filename+\":63\";const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});return _menu_0})().val){(()=>{mid.dbgctx=__filename+\":65\";const _createMenu_0=__xsdv__(__rslv__(\"_createMenu\"),()=>{});const CALL_1=__xsdv__(_createMenu_0.val(),()=>{});return CALL_1})().val}(()=>{const _menu_0=__xsdv__(__rslv__(\"_menu\"),()=>{});const popup_1=__xsdv__(_menu_0.val.popup,v=>{_menu_0.val.popup=v},(...args)=>{return _menu_0.val.popup(...args)});const CALL_2=__xsdv__(popup_1.val((()=>{mid.dbgctx=__filename+\":68\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val),()=>{});return CALL_2})().val}).use(self).onWheel(ev=>{(()=>{mid.dbgctx=__filename+\":73\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;if((()=>{mid.dbgctx=__filename+\":75\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaY_1=__xsdv__(ev_0.val.deltaY,v=>{ev_0.val.deltaY=v},(...args)=>{return ev_0.val.deltaY(...args)});return deltaY_1})().val<0&&(()=>{const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val>0){--(()=>{mid.dbgctx=__filename+\":77\";const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val}else if((()=>{mid.dbgctx=__filename+\":79\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaY_1=__xsdv__(ev_0.val.deltaY,v=>{ev_0.val.deltaY=v},(...args)=>{return ev_0.val.deltaY(...args)});return deltaY_1})().val>0&&(()=>{const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val<(()=>{const model_0=__xsdv__(__rslv__(\"model\"),()=>{});const size_1=__xsdv__(model_0.val.size,v=>{model_0.val.size=v},(...args)=>{return model_0.val.size(...args)});return size_1})().val-1){++(()=>{mid.dbgctx=__filename+\":81\";const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val}(()=>{mid.dbgctx=__filename+\":83\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onKeyDown(ev=>{if((()=>{mid.dbgctx=__filename+\":88\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowUp\"){if((()=>{mid.dbgctx=__filename+\":90\";const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val>0){--(()=>{mid.dbgctx=__filename+\":92\";const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val}(()=>{mid.dbgctx=__filename+\":94\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":96\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowDown\"){if((()=>{mid.dbgctx=__filename+\":98\";const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val<(()=>{const model_0=__xsdv__(__rslv__(\"model\"),()=>{});const size_1=__xsdv__(model_0.val.size,v=>{model_0.val.size=v},(...args)=>{return model_0.val.size(...args)});return size_1})().val-1){++(()=>{mid.dbgctx=__filename+\":100\";const selection_0=__xsdv__(__rslv__(\"selection\"),()=>{});return selection_0})().val}(()=>{mid.dbgctx=__filename+\":102\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}).use(self).property(\"_menuT\",()=>{return{create:function(__pRslv__){const __namespace=\"tmp.2958\";return function(){const root=elementLookup(\"Menu\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Menu\").objectLocation(__filename+\":\"+106).use(self).id(\"selMenu\",__namespace).use(self).onVisibleChanged(()=>{if(!(()=>{mid.dbgctx=__filename+\":111\";const visible_0=__xsdv__(__rslv__(\"visible\"),()=>{});return visible_0})().val){(()=>{mid.dbgctx=__filename+\":113\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const focus_1=__xsdv__(box_0.val.focus,v=>{box_0.val.focus=v},(...args)=>{return box_0.val.focus(...args)});return focus_1})().val=true}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Repeater\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Repeater\").objectLocation(__filename+\":\"+117).use(self).id(\"itemRepeater\",__namespace).use(self).model(high.binding([high.chainRef(root,[\"box\",\"model\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":120\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 120] box.model\")).use(self).delegate(()=>{return{create:function(__pRslv__){const __namespace=\"tmp.3250\";return function(){const root=elementLookup(\"MenuItem\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MenuItem\").objectLocation(__filename+\":\"+122).use(self).minWidth(high.binding([high.chainRef(root,[\"box\",\"bbox\",\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":123\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-2},__filename+\"[l. 123] box.bbox.width - 2 /* menu borders */\")).use(self).text(high.binding([high.chainRef(root,[\"modelData\",\"value\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":124\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 124] modelData.value\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":128\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const selection_1=__xsdv__(box_0.val.selection,v=>{box_0.val.selection=v},(...args)=>{return box_0.val.selection(...args)});return selection_1})().val=(()=>{const modelData_0=__xsdv__(__rslv__(\"modelData\"),()=>{});const index_1=__xsdv__(modelData_0.val.index,v=>{modelData_0.val.index=v},(...args)=>{return modelData_0.val.index(...args)});return index_1})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"Timer\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Timer\").objectLocation(__filename+\":\"+131).use(self).running(high.binding([high.chainRef(root,[\"selMenu\",\"visible\"],__rslv__),high.chainRef(root,[\"parent\",\"modelData\",\"index\"],__rslv__),high.chainRef(root,[\"box\",\"selection\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":132\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val===(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 132] selMenu.visible && parent.modelData.index === box.selection\")).use(self).repeat(false).use(self).interval(0).use(self).onTimeout(()=>{(()=>{mid.dbgctx=__filename+\":135\";const parent_0=__xsdv__(__rslv__(\"parent\"),()=>{});const selectItem_1=__xsdv__(parent_0.val.selectItem,v=>{parent_0.val.selectItem=v},(...args)=>{return parent_0.val.selectItem(...args)});const CALL_2=__xsdv__(selectItem_1.val(false),()=>{});return CALL_2})().val}).flushPending();return self})(__rslv__)).flushPending();return self}}(__rslv__)}.create(__rslv__)}).flushPending();return self})(__rslv__)).flushPending();return self}}(__rslv__)}.create(__rslv__)}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Slider.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Slider={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+25).use(self).id(\"slider\",__namespace).use(self).property(\"minValue\",0).use(self).property(\"maxValue\",100).use(self).property(\"value\",0).use(self).property(\"stepSize\",5).use(self).canFocus(true).use(self).layout(\"center\").use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":37\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 37] theme.itemWidthLarge\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":38\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 38] theme.itemHeightSmall\")).use(self).opacity(high.binding([high.chainRef(root,[\"enabled\"],__rslv__),high.chainRef(root,[\"ancestorsEnabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":39\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?1:0.6},__filename+\"[l. 39] enabled && ancestorsEnabled ? 1 : 0.6\")).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+41).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":43\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/2},__filename+\"[l. 43] theme.paddingSmall / 2\")).use(self).borderWidth(1).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 46] theme.borderColor\")).use(self).borderRadius(3).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"secondaryColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":49\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 49] theme.secondaryColor\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+52).use(self).id(\"handle\",__namespace).use(self).property(\"percents\",high.binding([high.chainRef(root,[\"slider\",\"maxValue\"],__rslv__),high.chainRef(root,[\"slider\",\"minValue\"],__rslv__),high.chainRef(root,[\"slider\",\"value\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":55\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val>(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?Math.max(0,Math.min(1,((()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)/((()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val))):0},__filename+\"[l. 55] slider.maxValue > slider.minValue ? Math.max(0, Math.min(1, (slider.value - slider.minValue) / (slider.maxValue - slider.minValue)))\\n                                                             : 0\")).use(self).property(\"animated\",false).use(self).position(\"free\").use(self).layout(\"center\").use(self).width(high.binding([high.chainRef(root,[\"height\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":63\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*1.5},__filename+\"[l. 63] height * 1.5\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":64\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 64] theme.itemHeightSmall\")).use(self).borderWidth(1).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":67\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 67] theme.borderColor\")).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":68\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 68] theme.borderRadius\")).use(self).color(high.binding([high.chainRef(root,[\"pressed\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__),high.chainRef(root,[\"containsMouse\"],__rslv__),high.chainRef(root,[\"theme\",\"hoverBackgroundColor\"],__rslv__),high.chainRef(root,[\"theme\",\"contentBackgroundColor\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4)=>{return(()=>{mid.dbgctx=__filename+\":70\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{mid.dbgctx=__filename+\":71\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:(()=>{mid.dbgctx=__filename+\":72\";const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val},__filename+\"[l. 70] pressed ? theme.highlightBackgroundColor\\n                       : containsMouse ? theme.hoverBackgroundColor\\n                                       : theme.contentBackgroundColor\")).use(self).x(high.binding([high.chainRef(root,[\"slider\",\"bbox\",\"width\"],__rslv__),high.chainRef(root,[\"width\"],__rslv__),high.chainRef(root,[\"percents\"],__rslv__)],(alias0,alias1,alias2)=>{return((()=>{mid.dbgctx=__filename+\":74\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val-(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val)*(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 74] (slider.bbox.width - width) * percents\")).use(self).xTransition((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+75).use(self).enabled(high.binding([high.chainRef(root,[\"handle\",\"animated\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":75\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 75] handle.animated\")).use(self).duration(300).use(self).easing(\"InOutQuad\").flushPending();return self})(__rslv__)).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":79\";const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const focus_1=__xsdv__(slider_0.val.focus,v=>{slider_0.val.focus=v},(...args)=>{return slider_0.val.focus(...args)});return focus_1})().val=true;(()=>{mid.dbgctx=__filename+\":80\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onDrag(ev=>{const sx=Math.max(0,Math.min((()=>{mid.dbgctx=__filename+\":85\";const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const bbox_1=__xsdv__(slider_0.val.bbox,v=>{slider_0.val.bbox=v},(...args)=>{return slider_0.val.bbox(...args)});const width_2=__xsdv__(bbox_1.val.width,v=>{bbox_1.val.width=v},(...args)=>{return bbox_1.val.width(...args)});return width_2})().val-(()=>{const width_0=__xsdv__(__rslv__(\"width\"),()=>{});return width_0})().val,(()=>{const x_0=__xsdv__(__rslv__(\"x\"),()=>{});return x_0})().val+(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaX_1=__xsdv__(ev_0.val.deltaX,v=>{ev_0.val.deltaX=v},(...args)=>{return ev_0.val.deltaX(...args)});return deltaX_1})().val));const p=(()=>{mid.dbgctx=__filename+\":86\";const sx_0=__xsdv__(sx,v=>{sx=v},(...args)=>{return sx(...args)});return sx_0})().val/((()=>{const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const bbox_1=__xsdv__(slider_0.val.bbox,v=>{slider_0.val.bbox=v},(...args)=>{return slider_0.val.bbox(...args)});const width_2=__xsdv__(bbox_1.val.width,v=>{bbox_1.val.width=v},(...args)=>{return bbox_1.val.width(...args)});return width_2})().val-(()=>{const width_0=__xsdv__(__rslv__(\"width\"),()=>{});return width_0})().val);const newValue=(()=>{mid.dbgctx=__filename+\":87\";const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const minValue_1=__xsdv__(slider_0.val.minValue,v=>{slider_0.val.minValue=v},(...args)=>{return slider_0.val.minValue(...args)});return minValue_1})().val+((()=>{const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const maxValue_1=__xsdv__(slider_0.val.maxValue,v=>{slider_0.val.maxValue=v},(...args)=>{return slider_0.val.maxValue(...args)});return maxValue_1})().val-(()=>{const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const minValue_1=__xsdv__(slider_0.val.minValue,v=>{slider_0.val.minValue=v},(...args)=>{return slider_0.val.minValue(...args)});return minValue_1})().val)*(()=>{const p_0=__xsdv__(p,v=>{p=v},(...args)=>{return p(...args)});return p_0})().val;(()=>{mid.dbgctx=__filename+\":89\";const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const value_1=__xsdv__(slider_0.val.value,v=>{slider_0.val.value=v},(...args)=>{return slider_0.val.value(...args)});return value_1})().val=(()=>{const newValue_0=__xsdv__(newValue,v=>{newValue=v},(...args)=>{return newValue(...args)});return newValue_0})().val;(()=>{mid.dbgctx=__filename+\":90\";const slider_0=__xsdv__(__rslv__(\"slider\"),()=>{});const focus_1=__xsdv__(slider_0.val.focus,v=>{slider_0.val.focus=v},(...args)=>{return slider_0.val.focus(...args)});return focus_1})().val=true;(()=>{mid.dbgctx=__filename+\":92\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+95).use(self).color(high.binding([high.chainRef(root,[\"parent\",\"containsMouse\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__),high.chainRef(root,[\"theme\",\"secondaryColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":96\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 96] parent.containsMouse ? theme.highlightColor : theme.secondaryColor\")).use(self).text(\"[icon:core-drag_indicator]\").flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":103\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;(()=>{mid.dbgctx=__filename+\":105\";const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const animated_1=__xsdv__(handle_0.val.animated,v=>{handle_0.val.animated=v},(...args)=>{return handle_0.val.animated(...args)});return animated_1})().val=true;const x=Math.max(0,Math.min((()=>{mid.dbgctx=__filename+\":106\";const bbox_0=__xsdv__(__rslv__(\"bbox\"),()=>{});const width_1=__xsdv__(bbox_0.val.width,v=>{bbox_0.val.width=v},(...args)=>{return bbox_0.val.width(...args)});return width_1})().val,(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const x_1=__xsdv__(ev_0.val.x,v=>{ev_0.val.x=v},(...args)=>{return ev_0.val.x(...args)});return x_1})().val));(()=>{mid.dbgctx=__filename+\":107\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=(()=>{const minValue_0=__xsdv__(__rslv__(\"minValue\"),()=>{});return minValue_0})().val+((()=>{const maxValue_0=__xsdv__(__rslv__(\"maxValue\"),()=>{});return maxValue_0})().val-(()=>{const minValue_0=__xsdv__(__rslv__(\"minValue\"),()=>{});return minValue_0})().val)*((()=>{const x_0=__xsdv__(x,v=>{x=v},(...args)=>{return x(...args)});return x_0})().val/(()=>{const bbox_0=__xsdv__(__rslv__(\"bbox\"),()=>{});const width_1=__xsdv__(bbox_0.val.width,v=>{bbox_0.val.width=v},(...args)=>{return bbox_0.val.width(...args)});return width_1})().val);(()=>{mid.dbgctx=__filename+\":108\";const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const animated_1=__xsdv__(handle_0.val.animated,v=>{handle_0.val.animated=v},(...args)=>{return handle_0.val.animated(...args)});return animated_1})().val=false;(()=>{mid.dbgctx=__filename+\":110\";const focus_0=__xsdv__(__rslv__(\"focus\"),()=>{});return focus_0})().val=true}).use(self).onKeyDown(ev=>{(()=>{mid.dbgctx=__filename+\":115\";const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const animated_1=__xsdv__(handle_0.val.animated,v=>{handle_0.val.animated=v},(...args)=>{return handle_0.val.animated(...args)});return animated_1})().val=true;if((()=>{mid.dbgctx=__filename+\":116\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowLeft\"){(()=>{mid.dbgctx=__filename+\":118\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=Math.max((()=>{const minValue_0=__xsdv__(__rslv__(\"minValue\"),()=>{});return minValue_0})().val,(()=>{const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val-1);(()=>{mid.dbgctx=__filename+\":119\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":121\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowRight\"){(()=>{mid.dbgctx=__filename+\":123\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=Math.min((()=>{const maxValue_0=__xsdv__(__rslv__(\"maxValue\"),()=>{});return maxValue_0})().val,(()=>{const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val+1);(()=>{mid.dbgctx=__filename+\":124\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":126\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"PageUp\"){(()=>{mid.dbgctx=__filename+\":128\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=Math.max((()=>{const minValue_0=__xsdv__(__rslv__(\"minValue\"),()=>{});return minValue_0})().val,(()=>{const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val-(()=>{const stepSize_0=__xsdv__(__rslv__(\"stepSize\"),()=>{});return stepSize_0})().val);(()=>{mid.dbgctx=__filename+\":129\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":131\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"PageDown\"){(()=>{mid.dbgctx=__filename+\":133\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=Math.min((()=>{const maxValue_0=__xsdv__(__rslv__(\"maxValue\"),()=>{});return maxValue_0})().val,(()=>{const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val+(()=>{const stepSize_0=__xsdv__(__rslv__(\"stepSize\"),()=>{});return stepSize_0})().val);(()=>{mid.dbgctx=__filename+\":134\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":136\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Home\"){(()=>{mid.dbgctx=__filename+\":138\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=(()=>{const minValue_0=__xsdv__(__rslv__(\"minValue\"),()=>{});return minValue_0})().val;(()=>{mid.dbgctx=__filename+\":139\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}else if((()=>{mid.dbgctx=__filename+\":141\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"End\"){(()=>{mid.dbgctx=__filename+\":143\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=(()=>{const maxValue_0=__xsdv__(__rslv__(\"maxValue\"),()=>{});return maxValue_0})().val;(()=>{mid.dbgctx=__filename+\":144\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}(()=>{mid.dbgctx=__filename+\":146\";const handle_0=__xsdv__(__rslv__(\"handle\"),()=>{});const animated_1=__xsdv__(handle_0.val.animated,v=>{handle_0.val.animated=v},(...args)=>{return handle_0.val.animated(...args)});return animated_1})().val=false}).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+149).use(self).visible(high.binding([high.chainRef(root,[\"slider\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":149\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 149] slider.focus \")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/SpinBox.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.SpinBox={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+38).use(self).id(\"spinBox\",__namespace).use(self).property(\"minValue\",0).use(self).property(\"maxValue\",100).use(self).property(\"value\",0).use(self).property(\"stepSize\",5).use(self).property(\"setValue\",v=>{const nv=Math.max((()=>{mid.dbgctx=__filename+\":57\";const minValue_0=__xsdv__(__rslv__(\"minValue\"),()=>{});return minValue_0})().val,Math.min((()=>{const maxValue_0=__xsdv__(__rslv__(\"maxValue\"),()=>{});return maxValue_0})().val,(()=>{const v_0=__xsdv__(v,v=>{v=v},(...args)=>{return v(...args)});return v_0})().val));if((()=>{mid.dbgctx=__filename+\":58\";const nv_0=__xsdv__(nv,v=>{nv=v},(...args)=>{return nv(...args)});return nv_0})().val!==(()=>{const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val){(()=>{mid.dbgctx=__filename+\":60\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val=(()=>{const nv_0=__xsdv__(nv,v=>{nv=v},(...args)=>{return nv(...args)});return nv_0})().val}}).use(self).onMinValueChanged(()=>{(()=>{const setValue_0=__xsdv__(__rslv__(\"setValue\"),()=>{});const CALL_1=__xsdv__(setValue_0.val((()=>{mid.dbgctx=__filename+\":64\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val),()=>{});return CALL_1})().val}).use(self).onMaxValueChanged(()=>{(()=>{const setValue_0=__xsdv__(__rslv__(\"setValue\"),()=>{});const CALL_1=__xsdv__(setValue_0.val((()=>{mid.dbgctx=__filename+\":65\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val),()=>{});return CALL_1})().val}).use(self).onValueChanged(()=>{(()=>{const setValue_0=__xsdv__(__rslv__(\"setValue\"),()=>{});const CALL_1=__xsdv__(setValue_0.val((()=>{mid.dbgctx=__filename+\":66\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val),()=>{});return CALL_1})().val}).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":68\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 68] theme.itemWidthLarge\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":69\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 69] theme.itemHeightSmall\")).use(self).layout(\"center-row\").use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+73).use(self).enabled(high.binding([high.chainRef(root,[\"spinBox\",\"value\"],__rslv__),high.chainRef(root,[\"spinBox\",\"minValue\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":74\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val>(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 74] spinBox.value > spinBox.minValue\")).use(self).flat(true).use(self).checked(high.binding([high.chainRef(root,[\"pressed\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":76\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 76] pressed\")).use(self).icon(\"core-minus\").use(self).onClick(()=>{(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const setValue_1=__xsdv__(spinBox_0.val.setValue,v=>{spinBox_0.val.setValue=v},(...args)=>{return spinBox_0.val.setValue(...args)});const CALL_2=__xsdv__(setValue_1.val((()=>{mid.dbgctx=__filename+\":81\";const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const value_1=__xsdv__(spinBox_0.val.value,v=>{spinBox_0.val.value=v},(...args)=>{return spinBox_0.val.value(...args)});return value_1})().val-(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const stepSize_1=__xsdv__(spinBox_0.val.stepSize,v=>{spinBox_0.val.stepSize=v},(...args)=>{return spinBox_0.val.stepSize(...args)});return stepSize_1})().val),()=>{});return CALL_2})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"Timer\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Timer\").objectLocation(__filename+\":\"+84).use(self).running(high.binding([high.chainRef(root,[\"parent\",\"pressed\"],__rslv__),high.chainRef(root,[\"parent\",\"enabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":85\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 85] parent.pressed && parent.enabled\")).use(self).repeat(true).use(self).onRunningChanged(()=>{(()=>{mid.dbgctx=__filename+\":90\";const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val=300}).use(self).onTimeout(()=>{(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const setValue_1=__xsdv__(spinBox_0.val.setValue,v=>{spinBox_0.val.setValue=v},(...args)=>{return spinBox_0.val.setValue(...args)});const CALL_2=__xsdv__(setValue_1.val((()=>{mid.dbgctx=__filename+\":95\";const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const value_1=__xsdv__(spinBox_0.val.value,v=>{spinBox_0.val.value=v},(...args)=>{return spinBox_0.val.value(...args)});return value_1})().val-(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const stepSize_1=__xsdv__(spinBox_0.val.stepSize,v=>{spinBox_0.val.stepSize=v},(...args)=>{return spinBox_0.val.stepSize(...args)});return stepSize_1})().val),()=>{});return CALL_2})().val;if((()=>{mid.dbgctx=__filename+\":97\";const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val>1){(()=>{mid.dbgctx=__filename+\":99\";const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val=(()=>{const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val*0.9}}).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"TextEntry\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"TextEntry\").objectLocation(__filename+\":\"+106).use(self).property(\"value\",high.binding([high.chainRef(root,[\"spinBox\",\"value\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":107\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 107] spinBox.value\")).use(self).fillWidth(true).use(self).pattern(\"-?[0-9]*\").use(self).text(high.binding([high.chainRef(root,[\"spinBox\",\"value\"],__rslv__)],alias0=>{return\"\"+(()=>{mid.dbgctx=__filename+\":111\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 111] \\\"\\\" + spinBox.value\")).use(self).onValueChanged(()=>{const t=\"\"+(()=>{mid.dbgctx=__filename+\":115\";const value_0=__xsdv__(__rslv__(\"value\"),()=>{});return value_0})().val;if((()=>{mid.dbgctx=__filename+\":116\";const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});return t_0})().val!==(()=>{const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val){(()=>{mid.dbgctx=__filename+\":118\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val=(()=>{const t_0=__xsdv__(t,v=>{t=v},(...args)=>{return t(...args)});return t_0})().val}}).use(self).onTextChanged(()=>{if((()=>{mid.dbgctx=__filename+\":124\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val!==\"\"&&(()=>{const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val!==\"-\"){(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const setValue_1=__xsdv__(spinBox_0.val.setValue,v=>{spinBox_0.val.setValue=v},(...args)=>{return spinBox_0.val.setValue(...args)});const CALL_2=__xsdv__(setValue_1.val(Number.parseInt((()=>{mid.dbgctx=__filename+\":126\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val)),()=>{});return CALL_2})().val;if((()=>{mid.dbgctx=__filename+\":127\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val!==\"\"+(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const value_1=__xsdv__(spinBox_0.val.value,v=>{spinBox_0.val.value=v},(...args)=>{return spinBox_0.val.value(...args)});return value_1})().val){(()=>{mid.dbgctx=__filename+\":129\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val=\"\"+(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const value_1=__xsdv__(spinBox_0.val.value,v=>{spinBox_0.val.value=v},(...args)=>{return spinBox_0.val.value(...args)});return value_1})().val}}else{(()=>{mid.dbgctx=__filename+\":134\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val=\"\"+(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const minValue_1=__xsdv__(spinBox_0.val.minValue,v=>{spinBox_0.val.minValue=v},(...args)=>{return spinBox_0.val.minValue(...args)});return minValue_1})().val}}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+139).use(self).enabled(high.binding([high.chainRef(root,[\"spinBox\",\"value\"],__rslv__),high.chainRef(root,[\"spinBox\",\"maxValue\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":140\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val<(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 140] spinBox.value < spinBox.maxValue\")).use(self).flat(true).use(self).checked(high.binding([high.chainRef(root,[\"pressed\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":142\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 142] pressed\")).use(self).icon(\"core-plus\").use(self).onClick(()=>{(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const setValue_1=__xsdv__(spinBox_0.val.setValue,v=>{spinBox_0.val.setValue=v},(...args)=>{return spinBox_0.val.setValue(...args)});const CALL_2=__xsdv__(setValue_1.val((()=>{mid.dbgctx=__filename+\":147\";const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const value_1=__xsdv__(spinBox_0.val.value,v=>{spinBox_0.val.value=v},(...args)=>{return spinBox_0.val.value(...args)});return value_1})().val+(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const stepSize_1=__xsdv__(spinBox_0.val.stepSize,v=>{spinBox_0.val.stepSize=v},(...args)=>{return spinBox_0.val.stepSize(...args)});return stepSize_1})().val),()=>{});return CALL_2})().val}).use(self).add((__pRslv__=>{const self=elementLookup(\"Timer\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Timer\").objectLocation(__filename+\":\"+150).use(self).running(high.binding([high.chainRef(root,[\"parent\",\"pressed\"],__rslv__),high.chainRef(root,[\"parent\",\"enabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":151\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 151] parent.pressed && parent.enabled\")).use(self).repeat(true).use(self).onRunningChanged(()=>{(()=>{mid.dbgctx=__filename+\":156\";const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val=300}).use(self).onTimeout(()=>{(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const setValue_1=__xsdv__(spinBox_0.val.setValue,v=>{spinBox_0.val.setValue=v},(...args)=>{return spinBox_0.val.setValue(...args)});const CALL_2=__xsdv__(setValue_1.val((()=>{mid.dbgctx=__filename+\":161\";const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const value_1=__xsdv__(spinBox_0.val.value,v=>{spinBox_0.val.value=v},(...args)=>{return spinBox_0.val.value(...args)});return value_1})().val+(()=>{const spinBox_0=__xsdv__(__rslv__(\"spinBox\"),()=>{});const stepSize_1=__xsdv__(spinBox_0.val.stepSize,v=>{spinBox_0.val.stepSize=v},(...args)=>{return spinBox_0.val.stepSize(...args)});return stepSize_1})().val),()=>{});return CALL_2})().val;if((()=>{mid.dbgctx=__filename+\":163\";const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val>1){(()=>{mid.dbgctx=__filename+\":165\";const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val=(()=>{const interval_0=__xsdv__(__rslv__(\"interval\"),()=>{});return interval_0})().val*0.9}}).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/SplitBox.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1322,mid,high)=>{const modules={mod1322:mod1322,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.SplitBox={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+44).use(self).id(\"splitBox\",__namespace).use(self).property(\"firstAdd\",function(child){self.find(\"box1\",__namespace).add(child);return self}).use(self).property(\"secondAdd\",function(child){self.find(\"box2\",__namespace).add(child);return self}).use(self).layout(\"row\").use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+52).use(self).id(\"box1\",__namespace).use(self).position(\"free\").use(self).width(high.binding([high.chainRef(root,[\"gutter\",\"x\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":57\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 57] gutter.x\\r\")).use(self).fillHeight(true).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+61).use(self).id(\"gutter\",__namespace).use(self).canFocus(true).use(self).position(\"free\").use(self).layout(\"center-column\").use(self).x(high.binding([high.chainRef(root,[\"splitBox\",\"bbox\",\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":69\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/2},__filename+\"[l. 69] splitBox.bbox.width / 2\\r\")).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"paddingLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":70\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 70] theme.paddingLarge\\r\")).use(self).fillHeight(true).use(self).cursor(\"col-resize\").use(self).onDrag(ev=>{const w=(()=>{mid.dbgctx=__filename+\":77\";const splitBox_0=__xsdv__(__rslv__(\"splitBox\"),()=>{});const bbox_1=__xsdv__(splitBox_0.val.bbox,v=>{splitBox_0.val.bbox=v},(...args)=>{return splitBox_0.val.bbox(...args)});const width_2=__xsdv__(bbox_1.val.width,v=>{bbox_1.val.width=v},(...args)=>{return bbox_1.val.width(...args)});return width_2})().val;(()=>{mid.dbgctx=__filename+\":79\";const x_0=__xsdv__(__rslv__(\"x\"),()=>{});return x_0})().val=Math.max(16,Math.min((()=>{const w_0=__xsdv__(w,v=>{w=v},(...args)=>{return w(...args)});return w_0})().val-(()=>{const width_0=__xsdv__(__rslv__(\"width\"),()=>{});return width_0})().val-16,(()=>{const x_0=__xsdv__(__rslv__(\"x\"),()=>{});return x_0})().val+(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaX_1=__xsdv__(ev_0.val.deltaX,v=>{ev_0.val.deltaX=v},(...args)=>{return ev_0.val.deltaX(...args)});return deltaX_1})().val));(()=>{mid.dbgctx=__filename+\":81\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":86\";const gutter_0=__xsdv__(__rslv__(\"gutter\"),()=>{});const focus_1=__xsdv__(gutter_0.val.focus,v=>{gutter_0.val.focus=v},(...args)=>{return gutter_0.val.focus(...args)});return focus_1})().val=true;(()=>{mid.dbgctx=__filename+\":87\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onKeyDown(ev=>{const w=(()=>{mid.dbgctx=__filename+\":92\";const splitBox_0=__xsdv__(__rslv__(\"splitBox\"),()=>{});const bbox_1=__xsdv__(splitBox_0.val.bbox,v=>{splitBox_0.val.bbox=v},(...args)=>{return splitBox_0.val.bbox(...args)});const width_2=__xsdv__(bbox_1.val.width,v=>{bbox_1.val.width=v},(...args)=>{return bbox_1.val.width(...args)});return width_2})().val;if((()=>{mid.dbgctx=__filename+\":94\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowLeft\"){(()=>{mid.dbgctx=__filename+\":96\";const x_0=__xsdv__(__rslv__(\"x\"),()=>{});return x_0})().val=Math.max(16,Math.min((()=>{const w_0=__xsdv__(w,v=>{w=v},(...args)=>{return w(...args)});return w_0})().val-(()=>{const width_0=__xsdv__(__rslv__(\"width\"),()=>{});return width_0})().val-16,(()=>{const x_0=__xsdv__(__rslv__(\"x\"),()=>{});return x_0})().val-32));(()=>{mid.dbgctx=__filename+\":97\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}if((()=>{mid.dbgctx=__filename+\":99\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowRight\"){(()=>{mid.dbgctx=__filename+\":101\";const x_0=__xsdv__(__rslv__(\"x\"),()=>{});return x_0})().val=Math.max(16,Math.min((()=>{const w_0=__xsdv__(w,v=>{w=v},(...args)=>{return w(...args)});return w_0})().val-(()=>{const width_0=__xsdv__(__rslv__(\"width\"),()=>{});return width_0})().val-16,(()=>{const x_0=__xsdv__(__rslv__(\"x\"),()=>{});return x_0})().val+32));(()=>{mid.dbgctx=__filename+\":102\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+106).use(self).width(1).use(self).fillHeight(true).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":109\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 109] theme.borderColor\\r\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+112).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":114\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 114] theme.itemHeightLarge\\r\")).use(self).marginLeft(2).use(self).marginRight(2).use(self).color(high.binding([high.chainRef(root,[\"parent\",\"pressed\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__),high.chainRef(root,[\"parent\",\"containsMouse\"],__rslv__),high.chainRef(root,[\"theme\",\"hoverBackgroundColor\"],__rslv__),high.chainRef(root,[\"theme\",\"secondaryBackgroundColor\"],__rslv__)],(alias0,alias1,alias2,alias3,alias4)=>{return(()=>{mid.dbgctx=__filename+\":118\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{mid.dbgctx=__filename+\":119\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val?(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});return alias3_0})().val:(()=>{mid.dbgctx=__filename+\":120\";const alias4_0=__xsdv__(alias4,v=>{alias4=v},(...args)=>{return alias4(...args)});return alias4_0})().val},__filename+\"[l. 118] parent.pressed ? theme.highlightBackgroundColor\\r\\n                                  : parent.containsMouse ? theme.hoverBackgroundColor\\r\\n                                                         : theme.secondaryBackgroundColor\\r\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":121\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 121] theme.borderColor\\r\")).use(self).borderWidth(1).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":123\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 123] theme.borderRadius\\r\")).use(self).layout(\"center\").use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+127).use(self).fontSize(high.binding([high.chainRef(root,[\"parent\",\"bbox\",\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":128\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 128] parent.bbox.width\\r\")).use(self).text(\"[icon:drag_indicator]\").flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+133).use(self).width(1).use(self).fillHeight(true).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":136\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 136] theme.borderColor\\r\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+139).use(self).visible(high.binding([high.chainRef(root,[\"gutter\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":139\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 139] gutter.focus \")).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+142).use(self).id(\"box2\",__namespace).use(self).position(\"free\").use(self).marginLeft(high.binding([high.chainRef(root,[\"box1\",\"width\"],__rslv__),high.chainRef(root,[\"gutter\",\"width\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":146\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val+(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val},__filename+\"[l. 146] box1.width + gutter.width\\r\")).use(self).fillWidth(true).use(self).fillHeight(true).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Switch.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1322,mid,high)=>{const modules={mod1322:mod1322,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Switch={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+35).use(self).id(\"switch\",__namespace).use(self).property(\"checked\",false).use(self).canFocus(true).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":42\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 42] theme.itemWidthMedium\\r\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":43\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 43] theme.itemHeightSmall\\r\")).use(self).opacity(high.binding([high.chainRef(root,[\"enabled\"],__rslv__),high.chainRef(root,[\"ancestorsEnabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":44\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?1:0.6},__filename+\"[l. 44] enabled && ancestorsEnabled ? 1 : 0.6\\r\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 46] theme.borderColor\\r\")).use(self).borderWidth(1).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":48\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 48] theme.borderRadius\\r\")).use(self).color(high.binding([high.chainRef(root,[\"checked\"],__rslv__),high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__),high.chainRef(root,[\"theme\",\"secondaryBackgroundColor\"],__rslv__)],(alias0,alias1,alias2)=>{return(()=>{mid.dbgctx=__filename+\":50\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val:(()=>{mid.dbgctx=__filename+\":51\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val},__filename+\"[l. 50] checked ? theme.highlightBackgroundColor\\r\\n                   : theme.secondaryBackgroundColor\\r\")).use(self).onClick(ev=>{(()=>{mid.dbgctx=__filename+\":55\";const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val=!(()=>{const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val;(()=>{mid.dbgctx=__filename+\":56\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).onKeyDown(ev=>{if((()=>{mid.dbgctx=__filename+\":61\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\" \"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"Enter\"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowLeft\"||(()=>{const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const key_1=__xsdv__(ev_0.val.key,v=>{ev_0.val.key=v},(...args)=>{return ev_0.val.key(...args)});return key_1})().val===\"ArrowRight\"){(()=>{mid.dbgctx=__filename+\":63\";const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val=!(()=>{const checked_0=__xsdv__(__rslv__(\"checked\"),()=>{});return checked_0})().val;(()=>{mid.dbgctx=__filename+\":64\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+68).use(self).position(\"free\").use(self).marginLeft(high.binding([high.chainRef(root,[\"switch\",\"checked\"],__rslv__),high.chainRef(root,[\"width\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":70\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val?(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val-2:1},__filename+\"[l. 70] switch.checked ? width - 2 : 1\\r\")).use(self).width(high.binding([high.chainRef(root,[\"switch\",\"width\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":71\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val/2},__filename+\"[l. 71] switch.width / 2\\r\")).use(self).fillHeight(true).use(self).enabled(false).use(self).marginTop(1).use(self).marginRight(1).use(self).marginBottom(1).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":79\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 79] theme.primaryBackgroundColor\\r\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":81\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 81] theme.borderColor\\r\")).use(self).borderWidth(1).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":83\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 83] theme.borderRadius\\r\")).use(self).marginLeftTransition((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+85).use(self).duration(200).use(self).easing(\"InExpo\").flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+91).use(self).visible(high.binding([high.chainRef(root,[\"switch\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":91\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 91] switch.focus \")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/TextArea.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.TextArea={create:__pRslv__=>{const root=elementLookup(\"MouseBox\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+44).use(self).id(\"box\",__namespace).use(self).property(\"text\",\"\").use(self).property(\"textColor\",high.binding([high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":48\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 48] theme.primaryColor\")).use(self).property(\"fontSize\",high.binding([high.chainRef(root,[\"theme\",\"fontSizeMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":49\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 49] theme.fontSizeMedium\")).use(self).property(\"fontFamily\",\"sans-serif\").use(self).property(\"bold\",false).use(self).property(\"column\",high.binding([high.chainRef(root,[\"input\",\"column\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":52\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 52] input.column\")).use(self).property(\"selectionStart\",high.binding([high.chainRef(root,[\"input\",\"selectionStart\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":53\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 53] input.selectionStart\")).use(self).property(\"selectionEnd\",high.binding([high.chainRef(root,[\"input\",\"selectionEnd\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":54\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 54] input.selectionEnd\")).use(self).property(\"row\",high.binding([high.chainRef(root,[\"input\",\"row\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":55\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 55] input.row\")).use(self).property(\"spellCheck\",false).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":58\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*2},__filename+\"[l. 58] theme.itemWidthLarge * 2\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":59\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*2},__filename+\"[l. 59] theme.itemHeightLarge * 2\")).use(self).opacity(high.binding([high.chainRef(root,[\"enabled\"],__rslv__),high.chainRef(root,[\"ancestorsEnabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":60\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?1:0.6},__filename+\"[l. 60] enabled && ancestorsEnabled ? 1 : 0.6\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"contentBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":61\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 61] theme.contentBackgroundColor\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":62\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 62] theme.borderColor\")).use(self).borderWidth(1).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":64\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 64] theme.borderRadius\")).use(self).onWheel(function(){const ev=arguments[0];(()=>{mid.dbgctx=__filename+\":68\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true;if((()=>{mid.dbgctx=__filename+\":70\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaX_1=__xsdv__(ev_0.val.deltaX,v=>{ev_0.val.deltaX=v},(...args)=>{return ev_0.val.deltaX(...args)});return deltaX_1})().val<0){(()=>{mid.dbgctx=__filename+\":72\";const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentX_1=__xsdv__(input_0.val.contentX,v=>{input_0.val.contentX=v},(...args)=>{return input_0.val.contentX(...args)});return contentX_1})().val=Math.max(0,(()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentX_1=__xsdv__(input_0.val.contentX,v=>{input_0.val.contentX=v},(...args)=>{return input_0.val.contentX(...args)});return contentX_1})().val-(()=>{const theme_0=__xsdv__(__rslv__(\"theme\"),()=>{});const itemHeightMedium_1=__xsdv__(theme_0.val.itemHeightMedium,v=>{theme_0.val.itemHeightMedium=v},(...args)=>{return theme_0.val.itemHeightMedium(...args)});return itemHeightMedium_1})().val)}else if((()=>{mid.dbgctx=__filename+\":74\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaX_1=__xsdv__(ev_0.val.deltaX,v=>{ev_0.val.deltaX=v},(...args)=>{return ev_0.val.deltaX(...args)});return deltaX_1})().val>0){(()=>{mid.dbgctx=__filename+\":76\";const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentX_1=__xsdv__(input_0.val.contentX,v=>{input_0.val.contentX=v},(...args)=>{return input_0.val.contentX(...args)});return contentX_1})().val=Math.min((()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentWidth_1=__xsdv__(input_0.val.contentWidth,v=>{input_0.val.contentWidth=v},(...args)=>{return input_0.val.contentWidth(...args)});return contentWidth_1})().val-(()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const bbox_1=__xsdv__(input_0.val.bbox,v=>{input_0.val.bbox=v},(...args)=>{return input_0.val.bbox(...args)});const width_2=__xsdv__(bbox_1.val.width,v=>{bbox_1.val.width=v},(...args)=>{return bbox_1.val.width(...args)});return width_2})().val,(()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentX_1=__xsdv__(input_0.val.contentX,v=>{input_0.val.contentX=v},(...args)=>{return input_0.val.contentX(...args)});return contentX_1})().val+(()=>{const theme_0=__xsdv__(__rslv__(\"theme\"),()=>{});const itemHeightMedium_1=__xsdv__(theme_0.val.itemHeightMedium,v=>{theme_0.val.itemHeightMedium=v},(...args)=>{return theme_0.val.itemHeightMedium(...args)});return itemHeightMedium_1})().val)}if((()=>{mid.dbgctx=__filename+\":79\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaY_1=__xsdv__(ev_0.val.deltaY,v=>{ev_0.val.deltaY=v},(...args)=>{return ev_0.val.deltaY(...args)});return deltaY_1})().val<0){(()=>{mid.dbgctx=__filename+\":81\";const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentY_1=__xsdv__(input_0.val.contentY,v=>{input_0.val.contentY=v},(...args)=>{return input_0.val.contentY(...args)});return contentY_1})().val=Math.max(0,(()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentY_1=__xsdv__(input_0.val.contentY,v=>{input_0.val.contentY=v},(...args)=>{return input_0.val.contentY(...args)});return contentY_1})().val-(()=>{const theme_0=__xsdv__(__rslv__(\"theme\"),()=>{});const itemHeightMedium_1=__xsdv__(theme_0.val.itemHeightMedium,v=>{theme_0.val.itemHeightMedium=v},(...args)=>{return theme_0.val.itemHeightMedium(...args)});return itemHeightMedium_1})().val)}else if((()=>{mid.dbgctx=__filename+\":83\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const deltaY_1=__xsdv__(ev_0.val.deltaY,v=>{ev_0.val.deltaY=v},(...args)=>{return ev_0.val.deltaY(...args)});return deltaY_1})().val>0){(()=>{mid.dbgctx=__filename+\":85\";const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentY_1=__xsdv__(input_0.val.contentY,v=>{input_0.val.contentY=v},(...args)=>{return input_0.val.contentY(...args)});return contentY_1})().val=Math.min((()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentHeight_1=__xsdv__(input_0.val.contentHeight,v=>{input_0.val.contentHeight=v},(...args)=>{return input_0.val.contentHeight(...args)});return contentHeight_1})().val-(()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const bbox_1=__xsdv__(input_0.val.bbox,v=>{input_0.val.bbox=v},(...args)=>{return input_0.val.bbox(...args)});const height_2=__xsdv__(bbox_1.val.height,v=>{bbox_1.val.height=v},(...args)=>{return bbox_1.val.height(...args)});return height_2})().val,(()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const contentY_1=__xsdv__(input_0.val.contentY,v=>{input_0.val.contentY=v},(...args)=>{return input_0.val.contentY(...args)});return contentY_1})().val+(()=>{const theme_0=__xsdv__(__rslv__(\"theme\"),()=>{});const itemHeightMedium_1=__xsdv__(theme_0.val.itemHeightMedium,v=>{theme_0.val.itemHeightMedium=v},(...args)=>{return theme_0.val.itemHeightMedium(...args)});return itemHeightMedium_1})().val)}}).use(self).add((__pRslv__=>{const self=elementLookup(\"mid.TextArea\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"mid.TextArea\").objectLocation(__filename+\":\"+89).use(self).id(\"input\",__namespace).use(self).fillWidth(true).use(self).fillHeight(true).use(self).marginTop(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":94\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 94] theme.paddingSmall\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":95\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 95] theme.paddingSmall\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":96\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 96] theme.paddingSmall\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":97\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 97] theme.paddingSmall\")).use(self).fontSize(high.binding([high.chainRef(root,[\"box\",\"fontSize\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":98\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 98] box.fontSize\")).use(self).fontFamily(high.binding([high.chainRef(root,[\"box\",\"fontFamily\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":99\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 99] box.fontFamily\")).use(self).bold(high.binding([high.chainRef(root,[\"box\",\"bold\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":100\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 100] box.bold\")).use(self).color(high.binding([high.chainRef(root,[\"box\",\"textColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":101\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 101] box.textColor\")).use(self).selectionBackgroundColor(high.binding([high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":102\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 102] theme.highlightBackgroundColor\")).use(self).selectionColor(high.binding([high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":103\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 103] theme.highlightColor\")).use(self).spellCheck(high.binding([high.chainRef(root,[\"box\",\"spellCheck\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":104\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 104] box.spellCheck\")).use(self).text(high.binding([high.chainRef(root,[\"box\",\"text\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":105\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 105] box.text\")).use(self).canFocus(true).use(self).onTextChanged(function(){(()=>{mid.dbgctx=__filename+\":109\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const text_1=__xsdv__(box_0.val.text,v=>{box_0.val.text=v},(...args)=>{return box_0.val.text(...args)});return text_1})().val=(()=>{const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"ScrollIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ScrollIndicator\").objectLocation(__filename+\":\"+112).use(self).id(\"siA\",__namespace).use(self).other(high.binding([high.chainRef(root,[\"siB\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":112\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 112] siB\")).use(self).target(high.binding([high.chainRef(root,[\"input\"],__rslv__)],alias0=>{return(()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 112] input\")).use(self).orientation(\"vertical\").flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"ScrollIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"ScrollIndicator\").objectLocation(__filename+\":\"+113).use(self).id(\"siB\",__namespace).use(self).other(high.binding([high.chainRef(root,[\"siA\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":113\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 113] siA\")).use(self).target(high.binding([high.chainRef(root,[\"input\"],__rslv__)],alias0=>{return(()=>{const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 113] input\")).use(self).orientation(\"horizontal\").flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+115).use(self).visible(high.binding([high.chainRef(root,[\"input\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":115\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 115] input.focus \")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/TextEntry.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1300,mid,high)=>{const modules={mod1300:mod1300,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.TextEntry={create:__pRslv__=>{const root=elementLookup(\"Box\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+37).use(self).id(\"box\",__namespace).use(self).property(\"text\",\"\").use(self).property(\"password\",false).use(self).property(\"pattern\",\".*\").use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":44\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 44] theme.itemWidthLarge\")).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":45\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 45] theme.itemHeightSmall\")).use(self).opacity(high.binding([high.chainRef(root,[\"enabled\"],__rslv__),high.chainRef(root,[\"ancestorsEnabled\"],__rslv__)],(alias0,alias1)=>{return(()=>{mid.dbgctx=__filename+\":46\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val&&(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val?1:0.6},__filename+\"[l. 46] enabled && ancestorsEnabled ? 1 : 0.6\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"contentBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":47\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 47] theme.contentBackgroundColor\")).use(self).borderColor(high.binding([high.chainRef(root,[\"theme\",\"borderColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":48\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 48] theme.borderColor\")).use(self).borderWidth(1).use(self).borderRadius(high.binding([high.chainRef(root,[\"theme\",\"borderRadius\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":50\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 50] theme.borderRadius\")).use(self).layout(\"center-row\").use(self).onTextChanged(()=>{if((()=>{mid.dbgctx=__filename+\":55\";const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val!==(()=>{const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const text_1=__xsdv__(input_0.val.text,v=>{input_0.val.text=v},(...args)=>{return input_0.val.text(...args)});return text_1})().val){(()=>{mid.dbgctx=__filename+\":57\";const input_0=__xsdv__(__rslv__(\"input\"),()=>{});const text_1=__xsdv__(input_0.val.text,v=>{input_0.val.text=v},(...args)=>{return input_0.val.text(...args)});return text_1})().val=(()=>{const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val}}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+61).use(self).id(\"flashBox\",__namespace).use(self).position(\"free\").use(self).fillWidth(true).use(self).fillHeight(true).use(self).color(\"red\").use(self).opacity(0).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"TextInput\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"TextInput\").objectLocation(__filename+\":\"+70).use(self).id(\"input\",__namespace).use(self).fillWidth(true).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":74\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 74] theme.paddingSmall\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":75\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 75] theme.paddingSmall\")).use(self).fontSize(high.binding([high.chainRef(root,[\"theme\",\"fontSizeMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":76\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 76] theme.fontSizeMedium\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":77\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 77] theme.primaryColor\")).use(self).selectionBackgroundColor(high.binding([high.chainRef(root,[\"theme\",\"highlightBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":78\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 78] theme.highlightBackgroundColor\")).use(self).selectionColor(high.binding([high.chainRef(root,[\"theme\",\"highlightColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":79\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 79] theme.highlightColor\")).use(self).password(high.binding([high.chainRef(root,[\"box\",\"password\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":80\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 80] box.password\")).use(self).pattern(high.binding([high.chainRef(root,[\"box\",\"pattern\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":81\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 81] box.pattern\")).use(self).canFocus(true).use(self).onTextChanged(function(){(()=>{mid.dbgctx=__filename+\":85\";const box_0=__xsdv__(__rslv__(\"box\"),()=>{});const text_1=__xsdv__(box_0.val.text,v=>{box_0.val.text=v},(...args)=>{return box_0.val.text(...args)});return text_1})().val=(()=>{const text_0=__xsdv__(__rslv__(\"text\"),()=>{});return text_0})().val}).use(self).onReject(function(){(()=>{mid.dbgctx=__filename+\":86\";const flashAnimation_0=__xsdv__(__rslv__(\"flashAnimation\"),()=>{});const start_1=__xsdv__(flashAnimation_0.val.start,v=>{flashAnimation_0.val.start=v},(...args)=>{return flashAnimation_0.val.start(...args)});const CALL_2=__xsdv__(start_1.val(),()=>{});return CALL_2})().val}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"NumberAnimation\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"NumberAnimation\").objectLocation(__filename+\":\"+89).use(self).id(\"flashAnimation\",__namespace).use(self).from(1).use(self).to(0).use(self).duration(300).use(self).easing(\"InOutQuad\").use(self).onNext(function(){(()=>{mid.dbgctx=__filename+\":97\";const flashBox_0=__xsdv__(__rslv__(\"flashBox\"),()=>{});const opacity_1=__xsdv__(flashBox_0.val.opacity,v=>{flashBox_0.val.opacity=v},(...args)=>{return flashBox_0.val.opacity(...args)});return opacity_1})().val=arguments[0]}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"FocusIndicator\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"FocusIndicator\").objectLocation(__filename+\":\"+101).use(self).visible(high.binding([high.chainRef(root,[\"input\",\"focus\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":101\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 101] input.focus \")).flushPending();return self})(__rslv__)).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/Theme.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/mid\",\"shellfish/high\"],(mid,high)=>{const modules={mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.Theme={create:__pRslv__=>{const root=elementLookup(\"Object\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Object\").objectLocation(__filename+\":\"+56).use(self).property(\"primaryColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":58\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#404040\"),()=>{});return CALL_1})().val},__filename+\"[l. 58] colorName(\\\"#404040\\\")\")).use(self).property(\"primaryBackgroundColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":59\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#fafafa\"),()=>{});return CALL_1})().val},__filename+\"[l. 59] colorName(\\\"#fafafa\\\")\")).use(self).property(\"secondaryColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":61\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#606060\"),()=>{});return CALL_1})().val},__filename+\"[l. 61] colorName(\\\"#606060\\\")\")).use(self).property(\"secondaryBackgroundColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":62\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#e0e0e0\"),()=>{});return CALL_1})().val},__filename+\"[l. 62] colorName(\\\"#e0e0e0\\\")\")).use(self).property(\"highlightColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":64\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#fafafa\"),()=>{});return CALL_1})().val},__filename+\"[l. 64] colorName(\\\"#fafafa\\\")\")).use(self).property(\"highlightBackgroundColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":65\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#23527c\"),()=>{});return CALL_1})().val},__filename+\"[l. 65] colorName(\\\"#23527c\\\")\")).use(self).property(\"hoverBackgroundColor\",high.binding([high.chainRef(root,[\"highlightBackgroundColor\",\"saturation\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":66\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(0.2),()=>{});const brightness_2=__xsdv__(CALL_1.val.brightness,v=>{CALL_1.val.brightness=v},(...args)=>{return CALL_1.val.brightness(...args)});const CALL_3=__xsdv__(brightness_2.val(2),()=>{});return CALL_3})().val},__filename+\"[l. 66] highlightBackgroundColor.saturation(0.2).brightness(2.0)\")).use(self).property(\"disabledColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":68\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#808080\"),()=>{});return CALL_1})().val},__filename+\"[l. 68] colorName(\\\"#808080\\\")\")).use(self).property(\"contentBackgroundColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":70\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#ffffff\"),()=>{});return CALL_1})().val},__filename+\"[l. 70] colorName(\\\"#ffffff\\\")\")).use(self).property(\"contentAltBackgroundColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":71\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#f0f0f0\"),()=>{});return CALL_1})().val},__filename+\"[l. 71] colorName(\\\"#f0f0f0\\\")\")).use(self).property(\"borderColor\",high.binding([high.chainRef(root,[\"colorName\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":73\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const CALL_1=__xsdv__(alias0_0.val(\"#808080\"),()=>{});return CALL_1})().val},__filename+\"[l. 73] colorName(\\\"#808080\\\")\")).use(self).property(\"borderRadius\",3).use(self).property(\"itemWidthSmall\",32).use(self).property(\"itemWidthMedium\",64).use(self).property(\"itemWidthLarge\",128).use(self).property(\"itemHeightSmall\",24).use(self).property(\"itemHeightMedium\",32).use(self).property(\"itemHeightLarge\",42).use(self).property(\"paddingSmall\",8).use(self).property(\"paddingMedium\",12).use(self).property(\"paddingLarge\",16).use(self).property(\"fontSizeSmall\",12).use(self).property(\"fontSizeMedium\",16).use(self).property(\"fontSizeLarge\",32).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui/TimePicker.shui.js":"\"use strict\";shRequire([\"shellfish/preload\",\"shellfish/fengshui\"],(preload_Internal,fengshui_Internal)=>{shRequire([\"shellfish/ui\",\"shellfish/mid\",\"shellfish/high\"],(mod1315,mid,high)=>{const modules={mod1315:mod1315,mid:mid,high:high};const __namespace=__filename;function __rslv__(name){return undefined}const elementLookupCache=new Map;function elementLookup(fqElementName,rslv){return fengshui_Internal.tools.elementLookup(fqElementName,rslv,__filename,modules,elementLookupCache,high)}function __fakeDv__(a,setter){const obj={};Object.defineProperty(obj,\"val\",{get:()=>a,set:setter});return obj}function __xsdv__(a,setter,functor){return high.isDynamicValue(a)?a:typeof a===\"function\"&&functor?{val:functor}:__fakeDv__(a,setter)}exports.TimePicker={create:__pRslv__=>{const root=elementLookup(\"Button\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+36).use(self).id(\"timeButton\",__namespace).use(self).property(\"menuT\",()=>{return{create:function(__pRslv__){const __namespace=\"tmp.1733\";return function(){const root=elementLookup(\"Menu\",__pRslv__);const self=root;const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Menu\").objectLocation(__filename+\":\"+39).use(self).id(\"menu\",__namespace).use(self).property(\"setTime\",(h,m)=>{(()=>{mid.dbgctx=__filename+\":44\";const hoursSlider_0=__xsdv__(__rslv__(\"hoursSlider\"),()=>{});const value_1=__xsdv__(hoursSlider_0.val.value,v=>{hoursSlider_0.val.value=v},(...args)=>{return hoursSlider_0.val.value(...args)});return value_1})().val=(()=>{const h_0=__xsdv__(h,v=>{h=v},(...args)=>{return h(...args)});return h_0})().val;(()=>{mid.dbgctx=__filename+\":45\";const minutesSlider_0=__xsdv__(__rslv__(\"minutesSlider\"),()=>{});const value_1=__xsdv__(minutesSlider_0.val.value,v=>{minutesSlider_0.val.value=v},(...args)=>{return minutesSlider_0.val.value(...args)});return value_1})().val=(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val}).use(self).onCascadingClose(()=>{(()=>{mid.dbgctx=__filename+\":50\";const timeButton_0=__xsdv__(__rslv__(\"timeButton\"),()=>{});const time_1=__xsdv__(timeButton_0.val.time,v=>{timeButton_0.val.time=v},(...args)=>{return timeButton_0.val.time(...args)});return time_1})().val=[Math.floor((()=>{mid.dbgctx=__filename+\":51\";const hoursSlider_0=__xsdv__(__rslv__(\"hoursSlider\"),()=>{});const value_1=__xsdv__(hoursSlider_0.val.value,v=>{hoursSlider_0.val.value=v},(...args)=>{return hoursSlider_0.val.value(...args)});return value_1})().val),Math.floor((()=>{mid.dbgctx=__filename+\":52\";const minutesSlider_0=__xsdv__(__rslv__(\"minutesSlider\"),()=>{});const value_1=__xsdv__(minutesSlider_0.val.value,v=>{minutesSlider_0.val.value=v},(...args)=>{return minutesSlider_0.val.value(...args)});return value_1})().val)]}).use(self).add((__pRslv__=>{const self=elementLookup(\"MouseBox\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"MouseBox\").objectLocation(__filename+\":\"+56).use(self).width(high.binding([high.chainRef(root,[\"theme\",\"itemWidthLarge\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":57\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val*2},__filename+\"[l. 57] theme.itemWidthLarge * 2\\r\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"primaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":58\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 58] theme.primaryBackgroundColor\\r\")).use(self).onPointerDown(ev=>{(()=>{mid.dbgctx=__filename+\":60\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).use(self).add((__pRslv__=>{const self=elementLookup(\"Box\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Box\").objectLocation(__filename+\":\"+62).use(self).fillWidth(true).use(self).height(high.binding([high.chainRef(root,[\"theme\",\"itemHeightMedium\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":64\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 64] theme.itemHeightMedium\\r\")).use(self).color(high.binding([high.chainRef(root,[\"theme\",\"secondaryBackgroundColor\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":65\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 65] theme.secondaryBackgroundColor\\r\")).use(self).layout(\"center-row\").use(self).add((__pRslv__=>{const self=elementLookup(\"Label\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Label\").objectLocation(__filename+\":\"+68).use(self).fillWidth(true).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":70\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 70] theme.paddingSmall\\r\")).use(self).bold(true).use(self).text(high.binding([high.chainRef(root,[\"hoursSlider\",\"value\"],__rslv__),high.chainRef(root,[\"minutesSlider\",\"value\"],__rslv__),high.chainRef(root,[\"timeButton\",\"twentyFourHours\"],__rslv__),high.chainRef(root,[\"timeButton\",\"formatTime\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});const CALL_1=__xsdv__(alias3_0.val((()=>{mid.dbgctx=__filename+\":72\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val|0,(()=>{mid.dbgctx=__filename+\":73\";const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});return alias1_0})().val|0,(()=>{mid.dbgctx=__filename+\":74\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 72] timeButton.formatTime(hoursSlider.value | 0,\\r\\n                                                minutesSlider.value | 0,\\r\\n                                                timeButton.twentyFourHours)\\r\")).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+77).use(self).fillHeight(true).use(self).icon(\"core-time\").use(self).flat(true).use(self).onClick(()=>{const now=new Date;(()=>{const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});const setTime_1=__xsdv__(menu_0.val.setTime,v=>{menu_0.val.setTime=v},(...args)=>{return menu_0.val.setTime(...args)});const CALL_2=__xsdv__(setTime_1.val((()=>{mid.dbgctx=__filename+\":85\";const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getHours_1=__xsdv__(now_0.val.getHours,v=>{now_0.val.getHours=v},(...args)=>{return now_0.val.getHours(...args)});const CALL_2=__xsdv__(getHours_1.val(),()=>{});return CALL_2})().val,(()=>{const now_0=__xsdv__(now,v=>{now=v},(...args)=>{return now(...args)});const getMinutes_1=__xsdv__(now_0.val.getMinutes,v=>{now_0.val.getMinutes=v},(...args)=>{return now_0.val.getMinutes(...args)});const CALL_2=__xsdv__(getMinutes_1.val(),()=>{});return CALL_2})().val),()=>{});return CALL_2})().val}).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Button\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Button\").objectLocation(__filename+\":\"+89).use(self).enabled(high.binding([high.chainRef(root,[\"hoursSlider\",\"value\"],__rslv__),high.chainRef(root,[\"timeButton\",\"time\"],__rslv__),high.chainRef(root,[\"minutesSlider\",\"value\"],__rslv__),high.chainRef(root,[\"timeButton\",\"time\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return Math.floor((()=>{mid.dbgctx=__filename+\":90\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val)!==(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const ACCESS_1=__xsdv__(alias1_0.val[0],v=>{alias1_0.val[0]=v},(...args)=>{return alias1_0.val[0](...args)});return ACCESS_1})().val||Math.floor((()=>{mid.dbgctx=__filename+\":91\";const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val)!==(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});const ACCESS_1=__xsdv__(alias3_0.val[1],v=>{alias3_0.val[1]=v},(...args)=>{return alias3_0.val[1](...args)});return ACCESS_1})().val},__filename+\"[l. 90] Math.floor(hoursSlider.value) !== timeButton.time[0] ||\\r\\n                             Math.floor(minutesSlider.value) !== timeButton.time[1]\\r\")).use(self).fillHeight(true).use(self).icon(\"core-reset\").use(self).flat(true).use(self).onClick(()=>{(()=>{const menu_0=__xsdv__(__rslv__(\"menu\"),()=>{});const setTime_1=__xsdv__(menu_0.val.setTime,v=>{menu_0.val.setTime=v},(...args)=>{return menu_0.val.setTime(...args)});const CALL_2=__xsdv__(setTime_1.val((()=>{mid.dbgctx=__filename+\":98\";const timeButton_0=__xsdv__(__rslv__(\"timeButton\"),()=>{});const time_1=__xsdv__(timeButton_0.val.time,v=>{timeButton_0.val.time=v},(...args)=>{return timeButton_0.val.time(...args)});const ACCESS_2=__xsdv__(time_1.val[0],v=>{time_1.val[0]=v},(...args)=>{return time_1.val[0](...args)});return ACCESS_2})().val,(()=>{const timeButton_0=__xsdv__(__rslv__(\"timeButton\"),()=>{});const time_1=__xsdv__(timeButton_0.val.time,v=>{timeButton_0.val.time=v},(...args)=>{return timeButton_0.val.time(...args)});const ACCESS_2=__xsdv__(time_1.val[1],v=>{time_1.val[1]=v},(...args)=>{return time_1.val[1](...args)});return ACCESS_2})().val),()=>{});return CALL_2})().val}).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Slider\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Slider\").objectLocation(__filename+\":\"+103).use(self).id(\"hoursSlider\",__namespace).use(self).fillWidth(true).use(self).marginTop(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":107\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 107] theme.paddingSmall\\r\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":108\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 108] theme.paddingSmall\\r\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":109\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 109] theme.paddingSmall\\r\")).use(self).minValue(0).use(self).maxValue(23).use(self).value(0).flushPending();return self})(__rslv__)).use(self).add((__pRslv__=>{const self=elementLookup(\"Slider\",__pRslv__);const __rslvCache__=new Map;function __rslv__(name){return fengshui_Internal.tools.rslv(name,__rslvCache__,self,__namespace,__pRslv__,modules)}self.objectType(\"Slider\").objectLocation(__filename+\":\"+115).use(self).id(\"minutesSlider\",__namespace).use(self).fillWidth(true).use(self).marginTop(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":119\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 119] theme.paddingSmall\\r\")).use(self).marginLeft(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":120\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 120] theme.paddingSmall\\r\")).use(self).marginRight(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":121\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 121] theme.paddingSmall\\r\")).use(self).marginBottom(high.binding([high.chainRef(root,[\"theme\",\"paddingSmall\"],__rslv__)],alias0=>{return(()=>{mid.dbgctx=__filename+\":122\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});return alias0_0})().val},__filename+\"[l. 122] theme.paddingSmall\\r\")).use(self).minValue(0).use(self).maxValue(59).use(self).value(0).flushPending();return self})(__rslv__)).flushPending();return self})(__rslv__)).flushPending();return self}}(__rslv__)}.create(__rslv__)}).use(self).property(\"time\",(()=>{const d=new Date;return[(()=>{mid.dbgctx=__filename+\":133\";const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getHours_1=__xsdv__(d_0.val.getHours,v=>{d_0.val.getHours=v},(...args)=>{return d_0.val.getHours(...args)});const CALL_2=__xsdv__(getHours_1.val(),()=>{});return CALL_2})().val,(()=>{const d_0=__xsdv__(d,v=>{d=v},(...args)=>{return d(...args)});const getMinutes_1=__xsdv__(d_0.val.getMinutes,v=>{d_0.val.getMinutes=v},(...args)=>{return d_0.val.getMinutes(...args)});const CALL_2=__xsdv__(getMinutes_1.val(),()=>{});return CALL_2})().val]})()).use(self).property(\"twentyFourHours\",false).use(self).property(\"formatTime\",(h,m,mode24h)=>{let h2=(()=>{mid.dbgctx=__filename+\":140\";const h_0=__xsdv__(h,v=>{h=v},(...args)=>{return h(...args)});return h_0})().val;if(!(()=>{mid.dbgctx=__filename+\":141\";const mode24h_0=__xsdv__(mode24h,v=>{mode24h=v},(...args)=>{return mode24h(...args)});return mode24h_0})().val&&(()=>{const h_0=__xsdv__(h,v=>{h=v},(...args)=>{return h(...args)});return h_0})().val>12){(()=>{mid.dbgctx=__filename+\":143\";const h2_0=__xsdv__(h2,v=>{h2=v},(...args)=>{return h2(...args)});return h2_0})().val=(()=>{const h_0=__xsdv__(h,v=>{h=v},(...args)=>{return h(...args)});return h_0})().val%12}return((()=>{mid.dbgctx=__filename+\":145\";const h2_0=__xsdv__(h2,v=>{h2=v},(...args)=>{return h2(...args)});return h2_0})().val<=9?\"0\":\"\")+(()=>{mid.dbgctx=__filename+\":146\";const h2_0=__xsdv__(h2,v=>{h2=v},(...args)=>{return h2(...args)});return h2_0})().val+\":\"+((()=>{mid.dbgctx=__filename+\":148\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val<=9?\"0\":\"\")+(()=>{mid.dbgctx=__filename+\":149\";const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});return m_0})().val+(!(()=>{mid.dbgctx=__filename+\":150\";const mode24h_0=__xsdv__(mode24h,v=>{mode24h=v},(...args)=>{return mode24h(...args)});return mode24h_0})().val?(()=>{const h_0=__xsdv__(h,v=>{h=v},(...args)=>{return h(...args)});return h_0})().val<12?\" am\":\" pm\":\"\")}).use(self).icon(\"core-time\").use(self).text(high.binding([high.chainRef(root,[\"time\"],__rslv__),high.chainRef(root,[\"time\"],__rslv__),high.chainRef(root,[\"twentyFourHours\"],__rslv__),high.chainRef(root,[\"formatTime\"],__rslv__)],(alias0,alias1,alias2,alias3)=>{return(()=>{const alias3_0=__xsdv__(alias3,v=>{alias3=v},(...args)=>{return alias3(...args)});const CALL_1=__xsdv__(alias3_0.val((()=>{mid.dbgctx=__filename+\":154\";const alias0_0=__xsdv__(alias0,v=>{alias0=v},(...args)=>{return alias0(...args)});const ACCESS_1=__xsdv__(alias0_0.val[0],v=>{alias0_0.val[0]=v},(...args)=>{return alias0_0.val[0](...args)});return ACCESS_1})().val,(()=>{const alias1_0=__xsdv__(alias1,v=>{alias1=v},(...args)=>{return alias1(...args)});const ACCESS_1=__xsdv__(alias1_0.val[1],v=>{alias1_0.val[1]=v},(...args)=>{return alias1_0.val[1](...args)});return ACCESS_1})().val,(()=>{const alias2_0=__xsdv__(alias2,v=>{alias2=v},(...args)=>{return alias2(...args)});return alias2_0})().val),()=>{});return CALL_1})().val},__filename+\"[l. 154] formatTime(time[0], time[1], twentyFourHours)\\r\")).use(self).onClick(ev=>{const m=(()=>{mid.dbgctx=__filename+\":158\";const menuT_0=__xsdv__(__rslv__(\"menuT\"),()=>{});const CALL_1=__xsdv__(menuT_0.val(),()=>{});return CALL_1})().val;(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});const setTime_1=__xsdv__(m_0.val.setTime,v=>{m_0.val.setTime=v},(...args)=>{return m_0.val.setTime(...args)});const CALL_2=__xsdv__(setTime_1.val((()=>{mid.dbgctx=__filename+\":159\";const time_0=__xsdv__(__rslv__(\"time\"),()=>{});const ACCESS_1=__xsdv__(time_0.val[0],v=>{time_0.val[0]=v},(...args)=>{return time_0.val[0](...args)});return ACCESS_1})().val,(()=>{const time_0=__xsdv__(__rslv__(\"time\"),()=>{});const ACCESS_1=__xsdv__(time_0.val[1],v=>{time_0.val[1]=v},(...args)=>{return time_0.val[1](...args)});return ACCESS_1})().val),()=>{});return CALL_2})().val;(()=>{const m_0=__xsdv__(m,v=>{m=v},(...args)=>{return m(...args)});const popup_1=__xsdv__(m_0.val.popup,v=>{m_0.val.popup=v},(...args)=>{return m_0.val.popup(...args)});const CALL_2=__xsdv__(popup_1.val((()=>{mid.dbgctx=__filename+\":160\";const self_0=__xsdv__(self,v=>{self=v},(...args)=>{return self(...args)});return self_0})().val),()=>{});return CALL_2})().val;(()=>{mid.dbgctx=__filename+\":161\";const ev_0=__xsdv__(ev,v=>{ev=v},(...args)=>{return ev(...args)});const accepted_1=__xsdv__(ev_0.val.accepted,v=>{ev_0.val.accepted=v},(...args)=>{return ev_0.val.accepted(...args)});return accepted_1})().val=true}).flushPending();return high.routedElement(root,root.find(root.defaultContainer(),__namespace))}}},fengshui_Internal.compile)});","core/ui.js":"\"use strict\";exports.__id=\"shellfish/ui\";const mods=[\"Button\",\"Calendar\",\"CheckBox\",\"DarkTheme\",\"DatePicker\",\"Dialog\",\"Document\",\"FocusIndicator\",\"FSIcon\",\"FSTreeNode\",\"FSView\",\"Label\",\"Loader\",\"Menu\",\"MenuItem\",\"MenuItemBase\",\"MenuSeparator\",\"Overlay\",\"Page\",\"PageHeader\",\"PageStack\",\"PinchGesture\",\"Placeholder\",\"ScrollIndicator\",\"SelectionBox\",\"Slider\",\"SpinBox\",\"SplitBox\",\"Switch\",\"TextArea\",\"TextEntry\",\"Theme\",\"TimePicker\"];shRequire(__dirname+\"/../fengshui.js\",function(fengshui){shRequire(mods.map(m=>__dirname+\"/ui/\"+m+\".shui\"),function(){for(var i=0;i<arguments.length;++i){exports.include(arguments[i])}},fengshui.compile)});","fengshui.js":"\"use strict\";exports.__id=\"shellfish/fengshui\";exports.tools={elementLookup:function(fqElementName,rslv,filename,modules,elementLookupCache,high){let explicitModule=\"\";let elementName=fqElementName;if(fqElementName.indexOf(\".\")!==-1){const parts=fqElementName.split(\".\");explicitModule=parts[0];elementName=parts[1]}const cacheItem=elementLookupCache.get(fqElementName);if(cacheItem){if(cacheItem.create){return cacheItem.create(rslv)}else{const el=high.element(cacheItem,null).property(\"defaultContainer\",\"\").property(\"modelData\",{});const proto=Object.getPrototypeOf(el);[\"add\",\"property\",\"get\",\"find\",\"children\",\"call\",\"crossConnect\",\"flushPending\",\"addPendingCallback\"].forEach(f=>{el[f]=(...args)=>proto[f].apply(el,args)});return el}}for(let key in modules){if(explicitModule!==\"\"&&key!==explicitModule){continue}if(modules[key]&&modules[key][elementName]){elementLookupCache.set(fqElementName,modules[key][elementName]);if(modules[key][elementName].create){return modules[key][elementName].create(rslv)}else{const el=high.element(modules[key][elementName],null).property(\"defaultContainer\",\"\").property(\"modelData\",{});const proto=Object.getPrototypeOf(el);[\"add\",\"property\",\"get\",\"find\",\"children\",\"call\",\"crossConnect\",\"flushPending\",\"addPendingCallback\"].forEach(f=>{el[f]=(...args)=>proto[f].apply(el,args)});return el}}}console.error(\"Element '\"+fqElementName+\"' is not defined in \"+filename+\".\");return null},rslv:function(name,cache,self,namespace,pRslv,modules){if(name===\"self\")return self;let result=cache.get(name);if(result){return result}result=self[name]||self.find(name,namespace)||pRslv(name)||modules[name];if(result){cache.set(name,result)}return result}};(function(){const JS_KEYWORDS=[\"async\",\"await\",\"break\",\"catch\",\"class\",\"const\",\"continue\",\"do\",\"false\",\"for\",\"function\",\"if\",\"let\",\"new\",\"return\",\"super\",\"switch\",\"throw\",\"true\",\"try\",\"until\",\"var\",\"while\"];const JS_GLOBALS=[\"__dirname\",\"__filename\",\"__rslv__\",\"alert\",\"arguments\",\"Array\",\"ArrayBuffer\",\"Blob\",\"console\",\"Date\",\"decodeURI\",\"decodeURIComponent\",\"document\",\"encodeURI\",\"encodeURIComponent\",\"eval\",\"FileReader\",\"Float32Array\",\"Float64Array\",\"Function\",\"Image\",\"ImageData\",\"Infinity\",\"Int16Array\",\"Int32Array\",\"Int8Array\",\"isFinite\",\"isNaN\",\"JSON\",\"Map\",\"Math\",\"NaN\",\"navigator\",\"null\",\"Number\",\"Object\",\"parseFloat\",\"parseInt\",\"Promise\",\"Proxy\",\"Set\",\"SharedArrayBuffer\",\"Uint16Array\",\"Uint32Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"undefined\",\"URL\",\"WebAssembly\",\"WeakMap\",\"WeakSet\",\"window\"];const TOKEN_ELEMENT=/^([a-z][a-z0-9_]*\\.)?[A-Z_][a-zA-Z0-9_]* *{/;const TOKEN_NAME=/^[a-z_][a-z0-9_]*/i;const TOKEN_IDENTIFIER=/^[a-z_][a-z_0-9]*(\\.[a-z_0-9]+)*/i;const TOKEN_NUMBER=/^[0-9]+(\\.[0-9]+)?([eE]-?[0-9]+)?/;const TOKEN_HEXNUMBER=/^0x[0-9a-fA-F]+/;const TOKEN_OPERATOR=/^[+\\-*/%&|~!=<>]+/;const TOKEN_ARROW_FUNCTION=/^\\([a-z_0-9]* *(, *[a-z_0-9]*)* *\\) *=>/i;const TOKEN_ARROW_FUNCTION_COMPACT=/^[a-z_0-9]+ *=>/i;let thePreviousLine=-1;function compile(url,data){if(url.toLowerCase().endsWith(\".shui\")){const parts=url.split(\"/\");const name=parts[parts.length-1].replace(/\\.shui$/,\"\");const now=Date.now();let pos={value:0};thePreviousLine=-1;console.log(`Compiling Shui Document '${url}'.`);let obj=parseShui(url,name,data,pos);console.log(`Compiled Shui Document in ${Date.now()-now} ms.`);return obj}else{return data}}exports.compile=compile;function load(url,parent,rslv,callback){shRequire(url,function(shui){for(let key in shui){if(shui[key].create){const now=Date.now();let root=shui[key].create(rslv);root.objectType(url);console.log(\"Created Shui Document '\"+url+\"' in \"+(Date.now()-now)+\" ms.\");if(callback){callback(root)}break}}},compile)}exports.load=load;function lineOfPos(data,pos){const lines=data.split(\"\\n\");let sum=0;for(let line=0;line<lines.length;++line){sum+=lines[line].length+1;if(sum>pos.value){return line+1}}return-1}function skipWhitespace(data,pos,skipNewline,skipComments){function skip(data,pos,what){while(pos.value<data.length&&what.indexOf(data[pos.value])!==-1){++pos.value}}while(pos.value<data.length){skip(data,pos,skipNewline?\"\\t\\n\\r\\x0B \":\"\\t\\r\\x0B \");if(skipComments){if(next(data,pos,\"//\")){readUntilNewline(data,pos)}else if(next(data,pos,\"/*\")&&(!next(data,pos,\"/**\")||next(data,pos,\"/***\"))){skipCommentBlock(data,pos)}else{break}}else{break}}}function skipCommentBlock(data,pos){let idx=data.indexOf(\"*/\",pos.value);if(idx!==-1){pos.value=idx+2}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": end of comment block expected.\"}}function next(data,pos,what){return data.substr(pos.value,what.length)===what}function nextIsUpperCase(data,pos){let c=data[pos.value];return c>=\"A\"&&c<=\"Z\"}function nextIsToken(data,pos,regExp){if(pos.value<data.length){return regExp.test(data.substr(pos.value))}else{return false}}function expect(data,pos,what){if(data.substr(pos.value,what.length)===what){pos.value+=what.length;return what}else{console.log(data.substr(pos.value,80));throw\"Syntax error in line \"+lineOfPos(data,pos)+\": '\"+what+\"' expected, but '\"+data[pos.value]+\"' found.\"}}function readUntil(data,pos,chars){let s=\"\";while(pos.value<data.length&&chars.indexOf(data[pos.value])===-1){s+=data[pos.value];++pos.value}return s}function readUntilNewline(data,pos){let s=readUntil(data,pos,\"\\r\\n\");return s}function readToken(data,pos,regExp){let s=\"\";if(pos.value<data.length){let matches=regExp.exec(data.substr(pos.value));if(matches){let result=matches[0];pos.value+=result.length;return result}}return\"\"}function readString(data,pos){if(pos.value>=data.length){return\"\"}let delimiter=\"\";if(data[pos.value]===\"'\"){delimiter=\"'\";++pos.value}else if(data[pos.value]===\"\\\"\"){delimiter=\"\\\"\";++pos.value}let result=\"\";while(pos.value<data.length){if(delimiter!==\"\"&&data[pos.value]===delimiter){++pos.value;break}else if(delimiter===\"\"&&\"\\t\\n\\r\\x0B \".indexOf(data[pos.value])!==-1){break}else if(next(data,pos,\"\\\\n\")){result+=\"\\\\n\";++pos.value}else if(data[pos.value]===\"\\\\\"){}else{result+=data[pos.value]}++pos.value}return result}function readLiteralString(data,pos){if(pos.value>=data.length){return\"\"}const idx=data.indexOf(\"\\\"\\\"\\\"\",pos.value+1);if(idx===-1){throw\"Syntax error in line \"+lineOfPos(data,pos)+\": Literal string is not terminated with \\\"\\\"\\\".\"}const result=data.substring(pos.value+3,idx);pos.value=idx+3;return result.replace(/\"/g,\"\\\\\\\"\").replace(/\\n/g,\"\\\\n\")}function parseShui(moduleLocation,name,data,pos){const requirements=[];const docBlocks=[];while(pos.value<data.length){skipWhitespace(data,pos,true,true);if(next(data,pos,\"/**\")){let idx=data.indexOf(\"*/\",pos.value);if(idx!==-1){docBlocks.push(data.substring(pos.value,idx+2));pos.value=idx+2}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": '*/' expected.\"}}else if(next(data,pos,\"require \")){const req=parseRequire(data,pos);requirements.push(req)}else{break}}requirements.push({module:\"shellfish/mid\",alias:\"mid\"});requirements.push({module:\"shellfish/high\",alias:\"high\"});let moduleDir=\"/\";if(moduleLocation.indexOf(\"/\")!==-1){moduleDir=moduleLocation.substr(0,moduleLocation.lastIndexOf(\"/\"))}const code=`/* Compiled from Shui by Feng Shui Code Processor */\n            \"use strict\";\n            shRequire([\"shellfish/preload\", \"shellfish/fengshui\"], (preload_Internal, fengshui_Internal) =>\n            {\n                shRequire([${requirements.map(req=>\"\\\"\"+req.module.replace(/^\\.\\//,moduleDir+\"/\")+\"\\\"\").join(\", \")}],\n                        (${requirements.map(req=>req.alias).join(\", \")}) =>\n                {\n                    const modules = { ${requirements.map(req=>req.alias+\": \"+req.alias).join(\", \")} };\n\n                    const __namespace = __filename;\n                    function __rslv__(name) { return undefined; }\n\n                    const elementLookupCache = new Map();\n                    function elementLookup(fqElementName, rslv)\n                    {\n                        return fengshui_Internal.tools.elementLookup(fqElementName, rslv, __filename, modules, elementLookupCache, high);\n                    }\n\n                    function __fakeDv__(a, setter)\n                    {\n                        const obj = { };\n                        Object.defineProperty(obj, \"val\", {\n                            get: () => a,\n                            set: setter\n                        });\n                        return obj;\n                    }\n\n                    function __xsdv__(a, setter, functor)\n                    {\n                        return high.isDynamicValue(a) ? a : typeof a === \"function\" && functor ? { val: functor } : __fakeDv__(a, setter);\n                    }\n\n                    exports.${name} = {\n                        ${docBlocks.join(\"\\n\")}\n                        create: (__pRslv__) =>\n                        {\n                            //console.log(__filename + \" __pRslv__ \" + __pRslv__);\n                            ${parseElement(data,pos,true,requirements)}\n                            return high.routedElement(\n                                root,\n                                root.find(root.defaultContainer(), __namespace)\n                            );\n                        }\n                    };\n                }, fengshui_Internal.compile);\n            });\n        `;return code}function parseRequire(data,pos){const result={module:\"\",alias:\"mod\"+pos.value};expect(data,pos,\"require\");skipWhitespace(data,pos,true,true);const moduleName=readString(data,pos);result.module=moduleName;skipWhitespace(data,pos,true,true);if(next(data,pos,\";\")){++pos.value}else{expect(data,pos,\"as\");skipWhitespace(data,pos,true,true);result.alias=readUntil(data,pos,\";\\t\\n\\r\\x0B \");skipWhitespace(data,pos,true,true);expect(data,pos,\";\")}return result}function parseElement(data,pos,isRoot,modules){let elementName=readToken(data,pos,TOKEN_IDENTIFIER);skipWhitespace(data,pos,true,true);expect(data,pos,\"{\");let code=\"\";const rslv=`\n            const __rslvCache__ = new Map();\n            function __rslv__(name)\n            {\n                return fengshui_Internal.tools.rslv(name, __rslvCache__, self, __namespace, __pRslv__, modules);\n            }\n        `;if(isRoot){code+=`\n                const root = elementLookup(\"${elementName}\", __pRslv__);\n                const self = root;\n                \n                ${rslv}\n\n                self.objectType(\"${elementName}\")${parseElementBlock(data,pos,modules)}\n                .flushPending()\n            `}else{code+=`\n                ((__pRslv__) =>\n                {\n                    const self = elementLookup(\"${elementName}\", __pRslv__);\n\n                    ${rslv}\n\n                    self.objectType(\"${elementName}\")${parseElementBlock(data,pos,modules)}\n                    .flushPending();\n                    return self;\n                })(__rslv__)\n            `}expect(data,pos,\"}\");code+=\"\\n\";return code.replace(/\\/\\*__new__\\*\\//g,\"\")}function parseElementBlock(data,pos,modules){let code=`.objectLocation(__filename + \":\" + ${lineOfPos(data,pos)})`;while(pos.value<data.length){skipWhitespace(data,pos,true,true);if(next(data,pos,\"}\")){break}else if(next(data,pos,\";\")){expect(data,pos,\";\")}else if(next(data,pos,\"/**\")){let idx=data.indexOf(\"*/\",pos.value);if(idx!==-1){code+=data.substring(pos.value,idx+2);pos.value=idx+2}}else if(false&&next(data,pos,\"/*\")){skipCommentBlock(data,pos)}else if(nextIsUpperCase(data,pos)||nextIsToken(data,pos,TOKEN_ELEMENT)){let childCode=parseElement(data,pos,false,modules);code+=\"\\n.use(self).add(\"+childCode+\")\"}else if(next(data,pos,\"into \")){expect(data,pos,\"into\");skipWhitespace(data,pos,true,true);let container=readToken(data,pos,TOKEN_NAME);skipWhitespace(data,pos,true,true);let childCode=parseElement(data,pos,false,modules);code+=\"\\n.use(self).call(\\\"\"+container+\"Add\\\", \"+childCode+\")\"}else if(next(data,pos,\"property \")){code+=\"\\n\"+parseCustomProperty(data,pos,modules)}else if(next(data,pos,\"event \")){expect(data,pos,\"event\");skipWhitespace(data,pos,true,true);const evName=readToken(data,pos,TOKEN_NAME);code+=\"\\n.use(self).event(\\\"\"+evName+\"\\\")\"}else if(next(data,pos,\"container \")){code+=\"\\n\"+parseContainer(data,pos)}else if(next(data,pos,\"function \")){code+=\"\\n\"+parseFunctionProperty(data,pos,modules)}else{code+=\"\\n\"+parseProperty(data,pos,modules)}}return code}function parseElementTemplate(data,pos,modules){expect(data,pos,\"template\");skipWhitespace(data,pos,true,true);let code=\"\";if(nextIsToken(data,pos,TOKEN_ELEMENT)){code+=\"{ create: function (__pRslv__) { const __namespace = \\\"tmp.\"+pos.value+\"\\\"; return function () { \"+parseElement(data,pos,true,modules)+\" return self; }; }(__rslv__) }\"}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": element expected.\"}return code}function parseCustomProperty(data,pos,modules){const scopes=[modules.map(m=>m.alias),[\"self\"]];expect(data,pos,\"property\");skipWhitespace(data,pos,true,true);let propName=readUntil(data,pos,\":\\t\\n\\r\\x0B \");skipWhitespace(data,pos,true,true);expect(data,pos,\":\");skipWhitespace(data,pos,true,true);let code=\".use(self).property(\\\"\"+propName+\"\\\", \";if(next(data,pos,\"{\")){code+=\"function () \"+parseJsBlock(data,pos,modules,scopes,chainResolver)}else if(nextIsToken(data,pos,TOKEN_ARROW_FUNCTION)||nextIsToken(data,pos,TOKEN_ARROW_FUNCTION_COMPACT)){code+=parseJsArrowFunction(data,pos,modules,scopes,chainResolver)}else if(next(data,pos,\"template\")){code+=\"() => \"+\"{\"+\"  return \"+parseElementTemplate(data,pos,modules)+\".create(__rslv__);\"+\"}\"}else if(nextIsToken(data,pos,TOKEN_ELEMENT)){code+=parseElement(data,pos,false,modules)}else{code+=parseBindingExpression(data,pos,modules)}code+=\")\";return code}function parseFunctionProperty(data,pos,modules){expect(data,pos,\"function\");skipWhitespace(data,pos,true,true);let propName=readUntil(data,pos,\"(\\t\\n\\r\\x0B \");skipWhitespace(data,pos,true,true);let code=\".use(self).property(\\\"\"+propName+\"\\\", \";let params=[];const scopes=[modules.map(m=>m.alias),[\"self\"]];code+=parseJsParameters(data,pos,p=>{params.push(p)});skipWhitespace(data,pos,true,true);code+=\" => \";code+=parseJsBlock(data,pos,modules,scopes.concat([params]),chainResolver);code+=\")\";return code}function parseContainer(data,pos){expect(data,pos,\"container\");skipWhitespace(data,pos,true,true);let name=readToken(data,pos,TOKEN_NAME);skipWhitespace(data,pos,true,true);expect(data,pos,\":\");skipWhitespace(data,pos,true,true);let targetName=readToken(data,pos,TOKEN_NAME);let code=\".use(self)\";if(name===\"default\"){code+=\".defaultContainer(\\\"\"+targetName+\"\\\")\"}else{code+=\".property(\\\"\"+name+\"Add\\\", \"+\"function (child)\"+\"{\"+\"  self.find(\\\"\"+targetName+\"\\\", __namespace).add(child);\"+\"  return self;\"+\"})\"}return code}function parseTemplate(data,pos,modules){expect(data,pos,\"template\");skipWhitespace(data,pos,true,true);let propName=readUntil(data,pos,\":\\t\\n\\r\\x0B \");skipWhitespace(data,pos,true,true);expect(data,pos,\":\");skipWhitespace(data,pos,true,true);let code=\".use(self).property(\\\"\"+propName+\"\\\", \";if(nextIsToken(data,pos,TOKEN_ELEMENT)){code+=`{\n                create: (__pRslv__) =>\n                {\n                    return () =>\n                    {\n                        ${parseElement(data,pos,true,modules)} return root;\n                    }\n                }(__rslv__)\n            }`}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": element expected.\"}code+=\")\";return code}function parseProperty(data,pos,modules){let propName=readUntil(data,pos,\":\\t\\n\\r\\x0B \");skipWhitespace(data,pos,true,true);expect(data,pos,\":\");skipWhitespace(data,pos,true,true);let code=\"\";if(propName.indexOf(\".\")!==-1){const parts=propName.split(\".\");const elName=parts[0];const slotName=parts[1];if(!slotName.startsWith(\"on\")){throw\"Syntax error in line \"+lineOfPos(data,pos)+\": '\"+slotName+\"' is not a valid event slot\"}const eventName=slotName[2].toLowerCase()+slotName.substr(3);code=`.use(self).crossConnect(() => { return __rslv__(\"${elName}\"); }, \"${eventName}\")(`}else{code=`.use(self).${propName}(`}if(next(data,pos,\"{\")){const codeBlock=parseJsBlock(data,pos,modules,[[\"self\"]],chainResolver);code+=\"function () \"+codeBlock}else if(nextIsToken(data,pos,TOKEN_ARROW_FUNCTION)||nextIsToken(data,pos,TOKEN_ARROW_FUNCTION_COMPACT)){const scopes=[modules.map(m=>m.alias),[\"self\"]];code+=parseJsArrowFunction(data,pos,modules,scopes,chainResolver)}else if(next(data,pos,\"template\")){code+=\"() => \"+\"{\"+\"  return \"+parseElementTemplate(data,pos,modules)+\".create(__rslv__);\"+\"}\"}else if(nextIsToken(data,pos,TOKEN_ELEMENT)){code+=parseElement(data,pos,false,modules)}else{if(propName===\"id\"){code+=\"\\\"\"+readToken(data,pos,TOKEN_IDENTIFIER)+\"\\\"\"}else{code+=parseBindingExpression(data,pos,modules)}}if(propName===\"id\"){code+=\", __namespace\"}code+=\")\";return code}function parseBindingExpression(data,pos,modules){let aliasMap=new Map;let aliasCounter=0;const aliasCache=new Map;function bindingResolver(parts,scopes,line){let firstInChain=parts[0];if(JS_GLOBALS.indexOf(firstInChain)!==-1||inScope(scopes,firstInChain)){return chainResolver(parts,scopes,line)}else{const splitResult=splitChain(parts);let alias=\"\";if(aliasCache.has(parts.join(\".\"))){alias=aliasCache.get(parts.join(\".\"))}else{alias=\"alias\"+aliasCounter;++aliasCounter;aliasMap.set(alias,makeChainRef(splitResult[0]));aliasCache.set(parts.join(\".\"),alias)}scopes[scopes.length-1].push(alias);return chainResolver([alias].concat(splitResult[1]),scopes,line)}}const beginAt=pos.value;const line=lineOfPos(data,pos);const scopes=[modules.map(m=>m.alias),[\"self\"]];let code=parseJsExpression(data,pos,modules,scopes,bindingResolver);const originalCode=data.substring(beginAt,pos.value);const debugAnnotation=`[l. ${line}] ${originalCode}`;if(next(data,pos,\";\")){expect(data,pos,\";\")}if(aliasMap.size>0){let depsList=[];let argsList=[];for(let entry of aliasMap){let alias=entry[0];let ref=entry[1];depsList.push(ref);argsList.push(alias)}return\"high.binding([\"+depsList.join(\",\")+\"], (\"+argsList.join(\",\")+\") => { return \"+code+\"; }, __filename + \"+JSON.stringify(debugAnnotation)+\")\"}else{return code}}function inScope(scopes,varName){return scopes.reduce((a,b)=>{return a||b.indexOf(varName)!==-1},false)}function parseJsStatement(data,pos,modules,scopes,resolver){let code=\"\";while(pos.value<data.length){skipWhitespace(data,pos,false,true);if(next(data,pos,\"\\n\")){code+=expect(data,pos,\"\\n\");break}else if(next(data,pos,\";\")){code+=expect(data,pos,\";\");break}else if(next(data,pos,\":\")){throw\"Syntax error in line \"+lineOfPos(data,pos)+\": invalid character '\"+data[pos.value]+\"'.\"}else if(next(data,pos,\"}\")){break}else if(next(data,pos,\"{\")){code+=parseJsBlock(data,pos,modules,scopes.concat([[]]),resolver);break}else if(nextIsToken(data,pos,TOKEN_NAME)){let prevPos=pos.value;const identifier=readToken(data,pos,TOKEN_NAME);if(identifier===\"var\"){code+=identifier+\" \";skipWhitespace(data,pos,true,true);const varName=readToken(data,pos,TOKEN_NAME);code+=varName;skipWhitespace(data,pos,true,true);scopes[0].push(varName);if(next(data,pos,\"=\")){code+=parseJsExpression(data,pos,modules,scopes,resolver)}else{break}}else if(identifier===\"const\"||identifier===\"let\"){code+=identifier+\" \";skipWhitespace(data,pos,true,true);const varName=readToken(data,pos,TOKEN_NAME);code+=varName;skipWhitespace(data,pos,true,true);scopes[scopes.length-1].push(varName);if(next(data,pos,\"=\")){code+=expect(data,pos,\"=\");code+=parseJsExpression(data,pos,modules,scopes,resolver)}else{break}}else if(identifier===\"if\"||identifier===\"while\"){code+=identifier+\" \";skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);code+=parseJsStatement(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);if(next(data,pos,\"else\")){code+=expect(data,pos,\"else\")}break}else if(identifier===\"do\"){code+=identifier+\" \";code+=parseJsStatement(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"while\");skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"(\");code+=parseJsExpression(data,pos,modules,scopes,resolver);code+=expect(data,pos,\")\");break}else if(identifier===\"for\"){pos.value=prevPos;code+=parseJsForLoop(data,pos,modules,scopes.concat([[]]),resolver);break}else if(identifier===\"switch\"){pos.value=prevPos;code+=parseJsSwitch(data,pos,modules,scopes,resolver);break}else if(identifier===\"break\"||identifier===\"continue\"){code+=identifier;break}else if(identifier===\"throw\"){code+=identifier+\" \";skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver);break}else if(identifier===\"try\"){code+=identifier;skipWhitespace(data,pos,true,true);code+=parseJsBlock(data,pos,modules,scopes.concat([[]]),resolver);skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"catch\");skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"(\");const errVar=readToken(data,pos,TOKEN_NAME);code+=errVar;code+=expect(data,pos,\")\");skipWhitespace(data,pos,true,true);code+=parseJsBlock(data,pos,modules,scopes.concat([[errVar]]),resolver);break}else if(identifier===\"return\"){code+=identifier;skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver);break}else if(JS_KEYWORDS.indexOf(identifier)!==-1){code+=identifier+\" \";break}else{if(next(data,pos,\":\")){code+=identifier+expect(data,pos,\":\")}else{pos.value=prevPos;code+=parseJsExpression(data,pos,modules,scopes,resolver)}}}else if(nextIsToken(data,pos,TOKEN_OPERATOR)){code+=parseJsExpression(data,pos,modules,scopes,resolver);break}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": invalid character '\"+data[pos.value]+\"'.\"}}return code}function parseJsExpression(data,pos,modules,scopes,resolver){let code=\"\";let mayTerminate=false;while(pos.value<data.length){skipWhitespace(data,pos,false,true);code+=\" \";if(next(data,pos,\";\")){break}else if(next(data,pos,\",\")||next(data,pos,\":\")||next(data,pos,\")\")||next(data,pos,\"]\")||next(data,pos,\"}\")){break}else if(next(data,pos,\"\\n\")){if(mayTerminate){break}else{code+=expect(data,pos,\"\\n\")}}else if(next(data,pos,\"\\\"\\\"\\\"\")){code+=\"\\\"\"+readLiteralString(data,pos)+\"\\\"\";console.log(code);mayTerminate=true}else if(next(data,pos,\"\\\"\")){code+=\"\\\"\"+readString(data,pos)+\"\\\"\";mayTerminate=true}else if(next(data,pos,\"'\")){code+=\"'\"+readString(data,pos)+\"'\";mayTerminate=true}else if(next(data,pos,\"[\")){code+=expect(data,pos,\"[\");code+=parseJsList(data,pos,modules,scopes,resolver);code+=expect(data,pos,\"]\");mayTerminate=true}else if(nextIsToken(data,pos,TOKEN_ARROW_FUNCTION)||nextIsToken(data,pos,TOKEN_ARROW_FUNCTION_COMPACT)){code+=parseJsArrowFunction(data,pos,modules,scopes,resolver);mayTerminate=true}else if(next(data,pos,\"...\")){code+=expect(data,pos,\"...\");mayTerminate=false}else if(next(data,pos,\"(\")){code+=expect(data,pos,\"(\");code+=parseJsExpression(data,pos,modules,scopes,resolver);code+=expect(data,pos,\")\");mayTerminate=true}else if(next(data,pos,\"{\")){if(mayTerminate){break}else{code+=parseJsObject(data,pos,modules,scopes,resolver);mayTerminate=true}}else if(next(data,pos,\"?\")){code+=expect(data,pos,\"?\");code+=parseJsExpression(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);code+=expect(data,pos,\":\");code+=parseJsExpression(data,pos,modules,scopes,resolver);mayTerminate=true}else if(next(data,pos,\"true\")||next(data,pos,\"false\")){code+=readToken(data,pos,TOKEN_NAME);mayTerminate=true}else if(next(data,pos,\"instanceof\")){code+=expect(data,pos,\"instanceof\");mayTerminate=false}else if(next(data,pos,\"typeof\")){code+=expect(data,pos,\"typeof\");mayTerminate=false}else if(nextIsToken(data,pos,TOKEN_HEXNUMBER)){code+=readToken(data,pos,TOKEN_HEXNUMBER);mayTerminate=true}else if(nextIsToken(data,pos,TOKEN_NUMBER)){code+=readToken(data,pos,TOKEN_NUMBER);mayTerminate=true}else if(nextIsToken(data,pos,TOKEN_OPERATOR)){const s=readToken(data,pos,TOKEN_OPERATOR);code+=s;mayTerminate=s===\"++\"||s===\"--\"}else if(nextIsToken(data,pos,TOKEN_NAME)){const prevPos=pos.value;const identifier=readToken(data,pos,TOKEN_NAME);if(identifier===\"new\"){skipWhitespace(data,pos,true,true);if(next(data,pos,\"direct \")){expect(data,pos,\"direct\");console.warn(`The \"direct\" keyword is not required anymore and is deprecated. Used in line ${lineOfPos(data,pos)}.`)}const c=parseJsExpression(data,pos,modules,scopes,resolver);if(c.trimLeft()[0]===\"(\"){const idx=c.lastIndexOf(\"/*__new__*/\");if(idx!==-1){code+=c.substr(0,idx)+\"new\"+c.substr(idx+11)}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": 'new' requires a constructor function.\"}}else{code+=\"new \"+c}}else if(identifier===\"async\"){code+=identifier}else if(identifier===\"function\"){let params=[];code+=identifier;skipWhitespace(data,pos,true,true);code+=parseJsParameters(data,pos,p=>{params.push(p)});skipWhitespace(data,pos,true,true);code+=parseJsBlock(data,pos,modules,scopes.concat([params]),resolver)}else if(identifier===\"class\"){throw\"Keyword 'class' at \"+lineOfPos(data,pos)+\" is currently not supported.\"}else if(identifier===\"direct\"){skipWhitespace(data,pos,true,true);code+=parseJsChain(data,pos,modules,scopes,(parts,scopes)=>{let code=parts[0];parts.shift();parts.forEach(p=>{code+=p[0]!==\"(\"&&p[0]!==\"[\"?\".\"+p:p});return code})}else{pos.value=prevPos;code+=parseJsChain(data,pos,modules,scopes,resolver)}mayTerminate=true}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": invalid character '\"+data[pos.value]+\"'.\"}}return code}function parseJsBlock(data,pos,modules,scopes,resolver){let code=\"\";code+=expect(data,pos,\"{\");while(pos.value<data.length){skipWhitespace(data,pos,true,true);code+=\" \";if(next(data,pos,\"}\")){code+=expect(data,pos,\"}\");break}else if(next(data,pos,\":\")){throw\"Syntax error in line \"+lineOfPos(data,pos)+\": invalid character '\"+data[pos.value]+\"'.\"}else{code+=parseJsStatement(data,pos,modules,scopes,resolver)}}return code}function parseJsObject(data,pos,modules,scopes,resolver){let code=\"\";code+=expect(data,pos,\"{\");while(pos.value<data.length){skipWhitespace(data,pos,true,true);if(next(data,pos,\"}\")){break}else if(next(data,pos,\"\\\"\")){code+=\"\\\"\"+readString(data,pos)+\"\\\"\"}else if(next(data,pos,\"'\")){code+=\"'\"+readString(data,pos)+\"'\"}else{code+=readToken(data,pos,TOKEN_NAME)}skipWhitespace(data,pos,true,true);code+=expect(data,pos,\":\");code+=parseJsExpression(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);if(!next(data,pos,\",\")){break}else{code+=expect(data,pos,\",\")}}code+=expect(data,pos,\"}\");return code}function parseJsParameters(data,pos,parameterCallback){let code=\"\";code+=expect(data,pos,\"(\");while(pos.value<data.length){skipWhitespace(data,pos,true,true);if(nextIsToken(data,pos,TOKEN_NAME)){const name=readToken(data,pos,TOKEN_NAME);parameterCallback(name);code+=name}skipWhitespace(data,pos,true,true);if(next(data,pos,\")\")){break}else{code+=expect(data,pos,\",\")}}code+=expect(data,pos,\")\");return code}function parseJsList(data,pos,modules,scopes,resolver){let code=\"\";while(pos.value<data.length){skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);if(next(data,pos,\"]\")||next(data,pos,\")\")){break}else{code+=expect(data,pos,\",\")}}return code}function parseJsChain(data,pos,modules,scopes,resolver){let parts=[];let isFirst=true;while(pos.value<data.length){let part=\"\";if(!isFirst&&next(data,pos,\"(\")){part+=expect(data,pos,\"(\");part+=parseJsList(data,pos,modules,scopes,resolver);part+=expect(data,pos,\")\")}else if(!isFirst&&next(data,pos,\"[\")){part+=expect(data,pos,\"[\");part+=parseJsList(data,pos,modules,scopes,resolver);part+=expect(data,pos,\"]\")}else{const identifier=readToken(data,pos,TOKEN_NAME);part+=identifier}isFirst=false;parts.push(part);const prevPos=pos.value;skipWhitespace(data,pos,true,true);if(next(data,pos,\".\")){expect(data,pos,\".\");continue}else if(next(data,pos,\"(\")||next(data,pos,\"[\")){continue}else{pos.value=prevPos;break}}return resolver(parts,scopes,lineOfPos(data,pos))}function parseJsForLoop(data,pos,modules,scopes,resolver){let code=\"\";code+=expect(data,pos,\"for\");skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"(\");code+=parseJsStatement(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);if(next(data,pos,\"in\")){code+=\" \"+expect(data,pos,\"in\")+\" \";skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver)}else if(next(data,pos,\"of\")){code+=\" \"+expect(data,pos,\"of\")+\" \";skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver)}else if(!next(data,pos,\")\")){skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);code+=expect(data,pos,\";\");skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true)}code+=expect(data,pos,\")\");skipWhitespace(data,pos,true,true);code+=parseJsStatement(data,pos,modules,scopes,resolver);return code}function parseJsSwitch(data,pos,modules,scopes,resolver){let code=\"\";code+=expect(data,pos,\"switch\");skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"(\");code+=parseJsExpression(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,true,true);code+=expect(data,pos,\")\");skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"{\");while(pos.value<data.length){skipWhitespace(data,pos,true,true);code+=\"\\n\";const token=readToken(data,pos,TOKEN_NAME);if(token===\"case\"){code+=token;skipWhitespace(data,pos,true,true);code+=parseJsExpression(data,pos,modules,scopes,resolver)}else if(token===\"default\"){code+=token}else{throw\"Syntax error in line \"+lineOfPos(data,pos)+\": 'case' or 'default' expected.\"}skipWhitespace(data,pos,false,true);code+=expect(data,pos,\":\");while(pos.value<data.length){skipWhitespace(data,pos,false,true);code+=parseJsStatement(data,pos,modules,scopes,resolver);skipWhitespace(data,pos,false,true);if(next(data,pos,\"}\")||next(data,pos,\"case\")||next(data,pos,\"default\")){break}}if(next(data,pos,\"}\")){break}}skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"}\");return code}function parseJsArrowFunction(data,pos,modules,scopes,resolver){let code=\"\";let params=[];if(next(data,pos,\"(\")){code+=parseJsParameters(data,pos,p=>{params.push(p)})}else{const p=readToken(data,pos,TOKEN_NAME);params.push(p);code+=p}skipWhitespace(data,pos,true,true);code+=expect(data,pos,\"=>\");skipWhitespace(data,pos,true,true);if(next(data,pos,\"{\")){code+=parseJsBlock(data,pos,modules,scopes.concat([params]),resolver)}else{code+=parseJsExpression(data,pos,modules,scopes.concat([params]),chainResolver)}return code}function chainResolver(parts,scopes,line){const names=parts.map((p,i)=>p.startsWith(\"(\")?\"CALL_\"+i:p.startsWith(\"[\")?\"ACCESS_\"+i:p+\"_\"+i);let counter=0;let accessed=\"\";let code=\"(() => {\";if(line!==thePreviousLine){code+=`mid.dbgctx = __filename + \":${line}\";`;thePreviousLine=line}let firstInChain=parts[0];if(JS_GLOBALS.indexOf(firstInChain)!==-1){let code=firstInChain;parts.shift();parts.forEach(p=>{code+=p[0]!==\"(\"&&p[0]!==\"[\"?\".\"+p:p});return code}else if(inScope(scopes,firstInChain)){accessed=accessDv(firstInChain);code+=`const ${names[counter]} = ${accessed};`}else{accessed=accessDv(\"__rslv__(\\\"\"+firstInChain+\"\\\")\");code+=`const ${names[counter]} = ${accessed};`}parts.shift();parts.forEach(p=>{++counter;if(p[0]!==\"(\"&&p[0]!==\"[\"){accessed=accessDv(`${names[counter-1]}.val.${p}`)}else{accessed=accessDv(`${names[counter-1]}.val${p}`)}code+=`const ${names[counter]} = ${accessed};`});code+=`return ${names[counter]};`;code+=\"})().val\";return code}function splitChain(parts){let head=[];let tail=[];let onHead=true;parts.forEach(function(p){if(p[0]===\"[\"||p[0]===\"(\"){onHead=false}if(onHead){head.push(p)}else{tail.push(p)}});return[head,tail]}function makeChainRef(chain){return\"high.chainRef(root, \"+JSON.stringify(chain)+\", __rslv__)\"}function accessDv(item){if(item.endsWith(\")\")){return`__xsdv__(${item}, () => { })`}else{const setter=item?`v => { ${item} = v; }`:`v => { }`;const functor=item?`(...args) => { return /*__new__*/ (${item})(...args); }`:\"undefined\";return`__xsdv__(${item}, ${setter}, ${functor})`}}if(typeof process!==\"undefined\"&&process.versions&&process.versions.node&&typeof require!==\"undefined\"&&typeof module!==\"undefined\"&&require.main===module){const modFs=require(\"fs\");function help(){console.log(\"Compiles a Shui document and produces JavaScript code.\");console.log(\"\");console.log(\"Usage: node fengshui.js <shui-file>\");console.log(\"\")}if(process.argv.length!==3||process.argv[2]===\"-h\"){help();process.exit(1)}const shuiFile=process.argv[2];const outFile=shuiFile+\".js\";const js=compile(shuiFile,modFs.readFileSync(shuiFile).toString());modFs.writeFileSync(outFile,js)}})();","index.html":"PCFET0NUWVBFIGh0bWw+Cgo8aHRtbD4KPGhlYWQ+CjxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vIj4KPHNjcmlwdCBzcmM9InJlcXVpcmUuanMiCiAgICAgICAgZGF0YS1idW5kbGU9InNoZWxsZmlzaC5wa2ciCiAgICAgICAgZGF0YS1tYWluPSJzaHVpLWxvYWRlci5qcyIKICAgICAgICBkYXRhLXNodWk9Im1haW4uc2h1aSI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CiAgICA8aDE+VGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgRUNNQVNjcmlwdCB2ZXJzaW9uIDY8L2gxPgogICAgPHA+UGxlYXNlIHVzZSBhIGNvbXBsaWFudCBicm93c2VyLjwvcD4KICAgIDxzY3JpcHQ+CiAgICAgICAgdmFyIG9rID0gZmFsc2U7CiAgICAgICAgdHJ5CiAgICAgICAgewogICAgICAgICAgICBpZiAoZXZhbCgiY29uc3QgYSA9IDE7IGxldCBiID0gKCguLi5hcmdzKSA9PiA0MSkoKTsgY2xhc3MgQyB7IH07IGxldCBkID0gZmV0Y2g7IGEgKyBiOyIpID09PSA0MikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgb2sgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlcnIpCiAgICAgICAgewoKICAgICAgICB9CiAgICAgICAgaWYgKG9rKQogICAgICAgIHsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibGluZS1oZWlnaHQ6IDEwMHZoOyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxMHB0OyB3aWR0aDogMTAwdnc7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzaC1yZXF1aXJlLXN0YXR1cyI+SW5pdGlhbGl6aW5nPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJzaC1yZXF1aXJlLXByb2dyZXNzIiBzdHlsZT0ib3BhY2l0eTogMC42OyI+PC9zcGFuPgogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICBgOwogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K","preload.js":"\"use strict\";exports.__id=\"shellfish/preload\";shRequire([__dirname+\"/style.js\",__dirname+\"/core/low.js\",__dirname+\"/core/mid.js\",__dirname+\"/core/high.js\",__dirname+\"/core/ui.js\"],()=>{});","require.js":"\"use strict\";const shRequire=function(){const UUID=\"e206484a-d6ee-4d3c-ac0e-eaed2fe350b5\";const MIMETYPES={\"jpg\":\"image/jpeg\",\"png\":\"image/png\",\"wasm\":\"application/wasm\"};const hasDom=typeof document!==\"undefined\";const stackOfQueues=[];const cache={};const bundleCache={};const blobCache={};let idsMap={};let formatsMap={};let loadersMap={};let nextScheduled=false;function logError(message){if(hasDom){const node=document.createElement(\"pre\");node.style.width=\"100%\";node.style.position=\"fixed\";node.style.top=\"0px\";node.style.left=\"0px\";node.style.whiteSpace=\"pre-wrap\";node.style.color=\"red\";node.style.backgroundColor=\"black\";node.style.borderWidth=\"0.5em\";node.style.borderStyle=\"solid\";node.style.padding=\"1em\";node.style.borderColor=\"red\";node.style.textAlign=\"center\";node.style.fontWeight=\"bold\";node.style.zIndex=9999;node.appendChild(document.createTextNode(\"Software Failure. Click here to continue.\\n\"+message));node.onclick=()=>{node.remove()};document.body.appendChild(node)}console.error(message)}function normalizeUrl(url){const parts=url.split(\"/\");let outParts=[];parts.forEach(function(p){if(p===\"..\"&&outParts.length>0&&outParts[outParts.length-1]!==\"..\"){outParts.pop()}else if(p===\".\"||p===\"\"){}else{outParts.push(p)}});return outParts.join(\"/\")}function importScript(code,loadAsync,callback){if(hasDom){const scriptNode=document.createElement(\"script\");scriptNode.type=\"application/javascript\";scriptNode.charset=\"utf-8\";scriptNode.async=loadAsync;const codeUrl=URL.createObjectURL(new Blob([code],{type:\"application/javascript\"}));scriptNode.addEventListener(\"load\",function(){URL.revokeObjectURL(codeUrl);callback(true)},false);scriptNode.addEventListener(\"error\",function(){URL.revokeObjectURL(codeUrl);logError(`Failed to import script.`);callback(false)},false);scriptNode.src=codeUrl;document.head.appendChild(scriptNode)}else{const codeUrl=URL.createObjectURL(new Blob([code],{type:\"application/javascript\"}));try{importScripts(codeUrl);URL.revokeObjectURL(codeUrl);callback(true)}catch(err){URL.revokeObjectURL(codeUrl);logError(`Failed to import script: ${err}`);callback(false)}}}function loadBundle(url,callback){const now=Date.now();fetch(url,{cache:\"no-cache\"}).then(response=>{if(!response.ok){throw`${response.status} ${response.statusText}`}return response.text()}).then(data=>{try{console.log(`Loaded JS bundle '${url}' from server in ${Date.now()-now} ms.`);const bundleName=url;processBundle(bundleName,JSON.parse(data),()=>{callback()})}catch(err){logError(`Failed to process JS bundle '${url}': ${err}`)}}).catch(err=>{logError(`Failed to load bundle from '${url}': ${err}`)})}function processBundle(name,bundle,callback){if(!bundle.version){for(let moduleUrl in bundle){bundleCache[moduleUrl]=bundle[moduleUrl]}callback()}else if(bundle.version===2){let js=\"\";if(bundle.aliases){for(let alias in bundle.aliases){if(idsMap[alias]){throw new Error(`Alias '${alias}' is already taken.`)}idsMap[alias]=bundle.aliases[alias]}}if(bundle.resources){for(let resUrl in bundle.resources){if(bundleCache[resUrl]){throw new Error(`Resource URL '${resUrl}' is already taken.`)}if(resUrl.toLowerCase().endsWith(\".js\")){js+=`\n                            shRequire.registerLoader(\"${resUrl}\", (exports, __dirname, __filename) =>\n                            {\n                                ${bundle.resources[resUrl]}\n                                shRequire.registerModule(\"${resUrl}\", typeof Module !== \"undefined\" ? Module : exports);\n                            });\n                        `}else{bundleCache[resUrl]=bundle.resources[resUrl]}}}for(let resUrl in bundle.formats){formatsMap[resUrl]=bundle.formats[resUrl]}if(js!==\"\"){js=\"/* Bundle \"+name+\" */\"+js;importScript(js,false,ok=>{if(!ok){logError(`Failed to load bundle '${name}'.`)}else{callback()}})}else{callback()}}else{throw new Error(`Unsupported bundle version ${bundle.version}.`)}}function loadCode(url,callback){if(bundleCache[url]){callback(bundleCache[url]);return}fetch(url,{cache:\"no-cache\"}).then(response=>{if(!response.ok){throw`${response.status} ${response.statusText}`}return response.text()}).then(data=>{callback(data)}).catch(err=>{logError(`Failed to load module '${url}': ${err}`);callback(\"\")})}function loadStyle(url,callback){if(bundleCache[url]){url=\"data:text/css;base64,\"+btoa(bundleCache[url])}if(!hasDom){throw\"CSS style sheets require a DOM to load.\"}let link=document.createElement(\"link\");link.setAttribute(\"type\",\"text/css\");link.setAttribute(\"rel\",\"stylesheet\");link.setAttribute(\"href\",url);link.onload=function(){callback()};document.head.appendChild(link)}function loadModule(url,processor,callback){if(cache[url]){callback(cache[url]);return}const progressNode=hasDom?document.getElementById(\"sh-require-progress\"):null;const statusNode=hasDom?document.getElementById(\"sh-require-status\"):null;if(progressNode){const pos=url.lastIndexOf(\"/\");progressNode.innerHTML=pos!==-1?url.substr(pos+1):url}if(statusNode){statusNode.innerHTML=\"Loading\"}stackOfQueues.push([]);const pos=url.lastIndexOf(\"/\");let dirname=url.substr(0,pos);if(dirname===\"\"){dirname=\".\"}if(loadersMap[url]){const exports={include:mod=>{for(let key in mod){if(key!==\"include\"&&key!==\"__id\"){exports[key]=mod[key]}}}};loadersMap[url](exports,dirname,url);const jsmodule=cache[url];if(jsmodule.__id){console.log(`Registered module '${url}' as '${jsmodule.__id}'.`);idsMap[jsmodule.__id]=url}if(statusNode){statusNode.innerHTML=\"Completed\"}callback(jsmodule);return}else{loadCode(url,code=>{if(code===\"\"){if(statusNode){statusNode.innerHTML=\"Failed\"}stackOfQueues.pop();callback(null);return}if(processor){if(statusNode){statusNode.innerHTML=\"Processing\"}code=processor(url,code)}const js=`/* Module ${url} */\n                    (function ()\n                    {\n                        const __dirname = \"${dirname}\";\n                        const __filename = \"${url}\";\n    \n                        const exports = {\n                            include: (mod) => {\n                                for (let key in mod)\n                                {\n                                    if (key !== \"include\" && key !== \"__id\")\n                                    {\n                                        exports[key] = mod[key];\n                                    }\n                                }\n                            }\n                        };\n                        ${code}\n                        shRequire.registerModule(\"${url}\", typeof Module !== \"undefined\" ? Module : exports);\n                    })();\n                `;if(statusNode){statusNode.innerHTML=\"Importing\"}importScript(js,true,ok=>{if(ok){const jsmodule=cache[url];if(jsmodule.__id){console.log(`Registered module '${url}' as '${jsmodule.__id}'.`);idsMap[jsmodule.__id]=url}if(statusNode){statusNode.innerHTML=\"Completed\"}callback(jsmodule)}else{logError(`Failed to initialize module '${url}': ${this}`);if(statusNode){statusNode.innerHTML=\"Failed\"}callback(null)}})})}}function next(){if(nextScheduled){return}if(stackOfQueues.length===0){return}let queue=stackOfQueues[stackOfQueues.length-1];if(queue.length===0){stackOfQueues.pop();next();return}let ctx=queue[0];if(ctx.urls.length===0){queue.shift();ctx.callback.apply(null,ctx.modules);next();return}let url=normalizeUrl(ctx.urls[0]);ctx.urls.shift();if(idsMap[url]){url=idsMap[url]}nextScheduled=true;const ext=url.toLowerCase().substr(url.lastIndexOf(\".\")+1);if(ext===\"css\"){loadStyle(url,function(){nextScheduled=false;ctx.modules.push(null);next()})}else if(ext===\"js\"||ext===\"shui\"){loadModule(url,ctx.processor,function(module){nextScheduled=false;ctx.modules.push(module);next()})}else if(url.startsWith(\"blob:\")){loadModule(url,ctx.processor,function(module){nextScheduled=false;ctx.modules.push(module);next()})}else{logError(`Cannot load invalid module '${url}'.`);nextScheduled=false;ctx.modules.push(null);next()}}function addTask(urls,callback,processor){if(stackOfQueues.length===0){stackOfQueues.push([])}let queue=stackOfQueues[stackOfQueues.length-1];let ctx={urls:urls,modules:[],callback:callback,processor:processor};queue.push(ctx)}function require(urls,callback,processor){function f(urls,callback,processor){if(typeof urls===\"string\"&&urls.length>200){const blob=new Blob([urls],{type:\"application/javascript\"});const objUrl=URL.createObjectURL(blob);addTask([objUrl],(...args)=>{URL.revokeObjectURL(objUrl);callback(...args)},processor)}else if(typeof urls===\"string\"){addTask([urls],callback,processor)}else{addTask(urls,callback,processor)}next()}f(urls,callback,processor)}require.registerModule=function(url,module){cache[url]=module};require.registerLoader=function(url,loader){loadersMap[url]=loader};require.resource=function(url){if(idsMap[url]){url=idsMap[url]}if(bundleCache[url]===undefined){return url}if(!blobCache[url]){const ext=url.toLowerCase().substr(url.lastIndexOf(\".\")+1);const mimeType=MIMETYPES[ext]||\"application/octet-stream\";const data=bundleCache[url];let blob=null;if(formatsMap[url]===\"base64\"){const bytes=atob(data);const buffer=new Uint8Array(bytes.length);for(let i=0;i<bytes.length;++i){buffer[i]=bytes.charCodeAt(i)}blob=new Blob([buffer],{type:mimeType})}else{blob=new Blob([data],{type:mimeType})}const blobUrl=URL.createObjectURL(blob);blobCache[url]=blobUrl;bundleCache[url]=\"\"}return blobCache[url]};require.selfUrl=async function(){if(!hasDom){return\"\"}const tags=document.scripts;for(let i=0;i<tags.length;++i){const tag=tags[i];const response=await fetch(tag.src);if(!response.ok){continue}const code=await response.text();if(code.indexOf(UUID)!==-1){return tag.src}}return\"\"};if(hasDom){const scripts=document.getElementsByTagName(\"script\");for(let i=0;i<scripts.length;++i){let script=scripts[i];const bundlesString=script.getAttribute(\"data-bundle\");if(bundlesString&&bundlesString!==\"\"){const bundles=bundlesString.split(\",\");let count=bundles.length;bundles.forEach(bundle=>{nextScheduled=true;loadBundle(bundle.trim(),()=>{--count;if(count===0){nextScheduled=false;next()}})})}const main=script.getAttribute(\"data-main\");if(main&&main!==\"\"){require([main],function(module){})}}}console.log(\"Initialized Shellfish module manager.\");return require}();","shui-loader.js":"\"use strict\";shRequire([__dirname+\"/fengshui.js\"],fengshui=>{let haveShui=false;const resolver=name=>{return undefined};const scripts=document.getElementsByTagName(\"script\");for(let i=0;i<scripts.length;++i){const script=scripts[i];const shui=script.getAttribute(\"data-shui\");if(shui&&shui!==\"\"){fengshui.load(shui,null,resolver,o=>o.get().init());haveShui=true;break}}if(!haveShui){const s=window.location.search.substr(1);const parts=s.split(\"&\");parts.forEach(p=>{if(!haveShui){const item=p.split(\"=\");if(item[0]===\"shui\"){fengshui.load(item[1],null,resolver,o=>o.get().init());haveShui=true}}})}if(!haveShui){document.write(`\n            <h1>Failed to Load Shui Document</h1>\n            <p>\n            Please specify an entry point Shui document in the URL parameters, e.g.\n            <p>\n            <tt>https://example.com/index.html?shui=main.shui</tt>\n            <hr>\n            <i>Shellfish UI toolkit &copy; 2019 - 2020 Martin Grimme</i>\n        `)}});","style/core-icons.css":"/* Shellfish Icons Stylesheet\n *\n * Powered by Webfont - Awesome generator of webfont\n * https://github.com/itgalaxy/webfont\n */\n\n@font-face {\n    font-family: shellfish-icons-core;\n    src: url(data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAAtgAAsAAAAAHEQAAAsRAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHIU4BlYAiEQKnWSYbwtqAAE2AiQDgVAEIAWDZgeDLRudGCMRJo0ODrK/SLCJiNj9aEKzyDDqWGNmx0aVFaN4DvEMo/rUz+cvNY2VYu6xuz4avvRf8r/m/j27e5O/SR594pQYVTt5QCxMcTzgeBxfhbJCfb0Fdh8m57LpA2DSBqjE6tUIhB9LPD/1TkyJWTEC8vZtu4AS7C6RgAOMhp0PizShLqAogRX4hnDT7qB6F0zmwMSEVD3SOp0YnSjtjGTvyb8jU6Wdapg6IS/uILCpBtfqcd1C/e/XXpPiP5Pc4A3LysyWwMg6MiZCJu/D/N2X/fNa3gDxFhgdCVeJtCmhiqpmSyR82VYocrV1lRVSV6huw+UllVRyK69CnXcfbP5OggFMGx2Y8/GzV+HJgXIWY+oAAGAQtmQ5EQtAUiFC4JJfxXARbrYf970wg3lf2Az7wWZVkk/x3agzLVa5I1gmQYjFBkmKJgCmTOLWxoTJ5RTDsw1bJ2+nwwWQUQ1LxRgBIONaJkCERCg10nKJNo9Je4otLcckny0BcWaHNke3FmBayBSCAciQvimCxDPrkkA6bkDmil/VbU+89R5uXitQjA1xMQTCi9UyXWaSxYS0qxDpSSBT3lOYfmXIERdfcAJ60AGuRUYM0F3edS8yZl0wkg2HZBY7xk01TblChR0CyJg6IxQD6E9ejEMYlkvmQ4ClEW6IqtRJE0qHJLA9yJy8z0LDCiQ75nIpCrRGtFlsN9/azATckGDBksuux+XxhVIgDLD70IAf/C6Ae61Hzz5s7iTAaRFifxfXY2G8g1O7EPKNdOEMAAAaQADWMkDAHqr8DIFBUo157eQRwCRxnCOhUbssLABHQLrCnk9xnybTmCzBtpf++q3kFL3+y0MEoswUXP7TOQKWRATgxDX6/2aSwWRxcfPw8pmYmplbWFpZ29jaMVgPIZbi34HRx4wrLQ1jyUSQm8JYOIGVRAYYLojhG7aYTgSbApigINZSCOsojEUUwVKKYhnFsJLiWEUJrKA0llAGGyiLxZTDFOWxhgrYQkVMUgmbqIzlVMFqqmI91TBNdWymhmsjKwaw4gArAbAigJUGsNIBVj0AKwmwMgBWJsDKAli5AFZugJUHYOUFWPkAVr0Aqz6AVT/AagBgNQiwGgJYDQOsRgBWowCrMYDVOFAIYCshfuk3gW5AH2AAAF4CAIBxny6MTtTXEI0EXScwKcDj7kiBeBBxe6mHi3TDJolGZJ9uhGmutSSwCZtfXpCOtRpKV49JIAiiflKSUY8MhmKj9E5rYq8kwrkzHSnp6WpdusaroXwqZpaansXSKyHaER+C63IpxFtReCPk40IMcOstKAAQk12DO2IOBPBmuROqzmHxJVlUsjCdV4s2Kj28GCDWQwuxqCUW8/0+iIDEpUOUZkhv1ScbZs2qmM5ULREfcQ+Fx/wTlgSLvsDUkQBtGTWuiLl3WJ2oQCMnL8AANemrTSsjlx/fH3D2JCKE8yCFu4B1ogST+S3M/gudENx9oY0LIK0Qgql8GGsAtx/jlVpYN4OFpc3j3PM2816oUMjsCawDIOTvWYhxsqhAyPY5UfMh39n4uBvyZEnJORujrsfGkT9Wfxvv7TtWkSsOPRl7TsmLxOvm0lHo5Bjhaq9QxBqJd7exSmceWq0De0VI2GXeJNPmdYfttcu0D+olmHudfmgPrLf0DgaxqLB3lLwzMraJtnC4atto5UMt4SsTe5+Now+bxM2bN5k37IBd+OrwRtuhY132X+pvsVyNNQcCSDjZpy8Wd58IzuXf7m32+DbC41NNCBG+HWvE/dw+Buexwr20aFTENFbFrKT9Yz0CKu4h0gqPYTL/BHsDF1YAkAOEhAisISCGCGIVbhRiIoKTI0Qlgo/HtwrxCF6JEOUILmZvMgA9gAbQ4hvJ09ivQWyHkI8gvbBvZUHzYWHzkQLziRL9cS3AoE/hvhowQMlYhVYS6jcXsoCKqAuVozWqBagS26Fao9yYdVw9dcULAFAIspCA7JTc81Y2iVFpmDRCbgDH6kdLrgFzOPUBehijbhCVp+IvxtbKTaK8NvZi/Clftel9p/vsrR2XsEG8MmTFhkgbd164yEviBaY5GkJSAAzb+pMdsgzoaCMR7Ddb/QOyuBxAwih5KbeXR9mRY/tg/BeHIIClpYayBQu2kSozdPMggIfG+T+IUTuUFCr3UrZkp558d1XZwjNcdqA65szCJLXq3bHTOYHbz3GcVF/ZnegfWnJ7UpZLJEdGa/U5EAVJ6mjvxMA/5sq1c4nEd99tBH7SNTKbJzgTHF61mPaEWB9tB5KfK1+woBzUJz7wk6K9folzJ2D8tC4pl12DPN6X8I/O750eHx+2ZyF+c1v9zPzohg3E02nT7KnPp35Yg2fyHz/UuDQfglFg/idLcZ/2b+vnK+d1Tj8uZ75M3oGYm/Wk2e3e/hH+Tk4xjC4cW151zd293+eJ5Dh0NDK1Hhzpe22u6uCoOdbcceEXgp7ts2H2pmEex0aO1bBplT26OkbOyE15uXd5+WP357PQsF+vcLx1lTjYfmz9LYdtyZXr29bfHpL/5eT0TP42vzRJZTEXAC3WNUx8Q+815DQ9+P7bXt+9udUO/yg625qX6liSlnE0pUdxxXB2h797+PS07q7DycOaQ6NqJnRLqml7t+xUF/3zWX1Vfzfi/brXvRVZplR74XHv1/Ncy5/VBQLUjP7V9meR86MUY2Luw2Jy5pfSr896nt/v/gB+G0vtNpy4NRFt+juT21sjwt83X8qe6JdIUeaWJD9J+wKdd2bQNOMyuSIOOgBSBtID8zmzo550CJBkFBQg87aZe7ZMEMrOxkAJQnfhmL+3lJ3bmDC5cCEZ7kC1cCEu3IH7Bv6vAQNiFKASMhPs6olqXJqaE+BQbxtQpivsnjUoMiire6GujKqmRqldf2RIFXYfu6SUv8b9m2Yqq7/EiWZgiorzeCY3h20JTkX1Eu5ddpeo4ydriiTxF9w6Yx0OHOro6Gnmuj4VY1zBIMe98kqWMHGbMHH27IlC+UBDuTN/KPkW1bTYTQ9qtnnHzy1wOkv0Q2nRbx88B/oPfPHWLXt1IDFx2Nlff/nbwI7Px56wtc4xjk8+u767Ert1v+Vly/2tzmTvPzP/kruT7Tz6wNNiigHRaIZO+z1AFPKXH2olLfwSikeGVB8gBC4R+h+LQ9GibL+LAPJUJVTjGw2EF/NKig+CvVQwCLb9acc76b+0CKJq4T+QLEnifTIgQFpCRPttE2BQboWfI/qjF/7DyRlgq18uBNfNUAMWoNrnDyxbNQGYm92DeppALBB5NY2lX9ORKc20BhGJh74lsGSAkfygcR5xTZCqIOpqmiFHTSc90EzXvaiwLPf/stv7w/PCFpHX1JwYB9FMHxxs+FWNbf4uR43F4juyQmvj+zchr4nOfJGJl9yXiJCcoojLImIq0gKKrq+VcF3EKkng9Fm2WCBKwAmZTewzoCwifO0PGmxfqmI2+1YWZXtRlJNhO1MiMlppac60vctlcoqVZeu9FSjP2y2sLOola+Z6j0oyOeDITXj4tt5lipKsqJpumJbtuD4TUzNzC0sraxtbO3sQYrFhBMVwgqRoDpfHFwhFYolUJg8o8Iq5mvMC3tsV78aHWu5359Ol07KSF8E/Jt/BN0iv0MITfoGY82NMmbmi9geCQv8g15ksPODWCnRxv/IP8YqX/x4jhJSDhflw1GBhIPA44k8CO7vNA2P0qNHDIJ2FQXoIpWWsjSoll57BIONEQJoapKZ5Mki7YPYYSJyzgKKcGkdYVlpEVFmC9GzjKvKCQqoyGkrqCgE=) format('woff2');\n}\n\n[class^=\"sh-icon-core\"], [class*=\" sh-icon-core\"] {\n    /* use !important to prevent issues with browser extensions that change fonts */\n    font-family: shellfish-icons-core !important;\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.sh-icon-core-arrow_down:before { content: \"\\ea01\"; }\n.sh-icon-core-arrow_left:before { content: \"\\ea02\"; }\n.sh-icon-core-arrow_right:before { content: \"\\ea03\"; }\n.sh-icon-core-arrow_up:before { content: \"\\ea04\"; }\n.sh-icon-core-bug:before { content: \"\\ea05\"; }\n.sh-icon-core-calendar:before { content: \"\\ea06\"; }\n.sh-icon-core-done:before { content: \"\\ea07\"; }\n.sh-icon-core-drag_indicator:before { content: \"\\ea08\"; }\n.sh-icon-core-drive:before { content: \"\\ea09\"; }\n.sh-icon-core-file-empty:before { content: \"\\ea0a\"; }\n.sh-icon-core-file-image:before { content: \"\\ea0b\"; }\n.sh-icon-core-file-music:before { content: \"\\ea0c\"; }\n.sh-icon-core-file-openoffice:before { content: \"\\ea0d\"; }\n.sh-icon-core-file-pdf:before { content: \"\\ea0e\"; }\n.sh-icon-core-file-play:before { content: \"\\ea0f\"; }\n.sh-icon-core-file-text:before { content: \"\\ea10\"; }\n.sh-icon-core-file-video:before { content: \"\\ea11\"; }\n.sh-icon-core-folder:before { content: \"\\ea12\"; }\n.sh-icon-core-info:before { content: \"\\ea13\"; }\n.sh-icon-core-menu:before { content: \"\\ea14\"; }\n.sh-icon-core-minus:before { content: \"\\ea15\"; }\n.sh-icon-core-notification:before { content: \"\\ea16\"; }\n.sh-icon-core-plus:before { content: \"\\ea17\"; }\n.sh-icon-core-question:before { content: \"\\ea18\"; }\n.sh-icon-core-reset:before { content: \"\\ea19\"; }\n.sh-icon-core-time:before { content: \"\\ea1a\"; }\n.sh-icon-core-warning:before { content: \"\\ea1b\"; }\n\n","style/icons.css":"/*******************************************************************************\r\nThis file is part of the Shellfish UI toolkit.\r\nCopyright (c) 2019 - 2021 Martin Grimme <martin.grimme@gmail.com>\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy of\r\nthis software and associated documentation files (the \"Software\"), to deal in\r\nthe Software without restriction, including without limitation the rights to\r\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\nthe Software, and to permit persons to whom the Software is furnished to do so,\r\nsubject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n******************************************************************************/\r\n\r\n/* Shellfish Icon Library\r\n *\r\n * Icon Fonts:\r\n *  - IcoMoon (https://icomoon.io/#icons-icomoon, Designer: Keyamoon, License: CC BY 4.0)\r\n *  - Material Icons (https://material.io/tools/icons/, Designer: Google, License: Apache Lincense 2.0)\r\n */\r\n\r\n.sh-fw-icon {\r\n    display: inline-block;\r\n    text-align: center;\r\n    font-weight: 100;\r\n    vertical-align: middle;\r\n}\r\n\r\n/* animate the spinners */\r\n[class^=\"sh-icon-ui-spinner\"], [class*=\" sh-icon-ui-spinner\"] {\r\n    width: 1em;\r\n    line-height: 1em;\r\n    animation: sh-rotation-animation 1.5s infinite linear;\r\n}\r\n\r\n@keyframes sh-rotation-animation {\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n      transform: rotate(359deg);\r\n    }\r\n}\r\n","style/shellfish.css":"/*******************************************************************************\nThis file is part of the Shellfish UI toolkit.\nCopyright (c) 2017 - 2021 Martin Grimme <martin.grimme@gmail.com>\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\nthe Software, and to permit persons to whom the Software is furnished to do so,\nsubject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\nFOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\nIN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n******************************************************************************/\n\n:root {\n    --sh-selection-color: white;\n    --sh-selection-background-color: navy;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n*:focus {\n    outline: none;\n}\n\nbody {\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n\n    cursor: default;\n    \n    font-size: 0.5cm;\n    font-family: sans-serif;\n\n    /* disable Chrome's annoying back swipe gesture */\n    overscroll-behavior: contain;\n}\n\ndiv {\n    touch-action: inherit;\n}\n\ninput[type=text], input[type=password] {\n    border: none;\n    background-color: transparent;\n    background-image: none;\n    overflow: hidden;\n    font-size: 100%;\n}\n\ntextarea {\n    border: none;\n    background-color: transparent;\n    background-image: none;\n    resize: none;\n    overflow: hidden;\n    font-size: 100%;\n}\n\n.sh-underline {\n    text-decoration: underline;\n}\n\n.sh-bold {\n    font-weight: bold;\n}\n\n.sh-italic {\n    font-style: italic;\n}\n\n.sh-no-scrollbars {\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n}\n\n.sh-no-scrollbars::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n}\n\n.sh-hidden {\n    display: none !important;\n}\n\n.sh-disabled {\n    pointer-events: none;\n}\n\n.sh-text-selectable::selection {\n    color: var(--sh-selection-color);\n    background-color: var(--sh-selection-background-color);\n}\n\n.sh-blur {\n    -webkit-filter: blur(5px);\n       -moz-filter: blur(5px);\n        -ms-filter: blur(5px);\n         -o-filter: blur(5px);\n            filter: blur(5px);\n}\n\n.sh-dropshadow {\n    -webkit-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n       -moz-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.sh-translucent {\n    opacity: 0.66;\n}\n\ndiv.sh-layout-column {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    align-content: start;\n}\n\ndiv.sh-layout-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: flex-start;\n    align-content: start;\n}\n\ndiv.sh-layout-center-column {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n}\n\ndiv.sh-layout-center-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n}","style.js":"\"use strict\";var styles=[\"shellfish\",\"icons\",\"core-icons\"];shRequire(styles.map(s=>__dirname+\"/style/\"+s+\".css\"),()=>{});"},"aliases":{"shellfish/high":"core/high.js","shellfish/low":"core/low.js","shellfish/matrix":"core/mid/util/matrix.js","shellfish/vector":"core/mid/util/vec.js","shellfish/mid":"core/mid.js","core/ui/Button.shui":"core/ui/Button.shui.js","core/ui/Calendar.shui":"core/ui/Calendar.shui.js","core/ui/CheckBox.shui":"core/ui/CheckBox.shui.js","core/ui/DarkTheme.shui":"core/ui/DarkTheme.shui.js","core/ui/DatePicker.shui":"core/ui/DatePicker.shui.js","core/ui/Dialog.shui":"core/ui/Dialog.shui.js","core/ui/Document.shui":"core/ui/Document.shui.js","core/ui/FocusIndicator.shui":"core/ui/FocusIndicator.shui.js","core/ui/FSIcon.shui":"core/ui/FSIcon.shui.js","core/ui/FSTreeNode.shui":"core/ui/FSTreeNode.shui.js","core/ui/FSView.shui":"core/ui/FSView.shui.js","core/ui/Label.shui":"core/ui/Label.shui.js","core/ui/Loader.shui":"core/ui/Loader.shui.js","core/ui/Menu.shui":"core/ui/Menu.shui.js","core/ui/MenuItem.shui":"core/ui/MenuItem.shui.js","core/ui/MenuItemBase.shui":"core/ui/MenuItemBase.shui.js","core/ui/MenuSeparator.shui":"core/ui/MenuSeparator.shui.js","core/ui/Overlay.shui":"core/ui/Overlay.shui.js","core/ui/Page.shui":"core/ui/Page.shui.js","core/ui/PageHeader.shui":"core/ui/PageHeader.shui.js","core/ui/PageStack.shui":"core/ui/PageStack.shui.js","core/ui/PinchGesture.shui":"core/ui/PinchGesture.shui.js","core/ui/Placeholder.shui":"core/ui/Placeholder.shui.js","core/ui/ScrollIndicator.shui":"core/ui/ScrollIndicator.shui.js","core/ui/SelectionBox.shui":"core/ui/SelectionBox.shui.js","core/ui/Slider.shui":"core/ui/Slider.shui.js","core/ui/SpinBox.shui":"core/ui/SpinBox.shui.js","core/ui/SplitBox.shui":"core/ui/SplitBox.shui.js","core/ui/Switch.shui":"core/ui/Switch.shui.js","core/ui/TextArea.shui":"core/ui/TextArea.shui.js","core/ui/TextEntry.shui":"core/ui/TextEntry.shui.js","core/ui/Theme.shui":"core/ui/Theme.shui.js","core/ui/TimePicker.shui":"core/ui/TimePicker.shui.js","shellfish/ui":"core/ui.js","shellfish/fengshui":"fengshui.js","shellfish/preload":"preload.js"},"formats":{"core/high.js":"utf-8","core/low.js":"utf-8","core/mid/animation.js":"utf-8","core/mid/box.js":"utf-8","core/mid/cameraview.js":"utf-8","core/mid/canvas.js":"utf-8","core/mid/capabilities.js":"utf-8","core/mid/console.js":"utf-8","core/mid/davfs.js":"utf-8","core/mid/document.js":"utf-8","core/mid/draggable.js":"utf-8","core/mid/droparea.js":"utf-8","core/mid/fileselector.js":"utf-8","core/mid/filesystem.js":"utf-8","core/mid/fpsmeter.js":"utf-8","core/mid/frametimer.js":"utf-8","core/mid/fsmodel.js":"utf-8","core/mid/gamepad.js":"utf-8","core/mid/gamepadmodel.js":"utf-8","core/mid/gradientstop.js":"utf-8","core/mid/html.js":"utf-8","core/mid/image.js":"utf-8","core/mid/item.js":"utf-8","core/mid/label.js":"utf-8","core/mid/lineargradient.js":"utf-8","core/mid/listmodel.js":"utf-8","core/mid/listview.js":"utf-8","core/mid/mousebox.js":"utf-8","core/mid/numberanimation.js":"utf-8","core/mid/object.js":"utf-8","core/mid/offlinefs.js":"utf-8","core/mid/parallelanimation.js":"utf-8","core/mid/repeater.js":"utf-8","core/mid/ruler.js":"utf-8","core/mid/scriptaction.js":"utf-8","core/mid/sequentialanimation.js":"utf-8","core/mid/textarea.js":"utf-8","core/mid/textinput.js":"utf-8","core/mid/threadpool.js":"utf-8","core/mid/tilemap.js":"utf-8","core/mid/tileset.js":"utf-8","core/mid/timer.js":"utf-8","core/mid/util/bezier-easing.js":"utf-8","core/mid/util/color.js":"utf-8","core/mid/util/matrix.js":"utf-8","core/mid/util/mime.js":"utf-8","core/mid/util/vec.js":"utf-8","core/mid/video.js":"utf-8","core/mid/waitaction.js":"utf-8","core/mid/wasm.js":"utf-8","core/mid/websocket.js":"utf-8","core/mid.js":"utf-8","core/ui/Button.shui.js":"utf-8","core/ui/Calendar.shui.js":"utf-8","core/ui/CheckBox.shui.js":"utf-8","core/ui/DarkTheme.shui.js":"utf-8","core/ui/DatePicker.shui.js":"utf-8","core/ui/Dialog.shui.js":"utf-8","core/ui/Document.shui.js":"utf-8","core/ui/FocusIndicator.shui.js":"utf-8","core/ui/FSIcon.shui.js":"utf-8","core/ui/FSTreeNode.shui.js":"utf-8","core/ui/FSView.shui.js":"utf-8","core/ui/Label.shui.js":"utf-8","core/ui/Loader.shui.js":"utf-8","core/ui/Menu.shui.js":"utf-8","core/ui/MenuItem.shui.js":"utf-8","core/ui/MenuItemBase.shui.js":"utf-8","core/ui/MenuSeparator.shui.js":"utf-8","core/ui/Overlay.shui.js":"utf-8","core/ui/Page.shui.js":"utf-8","core/ui/PageHeader.shui.js":"utf-8","core/ui/PageStack.shui.js":"utf-8","core/ui/PinchGesture.shui.js":"utf-8","core/ui/Placeholder.shui.js":"utf-8","core/ui/ScrollIndicator.shui.js":"utf-8","core/ui/SelectionBox.shui.js":"utf-8","core/ui/Slider.shui.js":"utf-8","core/ui/SpinBox.shui.js":"utf-8","core/ui/SplitBox.shui.js":"utf-8","core/ui/Switch.shui.js":"utf-8","core/ui/TextArea.shui.js":"utf-8","core/ui/TextEntry.shui.js":"utf-8","core/ui/Theme.shui.js":"utf-8","core/ui/TimePicker.shui.js":"utf-8","core/ui.js":"utf-8","fengshui.js":"utf-8","index.html":"base64","preload.js":"utf-8","require.js":"utf-8","shui-loader.js":"utf-8","style/core-icons.css":"utf-8","style/icons.css":"utf-8","style/shellfish.css":"utf-8","style.js":"utf-8"}}